{"version":3,"sources":["constants/listaRutas.js","views/Index.js","constants/config.js","services/requestHelper.js","services/apiUsuario.js","services/authToken.js","views/Login.js","context/User/UserContext.js","context/types.js","context/User/UserReducer.js","context/User/UserState.js","components/layout/Sider/MenuUsuario.js","components/layout/Sider/index.js","components/layout/Header/Notificaciones.js","components/layout/Header/OpcionesUsuario.js","components/layout/index.js","components/layout/PrivateLayout.js","components/common/Contenedor.js","components/common/TituloContent.js","services/apiEmpleado.js","constants/metodos.js","constants/avatares.js","views/PerfilUsuario.js","routes/perfilUsuario.js","services/socket.js","constants/colores.js","constants/valoresToa.js","components/dashboard/IndicadoresLiquidacion/ResumenOrdenes.js","constants/tipoOrden.js","components/dashboard/ChartProduccion.js","components/dashboard/IndicadoresLiquidacion/index.js","libraries/capitalizar.js","components/dashboard/IndicadoresActividad/columnasResumen.js","components/dashboard/IndicadoresActividad/ChartActividad.js","components/dashboard/IndicadoresActividad/TabIndicadorActividad.js","libraries/separarField.js","components/dashboard/IndicadoresActividad/index.js","components/dashboard/IndicadoresTCFL/IndicadorPorcentaje.js","components/dashboard/IndicadoresTCFL/ModalDetalleOrden.js","components/dashboard/IndicadoresTCFL/TablaDetalle.js","components/dashboard/IndicadoresTCFL/index.js","components/dashboard/IndicadoresProduccion/index.js","routes/dashboard.js","views/Dashboard/ResumenGeneral.js","services/apiAreas.js","components/sistemas/confEmpleados/ModalArea.js","components/sistemas/confEmpleados/ConfiguracionAreas.js","services/apiCargos.js","components/sistemas/confEmpleados/ModalCargo.js","components/sistemas/confEmpleados/ConfiguracionCargos.js","services/apiTipoEmpleados.js","services/apiVistas.js","routes/sistemas/configuracionEmpleados.js","views/Sistemas/ConfiguracionEmpleados/Areas.js","views/Sistemas/ConfiguracionEmpleados/Cargos.js","views/Sistemas/ConfiguracionEmpleados/TipoEmpleados.js","views/Sistemas/ConfiguracionEmpleados/Vistas.js","views/Sistemas/ConfiguracionEmpleados/Zonas.js","routes/sistemas/index.js","components/gestionEmpleados/personal/HeaderEmpleados.js","constants/cargos.js","constants/estadoEmpleado.js","components/gestionEmpleados/personal/EmpleadoTag.js","components/gestionEmpleados/personal/ModalEmpleado.js","services/apiContrata.js","services/apiZonas.js","components/gestionEmpleados/personal/ModalDetalle.js","libraries/obtenerFiltro.js","components/gestionEmpleados/personal/ModalPermisos.js","components/gestionEmpleados/personal/ModalEstado.js","components/gestionEmpleados/personal/ModalConfiguracion.js","components/gestionEmpleados/personal/TablaEmpleados.js","components/gestionEmpleados/contrata/ModalContrata.js","components/gestionEmpleados/contrata/ModalEliminar.js","components/gestionEmpleados/contrata/TablaContratas.js","routes/gestionPersonal.js","views/GestionPersonal/ListaPersonal.js","views/GestionPersonal/ListaContratas.js","components/operativa/listaRutas/asignarRutas/TablaRutasOperativas.js","components/operativa/listaRutas/asignarRutas/ModalAsignar.js","components/operativa/listaRutas/asignarRutas/TablaRutasApoyo.js","views/Operativa/ListaRutas/AsignarRutas.js","services/apiAsistencia.js","libraries/ordenarAsistencias.js","constants/estadoAsistencia.js","components/operativa/listaRutas/asistencias/ModalCrearAsistencia.js","components/operativa/listaRutas/asistencias/EstadoAsistenciaTag.js","components/operativa/listaRutas/asistencias/generarColumnas.js","components/operativa/listaRutas/asistencias/ModalEditarAsistencia.js","components/operativa/listaRutas/asistencias/ModalRegistroAsistencia.js","components/excelExports/ExcelAsistencia/ExcelAsistenciaDefault.js","components/excelExports/ExcelAsistencia/ExcelAsistenciaTecnico.js","components/excelExports/ExcelAsistencia/ExcelAsistenciaSemillero.js","components/excelExports/ExcelAsistencia/index.js","components/operativa/listaRutas/asistencias/TablaAsistenciaCargo.js","routes/operativa/listaRutas.js","views/Operativa/ListaRutas/Asistencias.js","constants/valoresOrdenes.js","components/operativa/administrarOrdenes/TagEstado.js","services/apiOrden.js","components/operativa/administrarOrdenes/columnas/PopObservacion.js","components/common/TagHoras.js","components/operativa/gestionarOrdenes/columnas/columnasPendientesGestor.js","components/operativa/gestionarOrdenes/columnas/columnasSinBandejaGestor.js","components/operativa/administrarOrdenes/ModalsTabla/ModalDetalleOrden.js","components/operativa/gestionarOrdenes/ModalColumnas.js","components/operativa/gestionarOrdenes/TablaOrdenes.js","components/operativa/administrarOrdenes/ModalsTabla/ModalRegistro.js","components/operativa/administrarOrdenes/ModalsTabla/ModalInfancia.js","components/operativa/administrarOrdenes/ModalsTabla/ModalReiterada.js","libraries/convertirBase64.js","components/operativa/administrarOrdenes/ModalsTabla/ModalEstado.js","components/operativa/gestionarOrdenes/ModalAgendarTecnico.js","components/operativa/administrarOrdenes/ModalsTabla/ModalAsignar.js","libraries/colorEstado.js","components/excelExports/ExcelOrdenesPendientes.js","components/operativa/gestionarOrdenes/OrdenesPendientesGestor.js","components/operativa/administrarOrdenes/columnas/columnasLiquidadas.js","components/excelExports/ExcelOrdenesLiquidadas.js","components/operativa/gestionarOrdenes/columnas/columnasLiquidadasGestor.js","components/operativa/administrarOrdenes/OrdenesLiquidadas.js","components/operativa/gestionarOrdenes/OrdenesSinAsignar.js","views/Operativa/Gestionar/ListaOrdenes.js","routes/operativa/gestionarAsistencia.js","views/Operativa/GestionarAsistencia.js","libraries/convertirExcel.js","libraries/numeroFecha.js","libraries/asignarValores/asignarAverias.js","libraries/asignarValores/asignarAltas.js","libraries/asignarValores/index.js","libraries/fragmentarArray.js","components/operativa/administrarOrdenes/ActualizarOrdenes.js","components/common/TagDias.js","components/operativa/administrarOrdenes/columnas/columnasOrdenes.js","components/operativa/administrarOrdenes/TablaOrdenesPendientes.js","components/operativa/administrarOrdenes/ModalsTabla/ModalAgendar.js","components/operativa/administrarOrdenes/OrdenesPendientes.js","components/operativa/administrarOrdenes/columnas/columnasOtrasBandejas.js","components/operativa/administrarOrdenes/OrdenesExternas.js","views/Operativa/Administrar/AdministrarAverias.js","components/operativa/administrarOrdenes/columnas/columnasAnuladas.js","components/operativa/administrarOrdenes/OrdenesAnuladas.js","views/Operativa/Administrar/AdministrarAltas.js","routes/operativa/administrarOrdenes.js","views/Operativa/Administrar/AdministrarBasicas.js","views/Operativa/Administrar/AdministrarSpeedy.js","routes/operativa/index.js","routes.js","components/layout/NotFound.js","components/layout/PrivateRoute.js","App.js","serviceWorkerRegistration.js","index.js"],"names":["rutas","Index","href","variables","urlApi","public","socket","TOKEN_STORAGE_KEY","logoPath","logoFull","version","formatosAdmitidos","restAuth","config","a","closeLoading","cogoToast","loading","hideAfter","position","role","newAxiosRequest","axios","create","baseURL","then","data","hide","success","message","errors","error","Error","catch","err","response","console","log","errData","undefined","Object","keys","warn","request","restPrivate","toast","headers","Authorization","Cookie","get","status","String","remove","document","location","login","url","method","session","logout","AuthToken","token","this","decodedToken","nombre","id","cargo","imagen","gestor","exp","jwtDecode","e","isExpired","Date","expiresAt","Login","history","useHistory","values","set","push","useEffect","isValid","type","justify","align","style","backgroundColor","height","xs","sm","md","lg","xl","className","name","initialValues","remember","onFinish","Item","hasFeedback","rules","required","autoComplete","prefix","UserOutlined","placeholder","min","Password","LockOutlined","htmlType","UserContext","createContext","GET_VIEWS","state","action","payload","views","length","map","ruta","UserState","props","useReducer","UserReducer","dispatch","getViews","Provider","value","children","SubMenu","Menu","Divider","ItemGroup","getPath","window","pathname","substring","items","titulo","grupo","key","icon","DashboardOutlined","CoffeeOutlined","TeamOutlined","IdcardOutlined","CarryOutOutlined","FileSearchOutlined","ScheduleOutlined","MenuUsuario","useContext","theme","mode","defaultSelectedKeys","i","some","includes","title","c","to","sub","Sider","Layout","collapsed","width","breakpoint","trigger","collapsible","alt","src","notifications","Notificaciones","useState","visible","setVisible","placement","overlayClassName","onVisibleChange","v","content","minWidth","itemLayout","dataSource","locale","emptyText","renderItem","item","Meta","lines","description","RightOutlined","count","dot","offset","BellOutlined","OpcionesUsuario","usuario","setUsuario","auth","cerrarSesion","color","marginRight","marginLeft","Text","SettingOutlined","onClick","PoweroffOutlined","PrivateLayout","WrappedComponent","spin","vistas","context","setState","spinLoading","Component","contextType","setCollapsed","styleFooter","margin","padding","transition","clear","left","bottom","right","spinning","tip","size","Header","classnames","MenuUnfoldOutlined","MenuFoldOutlined","Content","minHeight","marginTop","Footer","Contenedor","borderRadius","span","WebkitBoxShadow","MozBoxShadow","boxShadow","TituloVista","routes","breadcrumbName","subtitulo","breadcrumb","getEmpleados","metodo","params","patchEmpleados","fecha_baja","estado_empresa","auditor","negocio","subNegocio","columnas","tecnico","tecnicos","password","newPassword1","newPassword2","postEmpleados","email","empleado","putEmpleados","ordenes","metodos","AREA_CREAR","AREA_ACTUALIZAR","AREA_BORRAR","ASISTENCIA_CREAR","ASISTENCIA_ACTUALIZAR","CARGO_CREAR","CARGO_ACTUALIZAR","CARGO_BORRAR","CONTRATA_CREAR","CONTRATA_LISTAR_TODO","CONTRATA_LISTAR_NOMBRES","CONTRATA_EDITAR","CONTRATA_BAJA","PERFIL_USUARIO","EMPLEADOS_LISTAR_TODO","EMPLEADOS_LISTAR_AUDITORES","EMPLEADOS_LISTAR_SUPERVISORES","EMPLEADOS_LISTAR_GESTORES","EMPLEADOS_LISTAR_TECNICOS","EMPLEADOS_LISTAR_APOYO","EMPLEADOS_CREAR","EMPLEADOS_ACTUALIZAR","EMPLEADOS_LISTAR_COLUMNAS","EMPLEADOS_ACTUALIZAR_COLUMNAS","EMPLEADOS_CAMBIAR_PASS","EMPLEADOS_RESET_PASS","EMPLEADOS_CERRAR_SESION","EMPLEADOS_ACTUALIZAR_PERMISOS","EMPLEADOS_ACTIVAR_CUENTA","EMPLEADOS_EDITAR_ESTADO_EMPRESA","EMPLEADOS_ACTUALIZAR_RUTA","ORDENES_SUBIR_DATA","ORDENES_COMPROBAR_INFANCIAS","ORDENES_ACTUALIZAR_LIQUIDADAS","ORDENES_OBTENER_LIQUIDADAS","ORDENES_OBTENER_OTRAS_BANDEJAS","ORDENES_OBTENER_ANULADAS","TIPOEMPLEADO_CREAR","TIPOEMPLEADO_ACTUALIZAR","TIPOEMPLEADO_BORRAR","VISTA_CREAR","VISTA_ACTUALIZAR","VISTA_BORRAR","ZONA_CREAR","ZONA_ACTUALIZAR","ZONA_BORRAR","avatares","Option","Select","path","listaRutas","exact","component","loadingUsuario","setLoadingUsuario","loadingActualizar","setLoadingActualizar","loadingContraseña","setLoadingContraseña","usuarioObj","setUsuarioObj","setPassword","setNewPassword1","setNewPassword2","finally","_id","limpiarInputs","cargarPerfil","cambiarInput","field","justifyContent","display","direction","addonBefore","onChange","currentTarget","marginBottom","apellidos","target","nacionalidad","fecha_nacimiento","moment","_","tipo_documento","numero_documento","Group","img","xxl","io","transports","secure","reconnection","colores","warning","Pendiente","Completado","Iniciado","Suspendido","Cancelado","NoRealizada","gponAltas","hfcAltas","gponAverias","hfcAverias","gponRutinas","hfcRutinas","estadosToa","bajas","ordenesB2B","ResumenOrdenes","filter","estado_toa","valueStyle","CheckCircleOutlined","AlertOutlined","tipoOrdenes","tipoTecnologia","tipoNegocio","text","subTipoNegocio","nodosLiteyca","ChartProduccion","paddinLeft","alignItems","autoFit","transpose","shape","animate","enter","duration","label","tooltip","hora","dataGestoresLiquidados","setDataGestoresLiquidados","completadas","gestor_liquidado_toa","estado","gestores","completo","listaOrdenada","forEach","cantidad","ordenesGestores","tipo","subtipo_actividad","capitalizar","string","charAt","toUpperCase","slice","columnasResumen","dataIndex","ellipsis","showTitle","render","t","sorter","b","completado","o","iniciado","IssuesCloseOutlined","no_realizada","pendiente","suspendido","cancelado","total","columnasTotal","pageData","totalC","totalI","totalN","totalP","totalS","totalCan","totalT","Summary","Row","Cell","FieldTimeOutlined","ChartActividad","val","adjust","marginRatio","fields","callback","fill","fontSize","fontWeight","shared","TabIndicadorActividad","dataChart","background","rowKey","columns","pagination","summary","separarBucket","buckets","estados","newData","bucket","numOrdenes","d","separarContrata","contratas","contrata","g","separarGestor","ordenarResumen","tipos","nuevaData","ordenarResumenId","Typography","TabPane","Tabs","setNegocio","tecnologia","setTecnologia","ordenesFiltradas","setOrdenesFiltradas","Promise","resolve","filtroNegocio","filtroTecnologia","data2","averiaActicidad","altaActividad","rutinaActicidad","hfc","gpon","aplicarFiltros","disabled","paddingLeft","animated","tab","DatabaseOutlined","UsergroupAddOutlined","IndicadorPorcentaje","plazo","vencidas","porcentaje","textAlign","gutter","format","p","strokeColor","percent","strokeWidth","gapDegree","trailColor","showInfo","ModalDetalleOrden","abrir","horas","columnasDetalle","__","r","copyable","f","row","fecha_pre_no_realizado","diff","onOk","onCancel","footer","centered","pageSize","bordered","scroll","y","x","TablaDetalle","setLoading","modalDetalle","setModalDetalle","ordenesDetalle","setOrdenesDetalle","setHoras","setTimeout","abrirModalDetalle","indexNameColorMap","green","typeNameMap","vencido","appendPadding","indexCode","abrirDetalle","itemName","formatter","showMarkers","columnTitle","offsetY","eachView","view","facet","coordinate","columnIndex","axis","tickLine","line","columnValue","interval","interaction","altas","setAltas","averias","setAverias","tipoAgenda","setTipoAgenda","bucketDetalle","setBucketDetalle","contrataDetalle","setContrataDetalle","gestorDetalle","setGestorDetalle","obtenerTcfl","fecha_registro_legados","Math","round","generarObjeto","averiasPlazo","averiasVencidas","altasPlazo","altasVencidas","averiasActividad","altasActividad","todoOrdenes","ordenesAgendas","tipo_cita","toLowerCase","averiasTCFL","altasTCFL","bucketsChart","obj","filtrarBucket","contratasChart","filtrarContrata","gestoresChart","filtrarGestor","filtrarOrdenes","checked","todo","listaContratas","setListaContratas","contrataSeleccionada","setContrataSeleccionada","filtradosAverias","setFiltradosAverias","filtradosAltas","setFiltradosAltas","heightChart","setHeightChart","filtrarData","ordenesF","condicion","aux","replace","listarContratas","tamaño","setOrdenes","horaActualizado","setHoraActualizado","emit","on","jsonAverias","Array","JSON","parse","jsonAltas","off","IndicadoresLiquidacion","IndicadoresActividad","IndicadoresTCFL","IndicadoresProduccion","getAreas","TextArea","Input","ModalArea","guardar","setNombre","descripcion","setDescripcion","destroyOnClose","rows","ConfiguracionAreas","listaAreas","setListaAreas","loadingAreas","setLoadingAreas","loadingCrear","modalArea","setModalArea","objArea","setObjArea","listarAreas","abrirModalArea","crearArea","EditTwoTone","editarArea","cursor","twoToneColor","okText","cancelText","DeleteTwoTone","LoadingOutlined","sping","SaveOutlined","getCargos","postCargo","putCargo","ModalCargo","setId","nivel","setNivel","ConfiguracionCargo","listaCargos","setListaCargos","loadingCargos","setLoadingCargos","modalEditar","setModalEditar","modalCrear","setModalCrear","objCargo","setObjCargo","listarCargos","abrirModalCrear","abrirModalEditar","crearCargo","editarCargo","getTipoEmpleados","getVistas","postVista","lisaRutas","listaVistas","setListaVistas","listaTipos","setListaTipos","tituloRuta","setTituloRuta","setRuta","areasSeleccionadas","setAreasSeleccionadas","cargosSeleccionados","setCargosSeleccionados","tiposSeleccionados","setTiposSeleccionados","loadingGuardar","setLoadingGuardar","loadingVistas","setLoadingVistas","cargos","tipos_empleado","areas","listarVistas","listarTipoEmpleados","widt","area","options","rutasSistemas","configuracionEmpleados","Search","niveles","estadoEmpleado","ACTIVO","SUSPENDIDO","INACTIVO","CargoTag","EstadoTag","ExclamationCircleOutlined","CloseCircleOutlined","ModalEmpleado","accion","zonas","carnet","empleadoObj","setEmpleadoObj","tipo_empleado","okButtonProps","cancelButtonProps","column","fecha_ingreso","toDate","observacion","getContratas","postContrata","putContrata","patchContrata","getZonas","ModalDetalle","abrirModal","layout","obtenerFiltroId","persona","filtrosArray","isNull","findIndex","obtenerFiltroNombre","ModalPermisos","listarEmpleados","setCargo","defaultValue","ModalEstado","setEstado","fechaBaja","setFechaBaja","ModalConfiguracion","modalPermisos","setModalPermisos","modalEstados","setModalEstados","actualizarEmpleado","block","CaretUpOutlined","danger","TablaEmpleados","totalEmpleados","setTotalEmpleados","dataEmpleados","setDataEmpleados","objEmpleado","setObjEmpleado","idEmpleado","setIdEmpleado","modalConfiguraciones","setModalConfiguraciones","listaZonas","setListaZonas","filtroCargos","setFiltroCargos","filtroTipos","setFiltroTipos","filtroAreas","setFiltroAreas","filtroContratas","setFiltroContratas","listarTipos","listarZonas","abrirModalConfigurar","u","filters","onFilter","indexOf","fixed","paddingRight","SettingTwoTone","configurarEmpleado","onRow","record","onDoubleClick","tipoBusqueda","setTipoBusqueda","paddingTop","allowClear","enterButton","PlusOutlined","HeaderEmpleados","defaultPageSize","pageSizeOptions","ModalContrata","dataZonas","setZonas","ruc","setRuc","fecha_incorporacion","setFecha_incorporacion","setObservacion","limpiarEstados","utc","date","ModalEliminar","activo","setActivo","setFecha_baja","limpiarModal","TablaContratas","dataContratas","setDataContratas","setDataZonas","modalEliminar","setModalEliminar","setContrata","cargarContratas","abrirModalEliminar","cargarZonas","TituloContent","valoresTecnicos","supervisor","tipo_negocio","sub_tipo_negocio","TablaRutasOperativas","loadingGestores","auditores","loadingAuditores","supervisores","loadingSupervisores","totalTecnicos","setTotalTecnicos","dataTecnicos","setDataTecnicos","loadingTecnicos","setLoadingTecnicos","loadingAsignar","setLoadingAsignar","tecnicosSeleccionados","setTecnicosSeleccionados","tipoSeleccionado","setTipoSeleccionado","filtroContrata","setFiltroContrata","filtroGestor","setFiltroGestor","filtroAuditor","setFiltroAuditor","filtroSupervisor","setFiltroSupervisor","filtros","setFiltros","saveAsCsv","useJsonToCsv","cargarEmpleados","asignarTecnico","dataSend","generarFiltros","exportarTecnicos","filename","realizarBusqueda","valor","filteredValue","showSearch","filterOption","input","option","n","currentDataSource","rowSelection","columnWidth","selectedRowKeys","ExportOutlined","ModalAsignar","tecnicoSeleccionado","setTecnicoSeleccionado","afterClose","TablaRutasApoyo","listaSemilleros","setListaSemilleros","listaTecnicos","setListaTecnicos","loadingSemilleros","setLoadingSemilleros","filtroCargo","setFiltroCargo","filtroTecnico","setFiltroTecnico","modalAsignar","setModalAsignar","IdSemillero","setIdSemillero","cargarSemilleros","cargarTecnicos","abrirModalAsignar","CheckSquareTwoTone","asignarEmpleado","getAsistencias","fechaInicio","fechaFin","postAsistencias","asistencia","patchAsistencia","nuevoArray","fecha_asistencia","objetoNuevo","fecha_iniciado","historial_registro","dni","ordenarTecnicos","ordenarOtros","ordenarDefault","estadoAsistencia","FALTA","ASISTIO","TARDANZA","DESCANSO","PERMISO","DESCANSO_MEDICO","EXAMEN_MEDICO","VACACIONES","BAJA","GUARDIA","ModalCrearAsistencia","actualizar","fecha","setLoadingCrear","estadoSeleccionado","setEstadoSeleccionado","EstadoAsistenciaTag","dias","editar","registro","listar","listaDias","filtroGestores","filtroAuditores","hoy","aux2","splice","overlay","EditOutlined","SolutionOutlined","columnasTecnico","columnasSemilleros","columnasDefault","ModalEditarAsistencia","ModalRegistroAsistencia","ExcelAsistenciaDefault","exportarRef","useRef","colorCelda","AntColores","primary","headerOptions","bold","wrap","autoWidth","workbookOptions","sheets","indexEstado","indexEncontrados","cells","cell","borderBottom","borderLeft","borderRight","borderTop","save","guardarArchivo","current","fileName","ref","locked","headerCellOptions","cellOptions","ExcelAsistenciaTecnico","ExcelAsistenciaSemillero","RangePicker","DatePicker","TablaAsistenciaCargo","dataAsistencias","setDataAsistencias","loadingAsistencia","setLoadingAsistencia","cargoSeleccionado","setCargoSeleccionado","startOf","diaInicio","setDiaInicio","endOf","diaFin","setDiaFin","setListaDias","setColumnas","modalRegistro","setModalRegistro","idAsistencia","setIdAsistencia","setRegistro","fechaRegistro","setFechaRegistro","setFiltroGestores","setFiltroAuditores","listarAsistencias","ordenarAsistencias","resultado","listarRegistro","dia","abrirModalRegistro","cambiarRango","cargarCargos","generarColumnas","editarAsistencia","days","add","defaultActiveFirstOption","SearchOutlined","ExcelAsistencia","array","listaGestores","setListaGestores","setLoadingGestores","listaAuditores","setListaAuditores","setLoadingAuditores","listaSupervisores","setListaSupervisores","setLoadingSupervisores","cargarGestores","cargarAuditores","cargarSupervisores","GlobalOutlined","PartitionOutlined","cabecera","propiedad","cabecera_2","averiasDireccion","espacio","cabecera_3","hfcLiquidadas","listaBuckets","listaEstadosGestor","codigosLiquidadasEfectivas","codigosLiquidadasInefectivas","codigosLiquidadasNoCorresponde","TagEstado","getOrdenes","codigo_cliente","id_ordenes","postOrdenes","ordenesExternas","orden","putOrdenes","patchOrdenes","fecha_cita","patchFilesOrdenes","PopObservacion","listarOrdenes","cancelarPop","codigo_requerimiento","onConfirm","TagHoras","columnasBaseGestor","filtroTipo","filtroTimeSlot","abrirRegistro","req","strong","tipo_agenda","ts","fecha_registro","PlusCircleTwoTone","columnasPendientesGestor","filtroDistrito","filtroBucket","filtroEstadoToa","filtroEstadoGestor","filtroTecnicoAsignado","filtroTipoRequerimiento","filtroTipoTecnologia","filtroCtr","filtroNodo","filtroTroba","abrirReiterada","abrirInfancia","tipo_requerimiento","tipo_tecnologia","codigo_ctr","codigo_nodo","codigo_troba","numero_reiterada","infancia","inf","distrito","direccion","bckt","estado_gestor","tecnico_liteyca","ordenDetalle","setOrdenDetalle","loadingDetalle","setLoadingDetalle","buscarDetalleOrden","telefono_contacto","telefono_referencia","nombre_cliente","detalle_trabajo","observacion_gestor","observacion_toa","codigo_peticion","codigo_trabajo","ModalColumnas","columnasBase","columnasUsuario","columnasSeleccionadas","setColumnasSeleccionadas","guardarConfiguracion","targetKeys","titles","listStyle","TablaOrdenes","asignadas","ordenesSeleccionadas","setOrdenesSeleccionadas","setColumnasUsuario","setFiltroDistrito","setFiltroBucket","setFiltroEstadoToa","setFiltroEstadoGestor","setFiltroTecnicoAsignado","setFiltroTipo","setFiltroTipoRequerimiento","setFiltroTipoTecnologia","setFiltroCtr","setFiltroNodo","setFiltroTroba","setFiltroTimeSlot","idOrdenDetalle","setIdOrdenDetalle","modalColumnas","setModalColumnas","setTipo","obtenerColumnasGestor","establacerFiltros","abrirModalColumnas","columnasAux","index","newColumns","base","generarColumnasGestor","columnasSinBandejaGestor","registros","previewVisible","setPreviewVisible","previewImage","setPreviewImage","imagenPreview","EyeTwoTone","ModalInfancia","carnet_liquidado","ModalReiterada","dataOrdenes","setDataOrdenes","buscarReiteradas","cliente","getBase64","file","reject","reader","FileReader","readAsDataURL","onload","result","onerror","actualizarEstado","fileList","setFileList","convertirBase64","originFileObj","preview","accept","listType","beforeUpload","lista","onRemove","nuevaLista","uid","onPreview","multiple","UploadOutlined","ModalAgendarTecnico","agendar","bucketSeleccionado","setBucketSeleccionado","fechaCita","setFechaCita","loadingAgendar","setLoadingAgendar","agendarOrden","confirmLoading","asignar","gestorSeleccionado","setGestorSeleccionado","tecnicoIndexSeleccionado","setTecnicoIndexSeleccionado","listaTecnicosOrdenado","setListaTecnicosOrdenado","tipoAsignar","setTipoAsignar","ordenarListaTecnicos","asignarOrden","gestor_liteyca","tecnicosGestor","inputValue","colorEstado","colorHora","Number","colorDia","ExcelOrdenesPendientes","exportarExcel","infancia_registro","infancia_liquidado","fecha_liquidado","fecha_asignado","horas_registro","horas_asignado","dias_asignado","indexTipo","indexEstadoGestor","indexHoraRegistro","indexHoraAsignado","indexDiaAsignado","indexFechaCita","heigth","OrdenesPendientesGestor","listaOrdenes","setListaOrdenes","loadingOrdenes","setLoadingOrdenes","dataRegistros","setDataRegistros","dataInfancia","setDataInfancia","loadingEstado","setLoadingEstado","loadingRegistro","setLoadingRegistro","loadingExportar","setLoadingExportar","modalAgendar","setModalAgendar","modalReiterada","setModalReiterada","modalInfancia","setModalInfancia","modalEstado","setModalEstado","codigoCliente","setCodigoCliente","ordenesMetodo","buscarInfancia","buscarRegistro","id_orden","files","orden_imagen","FormData","append","stringify","abrirModalEstado","abrirModalAgendar","abrirModalReiterada","abrirModalInfancia","auxData","ReloadOutlined","UserSwitchOutlined","FileSyncOutlined","onSearch","arrow","ModalRegistro","ExcelOrdenesLiquidadas","numero","actualizarEstadoData","indexEstadoLiquidado","OrdenesLiquidadas","loadingBuscar","setLoadingBuscar","setFiltroTecnologia","setFechaInicio","setFechaFin","tecnico_liquidado","columnasLiquidadasGestor","columnasGenerales","columnasAverias","columnasAltas","columnasOrdenesLiquidadas","OrdenesSinAsignar","UnorderedListOutlined","InfoCircleOutlined","excel","rABS","readAsBinaryString","event","bstr","wb","XLSX","bookVBA","wsname","SheetNames","ws","Sheets","sheet_to_json","objeto","reduce","k","trim","readAsArrayBuffer","numeroFecha","numeroDeDias","setHours","getHours","unirHoraFecha","mes","anio","fechaCompleta","pendientesAverias","promises","indice","verificado","isEmpty","isNaN","valores","substr","all","liquidadasAverias","efectivas","inEfectivas","noCorresponde","iTecnico","tipo_liquidacion","estado_liquidado","pendientesAltas","liquidadasAltas","asignarValores","fragmentarArray","inicio","cantidadAux","dataAux","ActualizarOrdenes","tipoOrden","estadoOrden","setEstadoOrden","estadoArchivo","setEstadoArchivo","nombreArchivo","setNombreArchivo","ordenesObtenidas","setOrdenesObtenidas","ordenesTotal","setOrdenesTotal","loadingButton","setLoadingButton","setResultado","enviarOrdenesPendientes","info","res","resultadoAux","infoResponse","now","enviarOrdenesLiquidadas","spellCheck","convertirExcel","objJson","suffix","TagDias","ColumnasOrdenes","filtroGestorAsignado","filtroTecnicoToa","filtroTipoReq","filtroPai","filtroObservacion","filtroFechaCita","columnasGeneral","aling","indicador_pai","toString","dataTotal","setDataTotal","setFiltroGestorAsignado","setFiltroTecnicoToa","setFiltroTipoReq","setFiltroPai","setFiltroObservacion","setFiltroFechaCita","cantidadFiltrados","setCantidadFiltrados","obtenerFiltroFecha","buscarRequerimiento","columnasOrdenes","ModalAgendar","OrdenesPendientes","loadingCruzar","setLoadingCruzar","loadingComprobarInfancias","setLoadingComprobarInfancias","loadingInfancia","setLoadingInfancia","CloudSyncOutlined","SyncOutlined","ClearOutlined","TablaOrdenesPendientes","columnasOtrasBandejas","agenda","OrdenesExternas","columnasOrdenesAnuladas","OrdenesAnuladas","CloudUploadOutlined","BugOutlined","rutasOperativa","gestionarAsistencia","administrarOrdenes","arregloRutas","perfilUsuario","dashboard","sistemas","gestionPersonal","operativa","NotFound","subTitle","extra","PrivateRoute","rest","App","es_ES","route","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","update","onUpdate","onSuccess","ReactDOM","getElementById","process","URL","origin","addEventListener","fetch","contentType","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"wSAAaA,G,OACJ,UADIA,EAEI,kBAFJA,EAIK,6BAJLA,EAMJ,0CANIA,EAOH,2CAPGA,EAQI,mDARJA,EASH,2CATGA,EAUJ,0CAVIA,EAYI,uBAZJA,EAaK,wBAbLA,EAeG,iCAfHA,EAgBM,+BAhBNA,EAiBM,uCAjBNA,EAkBI,qCAlBJA,EAmBG,mCAnBHA,EAoBE,kCApBFA,EAqBU,mBArBVA,EAsBY,uCAtBZA,EAuBe,0CCpBb,SAASC,IACtB,OACE,8BACE,mBAAGC,KAAMF,EAAT,qB,oICOSG,EAbG,CAGhBC,OAAQ,yBACRC,OAAQ,sBACRC,OAAQ,oBACRC,kBAAmB,mBACnBC,SAAU,YACVC,SAAU,aACVC,QAAS,SACTC,kBAAmB,CAAC,2BAA4B,sECArCC,EAAQ,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,6DAEhBC,EAAeC,IAAUC,QAAQ,yBAAuB,CAC5DC,UAAW,EAAGC,SAAU,YAAaC,KAAM,YAGvCC,EAAkBC,IAAMC,OAAO,CACnCC,QAASrB,EAAUC,SAPC,SAUTiB,EAAgB,eAAKR,IAAUY,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAKjD,GAFAX,EAAaY,OAETD,GAAQA,EAAKA,KAEf,OADAV,IAAUY,QAAQF,EAAKG,QAAS,CAAEV,SAAU,cACpC,CAACO,KAAMA,EAAKA,KAAMI,QAAQ,GAIlC,MADAd,IAAUe,MAAM,8BAA+B,CAAEZ,SAAU,cACrDa,MAAM,kCAEbC,OAAM,SAAAC,GAIP,GAFAnB,EAAaY,OAETO,EAAIC,SAAU,CAEhBC,QAAQC,IAAIH,EAAIC,UAEhB,IAAMG,EAAWJ,EAAIC,SAAST,KAExBG,OAA+CU,IAArCD,EAAQE,OAAOC,KAAKH,GAAS,IAC3CA,EAAQE,OAAOC,KAAKH,GAAS,IAC3B,yBAIJ,OAFAtB,IAAU0B,KAAMb,EAAS,CAAEV,SAAU,cAE9B,CACLO,MAAM,EACNI,OAAQQ,GAEL,MAAIJ,EAAIS,SACbP,QAAQC,IAAIH,EAAIS,SAChB3B,IAAU0B,KAAK,+DACf,CAAEvB,SAAU,cACNe,IAENlB,IAAUe,MAAM,sEAChB,CAAEZ,SAAU,cACNe,MAnDY,mFAAH,sDA4DRU,EAAW,uCAAG,WAAO/B,EAAQgC,GAAf,iBAAA/B,EAAA,6DAErB+B,IACF9B,EAAeC,IAAUC,QAAQ,cAAe,CAC9CC,UAAW,EAAGC,SAAU,YAAaC,KAAM,aAIzCC,EAAkBC,IAAMC,OAAO,CACnCC,QAASrB,EAAUC,OACnB0C,QAAS,CACPC,cAAe,UAAYC,IAAOC,IAAI9C,EAAUI,sBAX3B,SAeZc,EAAgB,eAAKR,IAAUY,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAKjD,OAJImB,IACF9B,EAAaY,OACbX,IAAUU,EAAKwB,OAASxB,EAAKwB,OAAS,SAASxB,EAAKG,QAAS,CAAEV,SAAU,eAEnEO,KACPO,OAAM,SAAAC,GAEP,GADIW,GAAO9B,EAAaY,OACpBO,EAAIC,SAAU,CAChB,IAAMG,EAAUJ,EAAIC,SAAST,KAU7B,MAToC,QAAhCyB,OAAOjB,EAAIC,SAASe,SACtBlC,IAAUe,MAAM,sCAChB,CAAEZ,SAAU,cACZ6B,IAAOI,OAAOjD,EAAUI,mBACxB8C,SAASC,SAASpD,KAAK,UAEvBc,IAAU0B,KAA0B,cAApBJ,EAAQT,QAA0BS,EAAQT,QAAU,yBACpE,CAAEV,SAAU,cAEP,CACLO,KAAM,KACNI,OAAQQ,GAEL,MAAIJ,EAAIS,SACbP,QAAQC,IAAIH,EAAIS,SAChB3B,IAAU0B,KAAK,+DACf,CAAEvB,SAAU,cACNe,IAENlB,IAAUe,MAAM,sEAChB,CAAEZ,SAAU,cACNe,MA9Ce,mFAAH,wDCpEXqB,EAAK,uCAAG,WAAO7B,GAAP,SAAAZ,EAAA,+EAAgBF,EAAS,CAC5C4C,IAAK,qBAAsBC,OAAQ,OAAQ/B,UADxB,2CAAH,sDAMLgC,EAAO,uCAAG,WAAOb,GAAP,SAAA/B,EAAA,+EAAiB8B,EAAY,CAClDY,IAAK,uBAAwBC,OAAQ,OACpCZ,IAFoB,2CAAH,sDAMPc,EAAM,uCAAG,wCAAA7C,EAAA,6DAAO+B,IAAP,mDAAsBD,EAAY,CACtDY,IAAK,sBAAuBC,OAAQ,OACnCZ,IAFmB,2CAAH,qD,6BCZNe,GAAb,WACE,WAAYC,GAAQ,oBAClBC,KAAKC,aAAe,CAClBC,OAAQ,KACRC,GAAI,KACJC,MAAO,KACPC,OAAQ,KACRC,OAAQ,KACRC,IAAK,GAGP,IACMR,IAAOC,KAAKC,aAAeO,aAAUT,IACzC,MAAOU,GACPnC,QAAQC,IAAI,SACZD,QAAQC,IAAIkC,IAflB,qDAoBI,OAAQT,KAAKU,YApBjB,gCAwBI,OAAO,IAAIC,KAA6B,IAAxBX,KAAKC,aAAaM,OAxBtC,gCA4BI,OAAO,IAAII,KAASX,KAAKY,YA5B7B,0CAgCI,MAAM,UAAN,OAAiBZ,KAAKD,WAhC1B,KCSe,SAASc,KACtB,IAAMC,EAAUC,cADc,4CAU9B,WAAgCC,GAAhC,SAAAhE,EAAA,sEACQyC,EAAMuB,GAAQrD,MAAK,SAACC,GACpBA,EAAKA,OAASA,EAAKI,SACrBkB,IAAO+B,IAAI5E,EAAUI,kBAAmBmB,EAAKA,MAC7CkD,EAAQI,KAAKhF,OAEdiC,OAAM,SAACF,GACRK,QAAQC,IAAI,SACZD,QAAQC,IAAIN,MARhB,4CAV8B,sBAsB9B,OAnBAkD,qBAAU,WACK,IAAIrB,GAAUZ,IAAOC,IAAI9C,EAAUI,oBACvC2E,SACPN,EAAQI,KAAKhF,KAEf,CAAC4E,IAeD,8BACE,cAAC,IAAD,CAAKO,KAAK,OAAOC,QAAQ,eAAeC,MAAM,SAASC,MAAO,CAACC,gBAAiB,qBAAsBC,OAAQ,SAA9G,SACE,cAAC,IAAD,CAAKC,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAvC,SACE,qBAAKC,UAAU,mBAAf,SACE,eAAC,IAAD,CACEC,KAAK,eACLD,UAAU,aACVE,cAAe,CAACC,UAAU,GAC1BC,SA/BkB,4CA2BpB,UAME,qBAAKJ,UAAU,aACf,cAAC,IAAKK,KAAN,CACEJ,KAAK,WACLK,aAAW,EACXC,MAAO,CACL,CACEC,UAAU,EACVzE,QAAS,+BAEX,CACEsD,KAAM,QACNtD,QAAS,oCAVf,SAcE,cAAC,IAAD,CACE0E,aAAa,gBACbpB,KAAK,QACLqB,OAAQ,cAACC,EAAA,EAAD,CAAcX,UAAU,wBAChCY,YAAY,aAEhB,cAAC,IAAKP,KAAN,CACEJ,KAAK,WACLK,aAAW,EACXC,MAAO,CACL,CACEC,UAAU,EACVzE,QAAS,gDAEX,CACE8E,IAAK,EACL9E,QAAS,4DAVf,SAcE,cAAC,IAAM+E,SAAP,CACEL,aAAa,mBACbC,OAAQ,cAACK,EAAA,EAAD,CAAcf,UAAU,wBAChCX,KAAK,WACLuB,YAAY,oBAGhB,cAAC,IAAKP,KAAN,UACE,cAAC,IAAD,CAAQhB,KAAK,UAAU2B,SAAS,SAAShB,UAAU,oBAAnD,kC,YCnFDiB,GAFKC,0BCFPC,GAAY,YCGV,YAACC,EAAOC,GAAY,IACzBC,EAAkBD,EAAlBC,QAER,OAF0BD,EAAThC,MAGf,KAAK8B,GACH,OAAO,2BACFC,GADL,IAEEG,MAAOD,GAAWA,EAAQE,OAAS,EAAIF,EAAQG,KAAI,SAAChD,GAAD,OAAOA,EAAEiD,QAAQ,KAExE,QACE,OAAON,ICoBEO,GAzBG,SAACC,GACjB,IAD2B,EAKDC,qBAAWC,GAJhB,CACnBP,MAAO,KAFkB,oBAKpBH,EALoB,KAKbW,EALa,KAOrBC,EAAQ,uCAAG,WAAOT,GAAP,SAAAvG,EAAA,sDACf,IACE+G,EAAS,CAAE1C,KAAM8B,GAAWG,QAASC,IACrC,MAAOtF,IAHM,2CAAH,sDAMd,OACE,cAAC,GAAYgG,SAAb,CACEC,MAAO,CACLX,MAAOH,EAAMG,MACbS,YAHJ,SAMGJ,EAAMO,Y,sHCALC,GAAsCC,KAAtCD,QAAS/B,GAA6BgC,KAA7BhC,KAAMiC,GAAuBD,KAAvBC,QAASC,GAAcF,KAAdE,UAE1BC,GAAU,WAAO,OAAOnF,OAAOoF,OAAOjF,SAASkF,UAAUC,UAAU,IAEnEC,GAAQ,CACZ,CACEC,OAAQ,mBACR3I,MAAO,CAACA,GACRiI,SAAU,CACR,CACEW,OAAO,EACPC,IAAK,SACLC,KAAMC,KACNJ,OAAQ,YACR3I,MAAO,CAACA,GACRiI,SAAU,CACR,CACET,KAAMxH,EACN8I,KAAMC,KACNJ,OAAQ,uBAMlB,CACEA,OAAQ,4BACR3I,MAAO,CAACA,EAAYA,EAAaA,EAAoBA,EAAaA,GAClEiI,SAAU,CACR,CACEW,OAAO,EACPC,IAAK7I,EACL8I,KAAME,KACNL,OAAQ,0BACR3I,MAAO,CAACA,EAAYA,EAAaA,EAAoBA,EAAaA,GAClEiI,SAAU,CACR,CACET,KAAMxH,EACN8I,KAAME,KACNL,OAAQ,SAEV,CACEnB,KAAMxH,EACN8I,KAAME,KACNL,OAAQ,UAEV,CACEnB,KAAMxH,EACN8I,KAAME,KACNL,OAAQ,kBAEV,CACEnB,KAAMxH,EACN8I,KAAME,KACNL,OAAQ,UAEV,CACEnB,KAAMxH,EACN8I,KAAME,KACNL,OAAQ,aAMlB,CACEA,OAAQ,oBACR3I,MAAO,CAACA,EAAqBA,GAC7BiI,SAAU,CACR,CACEW,OAAO,EACPpB,KAAMxH,EACN8I,KAAMG,KACNN,OAAQ,qBAEV,CACEC,OAAO,EACPpB,KAAMxH,EACN8I,KAAMI,KACNP,OAAQ,wBAId,CACEA,OAAQ,gCACR3I,MAAO,CACLA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,GAEFiI,SAAU,CACR,CACEW,OAAO,EACPC,IAAK,aACLC,KAAMK,KACNR,OAAQ,cACR3I,MAAO,CAACA,EAAoBA,GAC5BiI,SAAU,CACR,CACET,KAAMxH,EACN8I,KAAMK,KACNR,OAAQ,iBAEV,CACEnB,KAAMxH,EACN8I,KAAMK,KACNR,OAAQ,iBAId,CACEC,OAAO,EACPpB,KAAMxH,EACN8I,KAAMK,KACNR,OAAQ,cAEV,CACEC,OAAO,EACPC,IAAK,sBACLC,KAAMM,KACNT,OAAQ,sBACR3I,MAAO,CAACA,EAAsBA,EAAoBA,EAAmBA,GACrEiI,SAAU,CACR,CACET,KAAMxH,EACN8I,KAAMM,KACNT,OAAQ,eAEV,CACEnB,KAAMxH,EACN8I,KAAMM,KACNT,OAAQ,aAEV,CACEnB,KAAMxH,EACN8I,KAAMM,KACNT,OAAQ,WAEV,CACEnB,KAAMxH,EACN8I,KAAMM,KACNT,OAAQ,YAId,CACEC,OAAO,EACPC,IAAK,QACLC,KAAMO,KACNV,OAAQ,oBACR3I,MAAO,CAACA,EAA4BA,GACpCiI,SAAU,CACR,CACET,KAAMxH,EACN8I,KAAMO,KACNV,OAAQ,oBAEV,CACEnB,KAAMxH,EACN8I,KAAMO,KACNV,OAAQ,uBA2ELW,OAlEf,WAAwB,IACdjC,EAAUkC,qBAAWxC,IAArBM,MAER,OAAKA,EAgBD,cAAC,KAAD,CAAMmC,MAAM,QAAQC,KAAK,SAASC,oBAAqBpB,KAAvD,SAEEI,GAAMnB,KAAI,SAAChD,EAAEoF,GAAH,OACRpF,EAAEvE,OAASuE,EAAEvE,MAAM4J,MAAK,SAACrF,GAAD,OAAO8C,EAAMwC,SAAStF,MAC7C,eAAC8D,GAAD,CAAWyB,MAAOvF,EAAEoE,OAApB,UACC,cAACP,GAAD,IACC7D,EAAE0D,SAASV,KAAI,SAACwC,GAAD,OACXA,EAAEnB,OAASvB,EAAMwC,SAASE,EAAEvC,MAC5B,cAACrB,GAAD,UACC,eAAC,IAAD,CAAM6D,GAAID,EAAEvC,KAAZ,UACE,cAACuC,EAAEjB,KAAH,IACA,+BAAOiB,EAAEpB,aAHDxF,OAAO4G,EAAEvC,MAAMiB,UAAU,IAOrCsB,EAAEnB,OAASmB,EAAE/J,OAAS+J,EAAE/J,MAAM4J,MAAK,SAACrF,GAAD,OAAO8C,EAAMwC,SAAStF,MACxD,cAAC2D,GAAD,CAEC4B,MACE,iCACE,cAACC,EAAEjB,KAAH,IACA,+BAAOiB,EAAEpB,YALd,SASEoB,EAAE9B,SAASV,KAAI,SAAC0C,GACf,OAAI5C,EAAMwC,SAASI,EAAIzC,MACb,cAACrB,GAAD,UACN,eAAC,IAAD,CAAM6D,GAAIC,EAAIzC,KAAd,UACE,cAACyC,EAAInB,KAAL,IACA,+BAAOmB,EAAItB,aAHIxF,OAAO8G,EAAIzC,MAAMiB,UAAU,IAOvC,SAjBNsB,EAAElB,KAoBG,UAjCgBc,GAmCpB,UArDlB,cAAC,KAAD,CAAMH,MAAM,QAAQC,KAAK,SAASC,oBAAqBpB,KAAvD,SACE,eAACD,GAAD,CAAWyB,MAAM,mBAAjB,UACE,cAAC1B,GAAD,IACA,cAACjC,GAAD,UACE,eAAC,IAAD,CAAM6D,GAAIhK,EAAV,UACA,cAAC+I,GAAA,EAAD,IACA,iDAHQ,mBC5MZmB,GAAUC,KAAVD,MAoCOjK,GAlCD,SAAC,GAAiB,IAAhBmK,EAAe,EAAfA,UACd,OACE,eAACF,GAAD,CACEG,MAAO,IACPb,MAAM,QACNc,WAAW,KACXC,QAAS,KACTC,aAAW,EACXJ,UAAWA,EACXtE,UAAU,QAPZ,UASE,qBAAKA,UAAU,QAAf,SACEsE,EAKA,qBAAKtE,UAAU,OAAf,SACE,qBAAK2E,IAAI,OAAOC,IAAK7J,EAAOL,aAL9B,qBAAKsF,UAAU,YAAf,SACE,qBAAK2E,IAAI,YAAYC,IAAK7J,EAAOJ,eASrC,qBAAKqF,UAAU,iBAAf,SACE,cAAC,GAAD,U,sEC3BF6E,GAAgB,CAAC,CAACb,MAAM,OAAQhB,KAAM,WAAW,CAACgB,MAAM,OAAQhB,KAAM,SAAU,CAACgB,MAAM,OAAQhB,KAAM,YA8D5F8B,GA5DQ,WAAO,IAAD,EACGC,oBAAS,GADZ,oBACpBC,EADoB,KACXC,EADW,KAG3B,OACE,cAAC,KAAD,CACER,QAAQ,QACRS,UAAU,cACVC,iBAAiB,uBACjBH,QAASA,EACTI,gBAAiB,SAACC,GAAD,OAAOJ,EAAWI,IACnCC,QACE,sBAAKtF,UAAU,sBAAsBR,MAAO,CAAE+F,SAAU,SAAxD,UACE,cAAC,KAAD,CACEC,WAAW,aACXC,WAAYZ,GACZa,OAAQ,CACNC,UAAW,uEAEbC,WAAY,SAAAC,GAAI,OACd,eAAC,KAAKxF,KAAN,CAAWL,UAAU,sBAArB,UAKE,cAAC,KAAKK,KAAKyF,KAAX,CACE9F,UAAU,uBACVgE,MACE,sBAAM+B,MAAO,EAAb,+BAIFC,YAAY,0BAEd,cAACC,GAAA,EAAD,CAAejG,UAAU,gCAI9B6E,GAAcrD,OACb,qBAEExB,UAAU,eAFZ,SAIE,4DAEA,QAxCV,SA4CG,cAAC,KAAD,CACCkG,MAAO,EACPC,KAAG,EACHC,OAAQ,EAAE,GAAI,IACdpG,UAAU,cAJX,SAMC,cAACqG,GAAA,EAAD,CAAcrG,UAAU,mB,wCClDjB,SAASsG,KAAmB,IAAD,EACVvB,mBAAS,MADC,oBACjCwB,EADiC,KACxBC,EADwB,KAElC1H,EAAUC,cAEhBI,qBAAU,WACR,IAAMsH,EAAO,IAAI3I,GAAUZ,IAAOC,IAAI9C,EAAUI,oBAC5CgM,GACFD,EAAWC,EAAKxI,gBAElB,IAEF,IAAMyI,EAAY,uCAAG,sBAAA1L,EAAA,sEACb6C,IAASlC,KAAT,uCAAc,WAAMU,GAAN,SAAArB,EAAA,sDACM,UAApBqB,EAASe,SACXF,IAAOI,OAAOjD,EAAUI,mBACxBqE,EAAQI,KAAK,WAHG,2CAAd,uDAKH/C,OAAM,SAAAF,GACPK,QAAQC,IAAIN,GACZK,QAAQC,IAAI,gCARK,2CAAH,qDAYlB,OACE,cAAC,KAAD,CAAiBoH,KAAK,aAAtB,SACE,eAAC,KAAKvB,QAAN,CACE4B,MACE,eAAC,WAAD,WACE,sBAAMxE,MAAO,CAAEmH,MAAO,OAAQC,YAAa,GAA3C,SACE,2CAEF,+BAAOL,GAASA,EAAQrI,SACxB,cAAC,KAAD,CAAQsB,MAAO,CAAEqH,WAAY,GAAKjC,IAAK2B,GAASA,EAAQlI,YAP9D,UAWE,cAAC,KAAKgC,KAAN,UACE,cAAC,KAAWyG,KAAZ,CAAiBzH,KAAK,SAAtB,SACE,eAAC,IAAD,CAAM6E,GAAIhK,EAAV,UACE,cAAC6M,GAAA,EAAD,IADF,wBAFW,mBAQf,cAAC,KAAK1G,KAAN,CAAyB2G,QAASN,EAAlC,SACE,eAAC,KAAWI,KAAZ,CAAiBzH,KAAK,SAAtB,UACE,cAAC4H,GAAA,EAAD,IADF,kBADa,eApBT,Q,wBCoDCC,OChFA,SAAuBC,GAAmB,IAAD,IAEtD,OAAO,EAAP,sDAIE,WAAYvF,GAAQ,IAAD,8BACjB,cAAMA,IACDR,MAAQ,CACXgG,MAAM,GAHS,EAJrB,yLAYkBlK,IAAOC,IAAI9C,EAAUI,mBAZvC,gBAcM8C,SAASC,SAASpD,KAAQF,EAdhC,sCAgBY0D,GAAQ,GAAMjC,MAAK,SAACC,GACL,YAAhBA,EAAKwB,QACNF,IAAOI,OAAOjD,EAAUI,mBACxB8C,SAASC,SAASpD,KAAQF,IAEvB0B,GAAQA,EAAKA,MAAQA,EAAKA,KAAKyL,QAAQ,EAAKC,QAAQtF,SAASpG,EAAKA,KAAKyL,QAC1E,EAAKE,SAAS,CAACH,MAAM,QAEtBjL,OAAM,SAACF,GACR,EAAKsL,SAAS,CAACH,MAAM,IACrB9K,QAAQC,IAAIN,GACZK,QAAQC,IAAI,yCA3BpB,gIAiCI,OAAO,cAAC4K,EAAD,2BAAsBnJ,KAAK4D,OAA3B,IAAkC4F,YAAaxJ,KAAKoD,MAAMgG,YAjCrE,GAAqBK,aAArB,EAESC,YAAczG,GAFvB,ED8EaiG,EAxEf,YAAyC,IAAzB/E,EAAwB,EAAxBA,SAAUqF,EAAc,EAAdA,YAAc,EACJzC,oBAAS,GADL,oBAC/BT,EAD+B,KACpBqD,EADoB,KAgBhCC,EAAc,CAClBnI,gBAAiB,QACjB8E,MAAM,OACNsD,OAAO,MACPC,QAAS,sBACTC,WAAY,aACZC,MAAO,OACPC,KApBE3D,EACgB,OAEA,QAkBlB4D,OAAQ,EACRC,MAAO,GAGT,OACE,cAAC,KAAD,CACEC,SAAUZ,EACVa,IAAI,uBACJC,KAAK,QACLtI,UAAU,iBAJZ,SAME,eAAC,KAAD,WACE,cAAC,GAAD,CAAOsE,UAAWA,IAClB,eAAC,KAAD,CAAQtE,UAAU,cAAlB,UACE,eAAC,KAAOuI,OAAR,CACE/I,MAAO,CAAE+F,SAAUjB,GAAa,sBAChCtE,UAAWwI,KAAW,SAAU,CAC9B,UAAalE,IAEfnG,GAAG,eALL,UAOA,qBAAK6B,UAAU,SAASgH,QAAS,kBAAMW,GAAcrD,IAArD,SAEIA,EACA,cAACmE,GAAA,EAAD,CAAoBzI,UAAU,iBAC9B,cAAC0I,GAAA,EAAD,MAGF,sBAAK1I,UAAU,kBAAf,UACE,cAAC,GAAD,IACA,cAACsG,GAAD,UAGJ,cAAC,KAAOqC,QAAR,CACE3I,UAAU,yBACVR,MAlDW,CACnBoJ,UAAW,4BACXC,UAAW,QAEXd,WAAY,cA4CN,SAIG5F,IAEH,eAAC,KAAO2G,OAAR,CAAetJ,MAAOoI,EAAtB,4BACkB7M,EAAOH,QADzB,4B,wFE5EK,SAASmO,GAAT,GAAiC,IAAZ5G,EAAW,EAAXA,SAclC,OACE,cAAC,IAAD,CAAK3C,MAdW,CAChBqI,OAAQ,cACRmB,aAAc,SAYd,SACE,cAAC,IAAD,CAAKC,KAAM,GAAIzJ,MAVD,CAChBwJ,aAAc,QACdlB,QAAS,SACTrI,gBAAiB,OACjByJ,gBAAiB,oCACjBC,aAAc,oCACdC,UAAW,qCAIT,SACCjH,M,cCKQkH,GArBK,SAAC,GAAyB,IAAxBxG,EAAuB,EAAvBA,OACdyG,EAAS,CACb,CACEC,eAHuC,EAAfC,YAO5B,OACE,cAAC,KAAD,CACExJ,UAAU,mBACVgE,MAAOnB,EACP4G,WAAY,CAACH,aCRNI,GAAY,uCAAG,WAAO3M,EAAO4M,GAAd,SAAA3O,EAAA,+EAAyB8B,EAAY,CAC/DY,IAAK,YAAaC,OAAQ,MAAOiM,OAAQD,GACxC5M,IAFyB,2CAAH,wDA+BZ8M,GAAc,uCAAG,WAC5B9M,EAD4B,8CAAA/B,EAAA,6DACnBmD,EADmB,EACnBA,GAAIwL,EADe,EACfA,OAAQvL,EADO,EACPA,MAAO0L,EADA,EACAA,WAAYC,EADZ,EACYA,eAAgBzL,EAD5B,EAC4BA,OAAQ0L,EADpC,EACoCA,QAAQC,EAD5C,EAC4CA,QAASC,EADrD,EACqDA,WAAYC,EADjE,EACiEA,SAAUC,EAD3E,EAC2EA,QAASC,EADpF,EACoFA,SAAUC,EAD9F,EAC8FA,SAAUC,EADxG,EACwGA,aAAcC,EADtH,EACsHA,aADtH,kBAEzB1N,EAAY,CACfY,IAAK,YACLC,OAAQ,QACR/B,KAAM,CAAEuC,KAAIwL,SAAQvL,QAAO0L,aAAYC,iBAAgBzL,SAAQ0L,UAAQC,UAASC,aAAYC,WAAUC,UAASC,WAAUC,WAAUC,eAAcC,iBAChJzN,IAN2B,2CAAH,wDAed0N,GAAa,uCAAG,iCAAAzP,EAAA,6DAAQ2O,EAAR,EAAQA,OAAQe,EAAhB,EAAgBA,MAAOC,EAAvB,EAAuBA,SAAvB,kBAAqC7N,EAAY,CAC5EY,IAAK,YAAaC,OAAQ,OAAQ/B,KAAM,CAAE+N,SAAQe,QAAOC,cACxD,IAF0B,2CAAH,sDAWbC,GAAY,uCAAG,WAAOzM,EAAP,sBAAAnD,EAAA,6DAAa2O,EAAb,EAAaA,OAAQe,EAArB,EAAqBA,MAAOC,EAA5B,EAA4BA,SAA5B,kBAA2C7N,EAAY,CACjFY,IAAK,aAAeS,EAAIR,OAAQ,MAAO/B,KAAM,CAAE+N,SAAQe,QAAOC,cAC7D,IAFyB,2CAAH,wDChEZE,GAEU,qBAFVA,GAKE,aALFA,GAME,2BANFA,GAQO,yBARPA,GASa,8BATbA,GAUU,qBAVVA,GAWU,qBAXVA,GAYiB,2BAZjBA,GAaS,iCAbTA,GAcO,kBAdPA,GAeM,iBAfNA,GAgBO,iBAhBPA,GAiBK,sBAjBLA,GAkBI,eAlBJA,GAmBW,qBAnBXA,GAoBI,eApBJA,GAqBQ,mBArBRA,GAsBU,qBAgERC,GA3DC,CAEdC,WAAY,YACZC,gBAAiB,iBACjBC,YAAa,aAEbC,iBAAkB,kBAClBC,sBAAuB,uBAEvBC,YAAa,aACbC,iBAAkB,kBAClBC,aAAc,cAEdC,eAAgB,gBAChBC,qBAAsB,qBACtBC,wBAAyB,wBACzBC,gBAAiB,iBACjBC,cAAe,eAEfC,eAAgB,gBAChBC,sBAAuB,sBACvBC,2BAA4B,0BAC5BC,8BAA+B,6BAC/BC,0BAA2B,yBAC3BC,0BAA2B,+BAC3BC,uBAAwB,8BACxBC,gBAAiB,iBACjBC,qBAAsB,sBACtBC,0BAA2B,0BAC3BC,8BAA8B,8BAC9BC,uBAAwB,2BACxBC,qBAAsB,4BACtBC,wBAAyB,wBACzBC,8BAA+B,8BAC/BC,yBAA0B,yBAC1BC,gCAAiC,+BACjCC,0BAA2B,0BAE3BC,mBAAoB,mBACpBC,4BAA6B,4BAC7BC,8BAA+B,8BAC/BC,2BAA4B,2BAC5BC,+BAAgC,8BAChCC,yBAA0B,yBAE1BC,mBAAoB,oBACpBC,wBAAyB,yBACzBC,oBAAqB,qBAErBC,YAAa,aACbC,iBAAkB,kBAClBC,aAAc,cAEdC,WAAY,YACZC,gBAAiB,iBACjBC,YAAa,cClFFC,GAAW,CACtB,wFACA,wFACA,0FACA,qFACA,wFACA,uFACA,uFACA,yFACA,yFCEMC,GAAWC,KAAXD,OCPR,IAQe5T,GARD,CACZ,CACE8T,KAAMC,EACNC,OAAO,EACPC,UDKW,WAA0B,IAAD,EACMpJ,oBAAS,GADf,oBAC/BqJ,EAD+B,KACfC,EADe,OAEYtJ,oBAAS,GAFrB,oBAE/BuJ,EAF+B,KAEZC,EAFY,OAGYxJ,oBAAS,GAHrB,oBAG/ByJ,EAH+B,KAGZC,EAHY,OAIF1J,mBAAS,IAJP,oBAI/B2J,EAJ+B,KAInBC,EAJmB,OAKN5J,mBAAS,MALH,oBAK/BuF,EAL+B,KAKrBsE,EALqB,OAME7J,mBAAS,MANX,oBAM/BwF,EAN+B,KAMjBsE,EANiB,OAOE9J,mBAAS,MAPX,oBAO/ByF,EAP+B,KAOjBsE,EAPiB,iDAatC,sBAAA9T,EAAA,6DACEqT,GAAkB,GADpB,SAEe3E,IAAc,EAAMoB,GAAQc,gBACtCjQ,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACM+S,EAAR/S,GACiB,OACpBO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAMV,GAAkB,MANxE,oFAbsC,kEAsBtC,sBAAArT,EAAA,0DACM0T,EAAWM,IADjB,uBAEIT,GAAqB,GAFzB,SAGiB3D,GAAc8D,EAAWM,IAAKN,GACxCvS,OAAM,SAACsC,GAAD,OAAOnC,QAAQC,IAAIkC,MACzBsQ,SAAQ,kBAAMR,GAAqB,MAL1C,+CAOIrT,IAAU0B,KAAK,uCAAqC,CAAEvB,SAAU,cAPpE,mDAtBsC,kEAiCtC,sBAAAL,EAAA,0DACM0T,EAAWM,IADjB,uBAEIP,GAAqB,GAFzB,SAGiB5E,IAAe,EAAM,CAAE1L,GAAIuQ,EAAWM,IAAKrF,OAAQmB,GAAQyB,uBAAwBjC,WAAUC,eAAcC,iBACrHrO,OAAM,SAACsC,GAAD,OAAOnC,QAAQC,IAAIkC,MACzBsQ,SAAQ,WACPE,IACAR,GAAqB,MAP7B,+CAUIvT,IAAU0B,KAAK,uCAAqC,CAAEvB,SAAU,cAVpE,mDAjCsC,sBAStC8D,qBAAU,YAT4B,mCAUpC+P,KACA,IAoCF,IAAMC,EAAe,SAACC,EAAOlN,GAC3ByM,EAAc,2BACTD,GADQ,mBAEVU,EAAQlN,MAIP+M,EAAgB,WACpBL,EAAY,MACZC,EAAgB,MAChBC,EAAgB,OAGlB,OACE,gCACE,cAAC,GAAD,CAAajM,OAAO,mBAAmB2G,UAAU,WACjD,cAACT,GAAD,UAEIqF,EAAiB,qBAAK5O,MAAO,CAAEqI,OAAQ,OAAQwH,eAAgB,SAAUC,QAAS,QAAjE,SAA2E,cAAC,KAAD,CAAMlH,UAAQ,EAACE,KAAK,YAChH,sBAAK9I,MAAO,CAAEqI,OAAQ,cAAtB,UACE,0DACA,eAAC,IAAD,CAAKrI,MAAO,CAAEqI,OAAQ,UAAtB,UACE,cAAC,IAAD,CAAKjI,GAAI,GAAT,SACE,eAAC,KAAD,CAAO2P,UAAU,WAAjB,UACE,cAAC,IAAD,CACEC,YAAY,UACZ5O,YAAY,SACZpB,MAAO,CAAE+E,MAAO,SAChBrC,MAAOwM,EAAWxQ,OAASwQ,EAAWxQ,OAAS,KAC/CuR,SAAU,SAAChR,GAAD,OAAO0Q,EAAa,SAAU1Q,EAAEiR,cAAcxN,UAE1D,cAAC,IAAD,CACEsN,YAAY,aACZ5O,YAAY,YACZpB,MAAO,CAAE+E,MAAO,QAASoL,aAAc,SACvCzN,MAAOwM,EAAWkB,UAAYlB,EAAWkB,UAAY,KACrDH,SAAU,SAAChR,GAAD,OAAO0Q,EAAa,YAAa1Q,EAAEiR,cAAcxN,UAE7D,cAAC,IAAD,CACEsN,YAAY,UACZ5O,YAAY,SACZpB,MAAO,CAAE+E,MAAO,QAASoL,aAAc,SACvCzN,MAAQwM,EAAWnI,SAAWmI,EAAWnI,QAAQmE,MAAQgE,EAAWnI,QAAQmE,MAAQ,KACpF+E,SAAU,SAAChR,GAAD,OAAOkQ,EAAc,2BAAID,GAAL,IAAiBnI,QAAQ,2BAAMmI,EAAWnI,SAAlB,IAA2BmE,MAAOjM,EAAEoR,OAAO3N,cAEnG,cAAC,IAAD,CACEuN,SAAU,SAAChR,GAAD,OAAO0Q,EAAa,eAAgB1Q,EAAEiR,cAAcxN,QAC9DA,MAAOwM,EAAWoB,aAAepB,EAAWoB,aAAe,KAC3DN,YAAY,eACZ5O,YAAY,eACZpB,MAAO,CAAE+E,MAAO,gBAItB,cAAC,IAAD,CAAK3E,GAAI,GAAT,SACE,eAAC,KAAD,CAAO2P,UAAU,WAAjB,UACE,wDACA,cAAC,KAAD,CACE3O,YAAY,sBACZpB,MAAO,CAAE+E,MAAO,SAChBrC,MAAOwM,EAAWqB,iBAAmBC,KAAOtB,EAAWqB,kBAAoB,KAC3EN,SAAU,SAACQ,EAAGxR,GAAJ,OAAU0Q,EAAa,mBAAoB1Q,MAEvD,sDACA,eAAC,KAAD,CAAQgR,SAAU,SAAChR,GAAD,OAAO0Q,EAAa,iBAAkB1Q,IAAIyD,MAAOwM,EAAWwB,eAAiBxB,EAAWwB,eAAiB,KAAM1Q,MAAO,CAAE+E,MAAO,SAAW3D,YAAY,gCAAxK,UACE,cAACkN,GAAD,CAAQ5L,MAAM,MAAd,iBACA,cAAC4L,GAAD,CAAQ5L,MAAM,OAAd,sBAEF,cAAC,IAAD,CACEuN,SAAU,SAAChR,GAAD,OAAO0Q,EAAa,mBAAoB1Q,EAAEiR,cAAcxN,QAClEA,MAAOwM,EAAWyB,iBAAmBzB,EAAWyB,iBAAmB,KACnEX,YAAY,yBACZ5O,YAAY,sBACZpB,MAAO,CAAE+E,MAAO,mBAKxB,eAAC,IAAD,CAAK/E,MAAO,CAAEmQ,aAAc,QAA5B,UACE,qDAA8B,uBAC9B,cAAC,KAAMS,MAAP,CACElO,MAAOwM,EAAWnI,SAAWmI,EAAWnI,QAAQlI,OAASqQ,EAAWnI,QAAQlI,OAAS,KACrFoR,SAAU,SAAChR,GAAD,OAAOkQ,EAAc,2BAAID,GAAL,IAAiBnI,QAAQ,2BAAMmI,EAAWnI,SAAlB,IAA2BlI,OAAQI,EAAEoR,OAAO3N,YAFpG,SAIC2L,GAASpM,KAAI,SAAC4O,EAAKxM,GAAN,OACZ,eAAC,KAAD,CAAO3B,MAAOmO,EAAa7Q,MAAO,CAAEqI,OAAQ,SAA5C,UACE,cAAC,KAAD,CACES,KAAM,CAAE3I,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIuQ,IAAK,IACrD1L,IAAK,cAAC,KAAD,CAAOA,IAAKyL,MAHrB,MAAwBxM,WAU5B,cAAC,IAAD,CAAQmD,QA9IoB,2CA8IO3H,KAAK,UAAUlE,QAASmT,EAA3D,0BAIN,eAACvF,GAAD,WACE,sBAAKvJ,MAAO,CAAEqI,OAAQ,cAAtB,UACE,yDACA,eAAC,KAAD,CAAO0H,UAAU,WAAjB,UACE,yDACA,cAAC,IAAMzO,SAAP,CAAgBN,UAAQ,EAAChB,MAAO,CAAE+E,MAAO,KAAOkL,SAAU,SAAChR,GAAD,OAAOmQ,EAAYnQ,EAAEiR,cAAcxN,QAAQA,MAAOoI,IAAW,uBACvH,wDACA,cAAC,IAAMxJ,SAAP,CAAgBN,UAAQ,EAAChB,MAAO,CAAE+E,MAAO,KAAOkL,SAAU,SAAChR,GAAD,OAAOoQ,EAAgBpQ,EAAEiR,cAAcxN,QAAQA,MAAOqI,IAAe,uBAC/H,0DACA,cAAC,IAAMzJ,SAAP,CAAgBN,UAAQ,EAAChB,MAAO,CAAE+E,MAAO,KAAOkL,SAAU,SAAChR,GAAD,OAAOqQ,EAAgBrQ,EAAEiR,cAAcxN,QAAQA,MAAOsI,IAAe,6BAGnI,cAAC,IAAD,CAAQhL,MAAO,CAAEmQ,aAAc,QAAUtQ,KAAK,UAAU2H,QA9JxB,2CA8JuD7L,QAASqT,EAAhG,8BExKKhU,G,MAAS+V,CAAGlW,EAAUG,OAAQ,CAAEgW,WAAY,CAAC,aAAcC,QAAQ,EAAMC,cAAc,I,8BCSrFC,GAZC,CACd7U,QAAS,UACTG,MAAO,UACP2U,QAAS,UACTC,UAAW,UACXC,WAAY,UACZC,SAAU,UACVC,WAAY,UACZC,UAAW,UACXC,YAAa,WCTFC,GAAY,CACvB,mCACA,mCACA,mCACA,sCACA,0BACA,yCACA,4CACA,oCAGWC,GAAW,CACtB,8BACA,6CACA,gCACA,8BACA,sBACA,mCAGWC,GAAc,CACzB,qBACA,kCACA,iCACA,mCAGWC,GAAY,CACvB,+BACA,6BACA,qBACA,kCAGWC,GAAc,CACzB,gCACA,oBACA,oBACA,oBACA,gBACA,gCACA,mCACA,+BACA,gCACA,qBAGWC,GAAa,CACxB,8BACA,gCACA,gCACA,0CACA,eACA,0CACA,yBACA,0CACA,iCAoBWC,GACA,YADAA,GAEC,aAFDA,GAGD,WAHCA,GAIG,eAJHA,GAKA,YALAA,GAMC,aAGDC,GAAQ,CACnB,qBAGWC,GAAa,CACxB,mCACA,kCACA,kCACA,kCC7CaC,OAzCf,YAAyD,IAAhC/O,EAA+B,EAA/BA,OAA+B,IAAvBgI,eAAuB,MAAf,GAAe,EAAXV,EAAW,EAAXA,SAW3C,OACE,eAAC,IAAD,CAAKvK,GAAIuK,EAAU3K,MAVH,CAChBwJ,aAAc,QACdlB,QAAS,aACTrI,gBAAiB,OACjByJ,gBAAiB,oCACjBC,aAAc,oCACdC,UAAW,qCAIX,UACE,6BAAKvG,IACL,eAAC,IAAD,WACE,cAAC,IAAD,CAAKjD,GAAI,GAAT,SACE,cAAC,KAAD,CACEoE,MAAM,aACN9B,MAAO2I,GAAWA,EAAQrJ,OAAS,EAAIqJ,EAAQgH,QAAO,SAAApT,GAAC,OAAIA,GAAKA,EAAEqT,aAAeL,MAAuBjQ,OAAS,EACjHuQ,WAAY,CAAEpL,MAAOgK,GAAQ7U,SAC7B4E,OAAQ,cAACsR,GAAA,EAAD,QAGZ,cAAC,IAAD,CAAKpS,GAAI,GAAT,SACE,cAAC,KAAD,CACEoE,MAAM,aACN9B,MAAO2I,GAAWA,EAAQrJ,OAAS,EAAIqJ,EAAQgH,QAAO,SAAApT,GAAC,OAAIA,GAAKA,EAAEqT,aAAeL,MAAsBjQ,OAAS,EAChHuQ,WAAY,CAAEpL,MAAOgK,GAAQC,SAC7BlQ,OAAQ,cAACuR,GAAA,EAAD,eCnCPC,GACF,aADEA,GAEJ,WAFIA,GAGF,UAHEA,GAIJ,QAKIC,GACL,OADKA,GAEN,MAOMC,GAAc,CACzB,CACEC,KAAM,UACNnQ,MAAO,WAET,CACEmQ,KAAM,QACNnQ,MAAO,UAIEoQ,GAAiB,CAC5B,CACED,KAAM,OACNnQ,MAAOiQ,IAET,CACEE,KAAM,MACNnQ,MAAOiQ,IAET,CACEE,KAAM,QACNnQ,MA3BK,SA6BP,CACEmQ,KAAM,WACNnQ,MA9BQ,YAgCV,CACEmQ,KAAM,WACNnQ,MAjCQ,aAqCCqQ,GAAe,CAC5B,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,Q,4BC3GeC,OA/Cf,YAAoE,IAAD,IAAzC5W,YAAyC,MAApC,GAAoC,EAAhCwT,EAAgC,EAAhCA,MAAO1P,EAAyB,EAAzBA,OAAyB,IAAjB+S,kBAAiB,MAAN,IAAM,EACjE,OAAK7W,GAAQA,EAAK4F,OAAS,EAEvB,qBACEhC,MAAO,CACL+E,MAAO,OACP7E,OAAQA,EACR4P,QAAS,OACToD,WAAY,SACZrD,eAAgB,UANpB,SASE,cAAC,KAAD,MAIF,eAAC,SAAD,CACEzT,KAAMA,EACN8D,OAAQA,EACRoI,QAAS,CAAC,EAAE,GAAG,GAAG2K,GAClBE,SAAO,EAJT,UAME,cAAC,cAAD,CAAYC,WAAS,IACrB,cAAC,QAAD,CACE3S,KAAK,WAEP,cAAC,QAAD,CAAMA,KAAK,WAAW+E,SAAS,IAC/B,cAAC,KAAD,IACA,cAAC,YAAD,CACE6N,MAAM,OACNxX,SAAQ,0BAAqB+T,GAC7B0D,QAAS,CAAEC,MAAO,CAAEC,SAAU,MAC9BC,MAAM,WACNC,QAAS,CAAC,GAAD,OAAI9D,EAAJ,oBC2CJjV,OAxEf,YAAoC,IAAD,IAAnB0Q,eAAmB,MAAX,GAAW,EAAPsI,EAAO,EAAPA,KAAO,EAC2BpO,mBAAS,IADpC,oBAC1BqO,EAD0B,KACFC,EADE,KA0CjC,OAvCAlU,qBAAU,YAWV,WACE,GAAI0L,GAAWA,EAAQrJ,OAAS,EAAG,CAEjC,IAAI8R,EAAczI,EAAQgH,QAAO,SAACpT,GAAD,OAAOA,GAAKA,EAAE8U,sBAAwB9U,EAAE+U,SAAW/B,MACpF,GAAI6B,EAAY9R,OAAS,EAAG,CAC1B,IAAIiS,EAAW,GACXC,EAAW,GACXC,EAAgB,GACpBL,EAAYM,SAAQ,SAACnV,GACfA,GAAKA,EAAE8U,uBAAyBE,EAAS1P,SAAStF,EAAE8U,qBAAqBrV,UAC3EuV,EAASvU,KAAKT,EAAE8U,qBAAqBrV,QACrCwV,EAASxU,KAAT,UAAiBT,EAAE8U,qBAAqBrV,OAAxC,YAAkDO,EAAE8U,qBAAqB3D,gBAG7E6D,EAASG,SAAQ,SAACtV,EAAQuF,GACxB8P,EAAczU,KAAK,CACjBhB,OAAQI,EACRA,OAAQoV,EAAS7P,GACjBgQ,SAAUP,EAAYzB,QAAO,SAACpT,GAAD,OAAOA,GAAKA,EAAE8U,sBAAwB9U,EAAE8U,qBAAqBrV,SAAWI,KAAQkD,YAGjH6R,EAA0BM,QAE1BN,EAA0B,KAjC9BS,KAEA,CAACjJ,IAqCD,gCACE,eAAC,IAAD,CAAKrL,MApCS,CAChBqI,OAAQ,cACRmB,aAAc,SAkCZ,UACE,cAAC,GAAD,CACEmB,SAAU,GACVtH,OAAO,UACPgI,QAASA,EAAQgH,QAAO,SAACpT,GAAD,OAAOA,GAAKA,EAAEsV,OAAS7B,QAEjD,cAAC,IAAD,CAAKtS,GAAI,IACT,cAAC,GAAD,CACEuK,SAAU,GACVtH,OAAO,QACPgI,QAASA,EAAQgH,QAAO,SAACpT,GAAD,OAAOA,GAAKA,EAAEsV,OAAS7B,KAAsBR,GAAM3N,SAAStF,EAAEuV,2BAG1F,cAACjL,GAAD,UACE,sBAAKvJ,MAAO,CAAEqJ,UAAW,SAAzB,UACE,2EAA2CsK,KAAU,uBACrD,cAAC,GAAD,CAAiBvX,KAAMwX,EAAwBhE,MAAM,SAAS1P,OAAQ,e,2FCjEjE,SAASuU,GAAYC,GAClC,OAAOA,EAAOC,OAAO,GAAGC,cAAgBF,EAAOG,MAAM,GCAhD,SAASC,GAAgBP,GAC9B,MAAO,CACL,CACE/P,MAAOiQ,GAAYF,GACnBQ,UAAWR,EACXS,SAAU,CACRC,WAAW,GAEblQ,MAAO,IACPhF,MAAO,OACPmV,OAAQ,SAACC,GAAD,OACN,cAAC,KAAD,CAASzP,UAAU,UAAUlB,MAAO2Q,EAApC,SAAwCA,MAG5C,CACE3Q,MAAO,aACPuQ,UAAW,aACXhV,MAAO,SACPqV,OAAQ,SAAC5Z,EAAG6Z,GACV,OAAI7Z,EAAE8Z,WAAaD,EAAEC,YACX,EAEN9Z,EAAE8Z,WAAaD,EAAEC,WACZ,EAEF,GAGTJ,OAAQ,SAACK,GAAD,OAAO,cAAC,KAAD,CAAK/R,KAAM,cAACgP,GAAA,EAAD,IAAyBrL,MAAM,UAA1C,SAAqDoO,GAAQ,MAE9E,CACE/Q,MAAO,WACPuQ,UAAW,WACXhV,MAAO,SACPqV,OAAQ,SAAC5Z,EAAG6Z,GACV,OAAI7Z,EAAEga,SAAWH,EAAEG,UACT,EAENha,EAAEga,SAAWH,EAAEG,SACV,EAEF,GAGTN,OAAQ,SAACK,GAAD,OAAO,cAAC,KAAD,CAAK/R,KAAM,cAACiS,GAAA,EAAD,IAAyBtO,MAAM,UAA1C,SAAqDoO,GAAQ,MAE9E,CACE/Q,MAAO,eACPuQ,UAAW,eACXhV,MAAO,SACPqV,OAAQ,SAAC5Z,EAAG6Z,GACV,OAAI7Z,EAAEka,aAAeL,EAAEK,cACb,EAENla,EAAEka,aAAeL,EAAEK,aACd,EAEF,GAETR,OAAQ,SAACjW,GAAD,OAAOA,GAAQ,IAEzB,CACEuF,MAAO,YACPuQ,UAAW,YACXhV,MAAO,SACPqV,OAAQ,SAAC5Z,EAAG6Z,GACV,OAAI7Z,EAAEma,UAAYN,EAAEM,WACV,EAENna,EAAEma,UAAYN,EAAEM,UACX,EAEF,GAETT,OAAQ,SAACjW,GAAD,OAAOA,GAAQ,IAEzB,CACEuF,MAAO,aACPuQ,UAAW,aACXhV,MAAO,SACPqV,OAAQ,SAAC5Z,EAAG6Z,GACV,OAAI7Z,EAAEoa,WAAaP,EAAEO,YACX,EAENpa,EAAEoa,WAAaP,EAAEO,WACZ,EAEF,GAETV,OAAQ,SAACjW,GAAD,OAAOA,GAAQ,IAEzB,CACEuF,MAAO,YACPuQ,UAAW,YACXhV,MAAO,SACPqV,OAAQ,SAAC5Z,EAAG6Z,GACV,OAAI7Z,EAAEqa,UAAYR,EAAEQ,WACV,EAENra,EAAEqa,UAAYR,EAAEQ,UACX,EAEF,GAETX,OAAQ,SAACjW,GAAD,OAAOA,GAAQ,IAEzB,CACEuF,MAAM,QACNuQ,UAAW,QACXhV,MAAO,SACPqV,OAAQ,SAAC5Z,EAAG6Z,GACV,OAAI7Z,EAAEsa,MAAQT,EAAES,OACN,EAENta,EAAEsa,MAAQT,EAAES,MACP,EAEF,GAETZ,OAAQ,SAACjW,GAAD,OAAOA,EAAI,cAAC,KAAD,CAAKkI,MAAM,UAAX,SAAqB,iCAASlI,GAAQ,MAAqB,KAK7E,SAAS8W,GAAcC,GAC5B,IAAIC,EAAS,EACTC,EAAS,EACTC,EAAS,EACTC,EAAS,EACTC,EAAS,EACTC,EAAW,EACXC,EAAS,EAYb,OAVAP,EAAS5B,SAAQ,YAAsF,IAAnFkB,EAAkF,EAAlFA,WAAYE,EAAsE,EAAtEA,SAAUE,EAA4D,EAA5DA,aAAcC,EAA8C,EAA9CA,UAAWC,EAAmC,EAAnCA,WAAYC,EAAuB,EAAvBA,UAAWC,EAAY,EAAZA,MACxFG,GAAUX,EACVY,GAAUV,EACVW,GAAUT,EACVU,GAAUT,EACVU,GAAUT,EACVU,GAAYT,EACZU,GAAUT,KAIV,mCACE,eAAC,KAAMU,QAAQC,IAAf,CAAmBzW,MAAO,CAAEC,gBAAiB,WAA7C,UACE,cAAC,KAAMuW,QAAQE,KAAf,UAAoB,6CACpB,cAAC,KAAMF,QAAQE,KAAf,CAAoB3W,MAAM,SAA1B,SACE,cAAC,KAAD,CAAKyD,KAAM,cAACgP,GAAA,EAAD,IAAyBrL,MAAM,UAA1C,SAAoD,iCAAS8O,QAE/D,cAAC,KAAMO,QAAQE,KAAf,CAAoB3W,MAAM,SAA1B,SACE,cAAC,KAAD,CAAKyD,KAAM,cAACmT,GAAA,EAAD,IAAuBxP,MAAM,UAAxC,SAAmD+O,MAGrD,cAAC,KAAMM,QAAQE,KAAf,CAAoB3W,MAAM,SAA1B,SACE,cAAC,KAAD,UAAOoW,MAET,cAAC,KAAMK,QAAQE,KAAf,CAAoB3W,MAAM,SAA1B,SACE,cAAC,KAAD,UAAOqW,MAET,cAAC,KAAMI,QAAQE,KAAf,CAAoB3W,MAAM,SAA1B,SACE,cAAC,KAAD,UAAOsW,MAET,cAAC,KAAMG,QAAQE,KAAf,CAAoB3W,MAAM,SAA1B,SACE,cAAC,KAAD,UAAOuW,MAET,cAAC,KAAME,QAAQE,KAAf,CAAoB3W,MAAM,SAA1B,SACE,cAAC,KAAD,CAAKoH,MAAM,UAAX,SAAqB,iCAASoP,aC5JzB,SAASK,GAAT,GAA2C,IAAD,IAAjBxa,YAAiB,MAAZ,GAAY,EAARwT,EAAQ,EAARA,MAC/C,OAAKxT,GAAQA,EAAK4F,OAAS,EAEvB,qBACEhC,MAAO,CACL+E,MAAO,OACP7E,OAAQ,IACR4P,QAAS,OACToD,WAAY,SACZrD,eAAgB,UANpB,SASE,cAAC,KAAD,CAAMjH,UAAQ,EAACC,IAAI,cAAcC,KAAK,YAIxC,eAAC,SAAD,CAAO5I,OAAQ,IAAKoI,QAAS,CAAC,GAAI,GAAI,GAAI,IAAKlM,KAAMA,EAAM+W,SAAO,EAACd,OAAQ,CACzE,CAAC,UAAW,SAAAwE,GAAG,OAAW,MAAPA,KADrB,UAGE,cAAC,YAAD,CACEC,OAAQ,CACN,CACEjX,KAAM,QACNkX,YAAa,IAGjB5P,MAAO,CACL6P,OAAQ,CAAC,UACTC,SAAU,SAACzb,GAAD,MApCL,eADIwY,EAqCqBxY,GApCH2V,GAAQE,UAC9B,eAAX2C,EAAkC7C,GAAQG,WAC/B,aAAX0C,EAAgC7C,GAAQI,SAC7B,eAAXyC,EAAkC7C,GAAQK,WAC/B,cAAXwC,EAAiC7C,GAAQM,UAC9B,iBAAXuC,EAAoC7C,GAAQO,iBAAhD,EANmB,IAAAsC,IAuCXnY,SAAQ,UAAK+T,EAAL,YACR6D,MAAO,CACLuD,OAAQ,CAAC,UAAW,UACpBC,SAAU,SAACzb,EAAE6Z,GACX,MAAU,eAANA,GAAsB7Z,EAAI,EACrB,CACLsK,QAAStK,EACTwE,MAAO,CACLkX,KAAM,MACNC,SAAU,GACVC,WAAY,SAIT,CACLtR,QAAStK,OAMnB,cAAC,WAAD,CAAS6b,QAAM,IACf,cAAC,eAAD,CAAaxX,KAAK,qBCtBXyX,OAtCf,YAAsE,IAAD,IAArCrR,kBAAqC,MAA1B,GAA0B,MAAtBsR,iBAAsB,MAAZ,GAAY,EAAPhD,EAAO,EAAPA,KAE5D,OAAItO,EAAWjE,QAAU,GAAKuV,GAAa,EAEvC,8BACE,cAAC,KAAD,CAAOvX,MAAO,CAAEqI,OAAQ,YAK1B,eAAC,IAAD,CAAKrI,MAAO,CAAEqJ,UAAW,OAAQ8G,aAAc,QAA/C,UACE,cAAC,IAAD,CAAK/P,GAAI,GAAT,SACE,cAACwW,GAAD,CAAgBxa,KAAMmb,EAAW3H,MAAO2E,MAE1C,cAAC,IAAD,CAAKnU,GAAI,GAAT,SACE,cAAC,IAAD,CAAKJ,MAAO,CAAEqI,OAAQ,UAAtB,SACE,cAAC,KAAD,CACErI,MAAO,CAAEwX,WAAY,oBACrBC,OAAO,MACPC,QAAS5C,GAAgBP,GACzBtO,WAAYA,EACZ6C,KAAK,QACL6O,YAAY,EACZC,QAAS7B,aC7BhB,SAAS8B,KAAwB,IAAVzb,EAAS,uDAAJ,GAC7B0b,EAAU,GACd,GAAI1b,GAAwB,IAAhBA,EAAK4F,OAAc,CAC7B,IAAI+V,EAAU,GACVC,EAAU,GAad,OAZA5b,EAAKgY,SAAQ,SAACmB,GAAD,OAAQuC,EAAQvT,SAASgR,EAAE0C,QAAkC,KAAxBH,EAAQpY,KAAK6V,EAAE0C,WACjE7b,EAAKgY,SAAQ,SAACmB,GAAD,OAAQwC,EAAQxT,SAASgR,EAAEvB,QAAkC,KAAxB+D,EAAQrY,KAAK6V,EAAEvB,WACjE8D,EAAQ1D,SAAQ,SAACiB,GACf0C,EAAQ3D,SAAQ,SAACnV,GACf,IAAIiZ,EAAa9b,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEF,SAAW5C,GAAK8C,EAAEnE,SAAW/U,KAAG+C,OACtEgW,EAAQtY,KAAK,CACXuY,OAAQpa,OAAOwX,GAAGlS,UAAU,GAC5B6Q,OAAQ/U,EACRoM,QAAS6M,UAIR,CAAC7M,QAAS2M,EAASF,UAASC,WAEnC,MAAO,CAAC1M,QAAS,GAAIyM,UAASC,QAAS,IAIpC,SAASK,KAA0B,IAAVhc,EAAS,uDAAJ,GAC/Bic,EAAY,GAChB,GAAIjc,GAAwB,IAAhBA,EAAK4F,OAAc,CAC7B,IAAI+V,EAAU,GACVC,EAAU,GAuBd,OAtBA5b,EAAKgY,SAAQ,SAACmB,GACRA,EAAE+C,UAAY/C,EAAE+C,SAAS5Z,SACtB2Z,EAAU9T,SAASgR,EAAE+C,SAAS5Z,SAAS2Z,EAAU3Y,KAAK6V,EAAE+C,SAAS5Z,YAG1EtC,EAAKgY,SAAQ,SAACmB,GAAD,OAAQwC,EAAQxT,SAASgR,EAAEvB,QAAkC,KAAxB+D,EAAQrY,KAAK6V,EAAEvB,WACjEqE,EAAUjE,SAAQ,SAACmE,GACjBR,EAAQ3D,SAAQ,SAACnV,GACf,IAAIiZ,EAAa9b,EAAKiW,QAAO,SAAC8F,GAC5B,SAAIA,EAAEG,WAAYH,EAAEG,SAAS5Z,UACpByZ,EAAEG,SAAS5Z,SAAW6Z,GAAKJ,EAAEnE,SAAW/U,MAIhD+C,OACHgW,EAAQtY,KAAK,CACX4Y,SAAUC,EACVvE,OAAQ/U,EACRoM,QAAS6M,UAIR,CAAC7M,QAAS2M,EAASK,aAE1B,MAAO,CAAChN,QAAS,GAAIgN,aAIlB,SAASG,KAAwB,IAAVpc,EAAS,uDAAJ,GAC7B6X,EAAW,GACf,GAAI7X,GAAwB,IAAhBA,EAAK4F,OAAc,CAC7B,IAAI+V,EAAU,GACVC,EAAU,GAuBd,OAtBA5b,EAAKgY,SAAQ,SAACmB,GACRA,EAAEzW,QAAUyW,EAAEzW,OAAOJ,SAClBuV,EAAS1P,SAASgR,EAAEzW,OAAOJ,SAASuV,EAASvU,KAAK6V,EAAEzW,OAAOJ,YAGpEtC,EAAKgY,SAAQ,SAACmB,GAAD,OAAQwC,EAAQxT,SAASgR,EAAEvB,QAAkC,KAAxB+D,EAAQrY,KAAK6V,EAAEvB,WACjEC,EAASG,SAAQ,SAACmE,GAChBR,EAAQ3D,SAAQ,SAACnV,GACf,IAAIiZ,EAAa9b,EAAKiW,QAAO,SAAC8F,GAC5B,SAAIA,EAAErZ,SAAUqZ,EAAErZ,OAAOJ,UAChByZ,EAAErZ,OAAOJ,SAAW6Z,GAAKJ,EAAEnE,SAAW/U,MAI9C+C,OACHgW,EAAQtY,KAAK,CACXZ,OAAQyZ,EACRvE,OAAQ/U,EACRoM,QAAS6M,UAIR,CAAC7M,QAAS2M,EAAS/D,YAE1B,MAAO,CAAC5I,QAAS,GAAI4I,YAwClB,SAASwE,KAA+B,IAAhBrc,EAAe,uDAAV,GAAImY,EAAM,uCAC5C,GAAInY,GAAQA,EAAK4F,OAAS,EAAG,CAC3B,IAAI0W,EAAQ,GACRC,EAAY,GAgChB,OA9BAvc,EAAKgY,SAAQ,SAAC+D,GAAaO,EAAMnU,SAAS4T,EAAE5D,KAAQmE,EAAMhZ,KAAKyY,EAAE5D,OAEjEmE,EAAMrG,QAAO,SAACpT,GAAD,OAAOA,KAAGmV,SAAQ,SAACnV,EAAGoF,GACL,IAAD,EAYpB,EAZHsU,EAAU3W,QAAU,EACtB2W,EAAY,KACVpV,IAAKc,GADK,eAETkQ,EAAOtV,GAFE,4BAGE7C,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAAyBhT,IAAMkZ,EAAE5D,MAAOvS,QAH1E,0BAIA5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAAuBhT,IAAMkZ,EAAE5D,MAAOvS,QAJtE,8BAKI5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAA2BhT,IAAMkZ,EAAE5D,MAAOvS,QAL9E,2BAMC5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAAwBhT,IAAMkZ,EAAE5D,MAAOvS,QANxE,4BAOE5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAAyBhT,IAAMkZ,EAAE5D,MAAOvS,QAP1E,2BAQC5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAAwBhT,IAAMkZ,EAAE5D,MAAOvS,QARxE,uBASH5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOlZ,IAAMkZ,EAAE5D,MAAOvS,QAT/B,IAYZ2W,EAAUjZ,MAAV,GACE6D,IAAKc,GADP,eAEGkQ,EAAOtV,GAFV,4BAGc7C,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAAyBhT,IAAMkZ,EAAE5D,MAAOvS,QAHtF,0BAIY5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAAuBhT,IAAMkZ,EAAE5D,MAAOvS,QAJlF,8BAKgB5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAA2BhT,IAAMkZ,EAAE5D,MAAOvS,QAL1F,2BAMa5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAAwBhT,IAAMkZ,EAAE5D,MAAOvS,QANpF,4BAOc5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAAyBhT,IAAMkZ,EAAE5D,MAAOvS,QAPtF,2BAQa5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAAwBhT,IAAMkZ,EAAE5D,MAAOvS,QARpF,uBASS5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOlZ,IAAMkZ,EAAE5D,MAAOvS,QAT3C,OAcG2W,EAEP,MAAO,GAIJ,SAASC,KAAiC,IAAhBxc,EAAe,uDAAV,GAAImY,EAAM,uCAC9C,GAAInY,GAAQA,EAAK4F,OAAS,EAAG,CAC3B,IAAI0W,EAAQ,GACRC,EAAY,GAgChB,OA9BAvc,EAAKgY,SAAQ,SAAC+D,GAAaO,EAAMnU,SAAS4T,EAAE5D,GAAM7V,SAASga,EAAMhZ,KAAKyY,EAAE5D,GAAM7V,WAE9Ega,EAAMrG,QAAO,SAACpT,GAAD,OAAOA,KAAGmV,SAAQ,SAACnV,EAAGoF,GACL,IAAD,EAYpB,EAZHsU,EAAU3W,QAAU,EACtB2W,EAAY,KACVpV,IAAKc,GADK,eAETkQ,EAAOtV,GAFE,4BAGE7C,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAAyBhT,IAAMkZ,EAAE5D,GAAM7V,UAAQsD,QAHjF,0BAIA5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAAuBhT,IAAMkZ,EAAE5D,GAAM7V,UAAQsD,QAJ7E,8BAKI5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAA2BhT,IAAMkZ,EAAE5D,GAAM7V,UAAQsD,QALrF,2BAMC5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAAwBhT,IAAMkZ,EAAE5D,GAAM7V,UAAQsD,QAN/E,4BAOE5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAAyBhT,IAAMkZ,EAAE5D,GAAM7V,UAAQsD,QAPjF,2BAQC5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAAwBhT,IAAMkZ,EAAE5D,GAAM7V,UAAQsD,QAR/E,uBASH5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOlZ,IAAMkZ,EAAE5D,GAAM7V,UAAQsD,QATtC,IAYZ2W,EAAUjZ,MAAV,GACE6D,IAAKc,GADP,eAEGkQ,EAAOtV,GAFV,4BAGc7C,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAAyBhT,IAAMkZ,EAAE5D,GAAM7V,UAAQsD,QAH7F,0BAIY5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAAuBhT,IAAMkZ,EAAE5D,GAAM7V,UAAQsD,QAJzF,8BAKgB5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAA2BhT,IAAMkZ,EAAE5D,GAAM7V,UAAQsD,QALjG,2BAMa5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAAwBhT,IAAMkZ,EAAE5D,GAAM7V,UAAQsD,QAN3F,4BAOc5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAAyBhT,IAAMkZ,EAAE5D,GAAM7V,UAAQsD,QAP7F,2BAQa5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOA,EAAEnE,SAAW/B,IAAwBhT,IAAMkZ,EAAE5D,GAAM7V,UAAQsD,QAR3F,uBASS5F,EAAKiW,QAAO,SAAC8F,GAAD,OAAOlZ,IAAMkZ,EAAE5D,GAAM7V,UAAQsD,QATlD,OAcG2W,EAEP,MAAO,G,IClMHrK,GAAWC,KAAXD,OACAhH,GAASuR,KAATvR,KACAwR,GAAYC,KAAZD,QA+IOne,OA7If,YAAoC,IAApBgZ,EAAmB,EAAnBA,KAAmB,IAAbtI,eAAa,MAAL,GAAK,IACH9F,mBAASmN,IADN,oBAC1BjI,EAD0B,KACjBuO,EADiB,OAEGzT,mBAASoN,IAFZ,oBAE1BsG,EAF0B,KAEdC,EAFc,OAGe3T,mBAAS,IAHxB,oBAG1B4T,EAH0B,KAGRC,EAHQ,iDAWjC,sBAAA5d,EAAA,2DACM6P,GAAWA,EAAQrJ,OAAS,GADlC,yCAEW,IAAIqX,SAAQ,SAACC,GAAD,OAAaA,EAAQC,EAAclO,OACnDlP,MAAK,SAACC,GAAD,OAAUod,EAAiBpd,MAChCD,MAAK,SAACsd,GAAD,OAAWL,EAAoBK,MACpC9c,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,OALlC,cAOIwc,EAAoB,IAPxB,sEAXiC,sBAuBjC,SAASG,IAAwB,IAAVnd,EAAS,uDAAJ,GAC1B,IAAIA,GAAQA,EAAK4F,OAAS,EAAG,MAAO,GACpC,IAAM0X,EAAe,uBAAO5H,IAAP,aAAsBD,KACrC8H,EAAa,uBAAO/H,IAAP,aAAoBD,KACjCiI,EAAe,uBAAO5H,IAAP,aAAsBD,KAE3C,OAAItH,IAAYiI,GACPtW,EAAKiW,QAAO,SAACpT,GAAD,OAAOA,GAAKA,EAAEuV,mBAAqBkF,EAAgBnV,SAAStF,EAAEuV,sBACvE/J,IAAYiI,GACftW,EAAKiW,QAAO,SAACpT,GAAD,OAAOA,GAAKA,EAAEuV,mBAAqBmF,EAAcpV,SAAStF,EAAEuV,sBACtE/J,IAAYiI,GACdtW,EAAKiW,QAAO,SAACpT,GAAD,OAAOA,GAAKA,EAAEuV,mBAAqBoF,EAAgBrV,SAAStF,EAAEuV,sBACxE/J,IAAYiI,GACdtW,EAAKiW,QAAO,SAACpT,GAAD,OAAOA,GAAKA,EAAEuV,mBAAqBtC,GAAM3N,SAAStF,EAAEuV,sBAEhEpY,EAIX,SAASod,IAA2B,IAAVpd,EAAS,uDAAJ,GAC7B,IAAIA,GAAQA,EAAK4F,OAAS,EAAG,MAAO,GACpC,IAAM6X,EAAG,uBAAO/H,IAAP,aAAqBF,IAArB,aAAiCI,KACpC8H,EAAI,uBAAOjI,IAAP,aAAsBF,IAAtB,aAAmCI,KAE7C,OAAIkH,IAAetG,GACVvW,EAAKiW,QAAO,SAACpT,GAAD,OAAOA,GAAKA,EAAEuV,mBAAqBqF,EAAItV,SAAStF,EAAEuV,sBAC5DyE,IAAetG,GACjBvW,EAAKiW,QAAO,SAACpT,GAAD,OAAOA,GAAKA,EAAEuV,mBAAqBsF,EAAKvV,SAAStF,EAAEuV,sBAE/DpY,EAIX,OAnDAuD,qBAAU,WACL8K,IAAYiI,IAAoC,SAAfuG,GAAuBC,EAAc,QAN1C,mCAO/Ba,KAEA,CAAC1O,EAASZ,EAASwO,IAgDnB,gCACE,sBAAKjZ,MAAO,CAAEqJ,UAAW,SAAzB,UACE,6DAAgCsK,KAChC,eAAC,IAAD,WACE,eAAC,IAAD,CAAKvT,GAAI,EAAT,UACE,6CACA,eAAC,KAAD,CAAQ0I,KAAK,QAAQ9I,MAAO,CAAE+E,MAAO,QAASsC,WAAY,SAAW3E,MAAO+H,EAASwF,SAAU,SAAChR,GAAD,OAAO+Z,EAAW/Z,IAAjH,UACE,cAAC,GAAD,CAAQyD,MAAOgQ,GAAf,qBACA,cAAC,GAAD,CAAQhQ,MAAOgQ,GAAf,mBACA,cAAC,GAAD,CAAQhQ,MAAOgQ,GAAf,qBACA,cAAC,GAAD,CAAQhQ,MAAOgQ,GAAf,mBACA,cAAC,GAAD,CAAQhQ,MAAM,OAAd,wBAGJ,eAAC,IAAD,CAAKtC,GAAI,EAAT,UACE,kDACA,eAAC,KAAD,CAAQ0I,KAAK,QAAQkR,SAAUvP,IAAYiI,GAAmB1S,MAAO,CAAE+E,MAAO,QAASsC,WAAY,SAAW3E,MAAOuW,EAAYhJ,SAAU,SAAChR,GAAD,OAAOia,EAAcja,IAAhK,UACE,cAAC,GAAD,CAAQyD,MAAOiQ,GAAf,iBACA,cAAC,GAAD,CAAQjQ,MAAOiQ,GAAf,kBACA,cAAC,GAAD,CAAQjQ,MAAM,OAAd,wBAGJ,eAAC,IAAD,CAAKtC,GAAI,EAAT,UACE,0CACA,cAAC,GAAD,CAAMP,KAAK,YAAX,2BAIN,eAAC,KAAD,CAAMG,MAAO,CAACia,YAAa,QAASC,UAAU,EAA9C,UACE,cAACpB,GAAD,CACEqB,IACE,iCACE,cAACC,GAAA,EAAD,IADF,YAFJ,SASE,cAAC,GAAD,CACEnU,WAAYwS,GAAeU,EAAkB,UAC7C5B,UAAWM,GAAcsB,GAAkB9N,QAC3CkJ,KAAK,YALH,KAQN,cAACuE,GAAD,CACEqB,IACE,iCACE,cAACE,GAAA,EAAD,IADF,cAFJ,SASG,cAAC,GAAD,CACCpU,WAAY2S,GAAiBO,EAAiB9G,QAAO,SAAC8F,GAAD,OAAOA,EAAEvN,SAAWuN,EAAEG,YAAW,YACtFf,UAAWa,GAAgBe,EAAiB9G,QAAO,SAAC8F,GAAD,OAAOA,EAAEvN,SAAWuN,EAAEG,aAAWjN,QACpFkJ,KAAK,cALH,KAQN,cAACuE,GAAD,CACEqB,IACE,iCACE,cAAChZ,EAAA,EAAD,IADF,YAFJ,SASG,cAAC,GAAD,CACC8E,WAAY2S,GAAiBO,EAAiB9G,QAAO,SAAC8F,GAAD,OAAOA,EAAEvN,SAAWuN,EAAErZ,UAAS,UACpFyY,UAAWiB,GAAcW,EAAiB9G,QAAO,SAAC8F,GAAD,OAAOA,EAAEvN,SAAWuN,EAAErZ,WAASuM,QAChFkJ,KAAK,YALH,Y,mBCjFC+F,OAlDf,YAAmE,IAArC3G,EAAoC,EAApCA,KAAM4G,EAA8B,EAA9BA,MAAOC,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,WACnD,OACE,eAAC,IAAD,CAAKra,GAAI,GAAGJ,MAAO,CAAE6P,eAAgB,SAAU6K,UAAW,UAA1D,UACE,wCAAW/G,EAAX,OACA,eAAC,IAAD,CAAKgH,OAAQ,GAAI3a,MAAO,CAAEqI,OAAQ,UAAlC,UACE,cAAC,IAAD,CAAKjI,GAAI,GAAT,SACE,cAAC,KAAD,CAASoE,MAAK,UAAK+V,EAAL,uBAAyBC,EAAzB,aAAd,SACE,cAAC,KAAD,CACEI,OAAQ,SAACC,GAAD,OAAOA,EAAI,KACnBC,YAAaL,EAAa,GAAKtJ,GAAQ1U,MAAQge,GAAc,IAAMA,EAAa,GAAKtJ,GAAQC,QAAUD,GAAQ7U,QAC/Gye,QAASN,EACTO,YAAa,GACbjW,MAAO,IACPkW,UAAW,GACXC,WAAW,UACXrb,KAAK,YACLsb,UAAQ,QAId,eAAC,IAAD,CAAK/a,GAAI,GAAT,UACE,cAAC,IAAD,CAAKJ,MAAO,CAACmQ,aAAc,SAA3B,SACE,cAAC,KAAD,CACE3L,MAAM,WACN9B,MAAO6X,EACPhI,WAAY,CAAEpL,MAAOgK,GAAQ7U,SAC7B4E,OAAQ,cAACsR,GAAA,EAAD,QAGZ,cAAC,IAAD,CAAKxS,MAAO,CAACmQ,aAAc,SAA3B,SACE,cAAC,KAAD,CACE3L,MAAM,WACN9B,MAAO8X,EACPjI,WAAY,CAAEpL,MAAOgK,GAAQ1U,OAC7ByE,OAAQ,cAACuR,GAAA,EAAD,kB,mBCpCdnL,GAASuR,KAATvR,KAqHO8T,OAnHf,YAAiE,IAAD,IAApC/P,eAAoC,MAA5B,GAA4B,EAAxB7F,EAAwB,EAAxBA,QAAS6V,EAAe,EAAfA,MAAOC,EAAQ,EAARA,MAEhDC,EAAkB,CACtB,CACE/W,MAAO,IACPO,MAAO,GACPhF,MAAO,SACPmV,OAAQ,SAACzE,EAAE+K,EAAGnX,GAAN,OAAYA,EAAE,IAExB,CACEG,MAAO,gBACPuQ,UAAW,gBACXhQ,MAAO,IACPhF,MAAO,SACPmV,OAAQ,SAACuG,GAAD,OAAO,cAAC,GAAD,CAAMC,UAAQ,EAAd,SAAgBD,MAEjC,CACEjX,MAAO,UACPuQ,UAAW,iBACXhQ,MAAO,IACPhF,MAAO,SACPmV,OAAQ,SAACuG,GAAD,OAAO,cAAC,GAAD,CAAMC,UAAQ,EAAd,SAAgBD,MAEjC,CACEjX,MAAO,SACPuQ,UAAW,SACXhQ,MAAO,IACPiQ,UAAU,EACVE,OAAQ,SAACC,GAAD,OAAOA,GAAKA,EAAEzW,OAAS,cAAC,GAAD,oBAAUyW,EAAEzW,OAAZ,YAAsByW,EAAE/E,aAAsB,MAE/E,CACE5L,MAAO,UACPuQ,UAAW,UACXhQ,MAAO,IACPiQ,UAAU,EACVE,OAAQ,SAACC,GAAD,OAAOA,GAAKA,EAAEzW,OAAS,cAAC,GAAD,oBAAUyW,EAAEzW,OAAZ,YAAsByW,EAAE/E,aAAsB,MAE/E,CACE5L,MAAO,SACPuQ,UAAW,SACXhQ,MAAO,GACPhF,MAAO,UAET,CACEyE,MAAO,YACPuQ,UAAW,oBACXhQ,MAAO,KAET,CACEP,MAAO,eACPuQ,UAAW,YACXhQ,MAAO,KAET,CACEP,MAAO,iBACPuQ,UAAW,yBACXhQ,MAAO,IACPhF,MAAO,SACPmV,OAAQ,SAACyG,GAAD,OAAOnL,KAAOmL,GAAGf,OAAO,oBAElC,CACEpW,MAAO,kBACPuQ,UAAW,yBACXhQ,MAAO,IACPhF,MAAO,SACPmV,OAAQ,SAACyG,GAAD,OAAOnL,KAAOmL,GAAGf,OAAO,oBAElC,CACEpW,MAAO,QACPuQ,UAAW,yBACXhQ,MAAO,GACPhF,MAAO,SACPmV,OAAQ,SAACyG,EAAGC,GACV,IAAIpgB,EAAIgV,KAAOoL,EAAIC,wBAAwBC,KAAKH,EAAG,QACnD,OAAIngB,EAAI8f,EACC,cAAC,KAAD,CAAKnU,MAAM,UAAX,SAAsB3L,IAEtB,cAAC,KAAD,CAAK2L,MAAM,QAAX,SAAoB3L,OAMnC,OACE,cAAC,KAAD,CACEgJ,MAAM,mBACNgB,QAASA,EACTuW,KAAMV,EACNW,SAAUX,EACVY,QAAQ,EACRlX,MAAM,OACNmX,UAAQ,EAPV,SASE,cAAC,KAAD,CACEzE,OAAO,gBACPxR,WAAYoF,EACZqM,QAAS6D,EACT5D,WAAY,CACVwE,SAAU,IAEZrT,KAAK,QACLsT,UAAQ,EACRC,OAAQ,CAAEC,EAAG,OAAQC,EAAG,aCrGjB,SAASC,GAAT,GAAuD,IAAD,IAA/BpgB,YAA+B,MAA1B,GAA0B,EAAtB6d,EAAsB,EAAtBA,YAAa/Z,EAAS,EAATA,OAAS,EACrCqF,oBAAS,GAD4B,oBAC5D5J,EAD4D,KACnD8gB,EADmD,OAE3BlX,oBAAS,GAFkB,oBAE5DmX,EAF4D,KAE9CC,EAF8C,OAGvBpX,mBAAS,IAHc,oBAG5DqX,EAH4D,KAG5CC,EAH4C,OAIzCtX,mBAAS,GAJgC,oBAI5D+V,EAJ4D,KAIrDwB,EAJqD,KAMnEnd,qBAAU,WACR8c,GAAW,GACXM,YAAW,WACTN,GAAW,KACV,MACH,CAACrgB,EAAMsgB,IAET,IAYMM,EAAoB,kBAAML,GAAiBD,IAE3CO,EAAoB,CACxB,cAAe,CACbzY,MAAO,cACP2C,MAAO+V,SAAM,IAEf,YAAa,CACX1Y,MAAO,YACP2C,MAAO+V,SAAM,KAIXC,EAAc,CAClB5C,MAAO,QACP6C,QAAS,WAGX,OAAIzhB,IAAYS,GAAQA,EAAK4F,OAAS,EAElC,qBACEhC,MAAO,CACL+E,MAAO,OACP7E,OAAQA,EACR4P,QAAS,OACToD,WAAY,SACZrD,eAAgB,UANpB,SASE,cAAC,KAAD,CAAMjH,UAAQ,EAACC,IAAI,cAAcC,KAAK,YAKxC,eAAC,SAAD,CACEqK,SAAO,EACP/W,KAAMA,EACN8D,OAAQA,EACRoI,QAAS,CAAC,GAAI,GAAI,GAAI2R,GACtBoD,cAAe,CAAC,IAChB7V,QAAS,mBApDM,SAACpL,GAChBA,GAAQA,EAAKA,OACa,cAAxBA,EAAKA,KAAKkhB,UACZR,EAAS,IAETA,EAAS,IAEXD,EAAkBzgB,EAAKA,KAAKiP,SAC5B2R,KA4CuBO,CAAZ,EAAEnhB,OANb,UAQE,cAAC,UAAD,CAAQoJ,SAAS,EAAMgY,SAAU,CAC/BC,UAAW,SAAC5K,EAAMxM,GAChB,OAAO8W,EAAYtK,OAGvB,cAAC,WAAD,CAAS6K,aAAa,IACtB,cAAC,SAAD,CACE1G,OAAQ,CAAC,aACTnX,KAAK,OACL8d,YAAa,CACXC,SAAU,GACV5d,MAAO,CACLmX,SAAU,GACVC,WAAY,IACZF,KAAM,WAERuG,UAAW,SAAC5G,GACV,OAAOoG,EAAkBpG,GAAKrS,QAGlCqZ,SAAU,SAACC,EAAMC,GACfD,EAAKE,aAAa5K,YAEQ,IAAtB2K,EAAME,aACRH,EAAKI,KAAK,SAAU,CAClBC,SAAU,KACVC,KAAM,OAERN,EAAKI,KAAK,SAAS,IAEnBJ,EAAKI,MAAK,GAEZ,IAAM/W,EAAQ8V,EAAkBc,EAAMM,aAAalX,MACnD2W,EACGQ,WACAxH,OAAO,SACPjb,SAAS,gBACTsL,MAAM,OAAQ,CAACA,EAAO,YACtB2B,KAAK,IACL2K,MAAM,cAAc,SAAC/Q,EAAO7C,GAC3B,GAAa,YAATA,EACF,OAAO,KAET,IAAM+G,EAASlE,EAAQ,GAAK,IAAM,EAClC,MAAO,CACLoD,QAAQ,GAAD,OAAKpD,EAAL,KACPkE,aAGH8M,QACC,uCACA,SAAChV,EAAQgE,EAAO4a,EAAWzd,EAAMwL,GAC/B,MAAO,CACL7G,MAAO9F,EACPgE,MAAM,GAAD,OAAK7C,EAAL,cAAewL,EAAQrJ,QAC5BvB,KAAM6c,MAIdQ,EAAKS,YAAY,qBAGrB,cAAC,GAAD,CAAmBlT,QAASuR,EAAgBvB,MAAO2B,EAAmBxX,QAASkX,EAAcpB,MAAOA,O,IC/HpGxC,GAAYC,KAAZD,QA4LOne,OA1Lf,YAAoC,IAAD,IAAnB0Q,eAAmB,MAAX,GAAW,EAAPsI,EAAO,EAAPA,KAAO,EACPpO,mBAAS,CAACgV,MAAM,GAAIC,SAAU,GAAIC,WAAY,IADvC,oBAC1B+D,EAD0B,KACnBC,EADmB,OAEHlZ,mBAAS,CAACgV,MAAM,GAAIC,SAAU,GAAIC,WAAY,IAF3C,oBAE1BiE,EAF0B,KAEjBC,EAFiB,OAGGpZ,oBAAS,GAHZ,oBAG1BqZ,EAH0B,KAGdC,EAHc,OAIStZ,mBAAS,IAJlB,oBAI1BuZ,EAJ0B,KAIXC,EAJW,OAKaxZ,mBAAS,IALtB,oBAK1ByZ,EAL0B,KAKTC,EALS,OAMS1Z,mBAAS,IANlB,oBAM1B2Z,EAN0B,KAMXC,EANW,KAyCjC,SAASC,EAAYhjB,EAAMuX,GACzB,IAAM4G,EAAQne,EAAKiW,QAAO,SAACpT,GAAD,OAAOuR,KAAOvR,EAAE4c,wBAAwBC,KAAK7c,EAAEogB,uBAAwB,QAAU1L,KACrG6G,EAAWpe,EAAKiW,QAAO,SAACpT,GAAD,OAAOuR,KAAOvR,EAAE4c,wBAAwBC,KAAK7c,EAAEogB,uBAAwB,SAAW1L,KAG/G,MAAO,CAAC4G,QAAOC,WAAUC,WAFN6E,KAAKC,MAAoB,IAAbhF,EAAMvY,QAAeuY,EAAMvY,OAASwY,EAASxY,UA8D9E,SAASwd,EAAcvgB,EAAGwgB,EAAcC,EAAiBC,EAAYC,GACnE,MAAO,CAAC,CACNtC,UAAW,cACX5e,OAAQO,EACRY,KAAM,QACNwL,QAASoU,EACT/c,MAAO4c,KAAKC,MAA6B,IAAtBE,EAAazd,QAAiByd,EAAazd,OAAS0d,EAAgB1d,UACvF,CACAsb,UAAW,cACX5e,OAAQO,EACRY,KAAM,UACNwL,QAASqU,EACThd,MAAO4c,KAAKC,MAAgC,IAAzBG,EAAgB1d,QAAiByd,EAAazd,OAAS0d,EAAgB1d,UAC1F,CACAsb,UAAW,YACX5e,OAAQO,EACRY,KAAM,QACNwL,QAASsU,EACTjd,MAAO4c,KAAKC,MAA2B,IAApBI,EAAW3d,QAAiB2d,EAAW3d,OAAS4d,EAAc5d,UACjF,CACAsb,UAAW,YACX5e,OAAQO,EACRY,KAAM,UACNwL,QAASuU,EACTld,MAAO4c,KAAKC,MAA8B,IAAvBK,EAAc5d,QAAiB2d,EAAW3d,OAAS4d,EAAc5d,WAIxF,OA9HArC,qBAAU,WACJ0L,GAAWA,EAAQrJ,OAAS,EAUlC,WACE,IAAM6d,EAAgB,uBAAO/N,IAAP,aAAsBD,KACtCiO,EAAc,uBAAOlO,IAAP,aAAoBD,KAClCoO,EAAW,uBAAOF,GAAP,aAA4BC,IACzCE,EAAiBpB,EACnBvT,EAAQgH,QAAO,SAACpT,GAAD,OAAO8gB,EAAYxb,SAAStF,EAAEuV,oBAA4D,kBAAtC3W,OAAOoB,EAAEghB,WAAWC,iBAEvF7U,EAAQgH,QAAO,SAACpT,GAAD,OAAO8gB,EAAYxb,SAAStF,EAAEuV,sBACzC2L,EAAcf,EAAYY,EAAe3N,QAAO,SAACpT,GAAD,OAAO4gB,EAAiBtb,SAAStF,EAAEuV,sBAAqB,IACxG4L,EAAYhB,EAAYY,EAAe3N,QAAO,SAACpT,GAAD,OAAO6gB,EAAevb,SAAStF,EAAEuV,sBAAqB,IAE1G,KAmBF,SAAuBpY,EAAM+jB,EAAaC,GACxC,IAAItI,EAAU,GACVuI,EAAe,GACnBjkB,EAAKgY,SAAQ,SAACnV,GACP6Y,EAAQvT,SAAStF,EAAEgZ,SACtBH,EAAQpY,KAAKT,EAAEgZ,WAGnBH,EAAQzF,QAAO,SAAApT,GAAC,OAAIA,KAAGmV,SAAQ,SAACnV,GAC9B,IAAIwgB,EAAeU,EAAY5F,MAAMlI,QAAO,SAACiO,GAAD,OAASA,GAAOA,EAAIrI,SAAWhZ,KACvEygB,EAAkBS,EAAY3F,SAASnI,QAAO,SAACiO,GAAD,OAASA,GAAOA,EAAIrI,SAAWhZ,KAC7E0gB,EAAaS,EAAU7F,MAAMlI,QAAO,SAACiO,GAAD,OAASA,GAAOA,EAAIrI,SAAWhZ,KACnE2gB,EAAgBQ,EAAU5F,SAASnI,QAAO,SAACiO,GAAD,OAASA,GAAOA,EAAIrI,SAAWhZ,KAE7EohB,EAAa3gB,KAAb,MAAA2gB,EAAY,aAASb,EAAc3hB,OAAOoB,GAAGkE,UAAU,GAAIsc,EAAcC,EAAiBC,EAAYC,QAExGb,EAAiBsB,GAlCfE,CAAcP,EAAgBG,EAAaC,GAqC/C,SAAyBhkB,EAAM+jB,EAAaC,GAC1C,IAAI/H,EAAY,GACZmI,EAAiB,GACrBpkB,EAAKgY,SAAQ,SAACnV,GACRA,EAAEqZ,WAAaD,EAAU9T,SAAStF,EAAEqZ,SAAS5Z,SAC/C2Z,EAAU3Y,KAAKT,EAAEqZ,SAAS5Z,WAG9B2Z,EAAUhG,QAAO,SAAApT,GAAC,OAAIA,KAAGmV,SAAQ,SAACnV,GAChC,IAAIwgB,EAAeU,EAAY5F,MAAMlI,QAAO,SAACiO,GAAD,OAASA,GAAOA,EAAIhI,UAAYgI,EAAIhI,SAAS5Z,SAAWO,KAChGygB,EAAkBS,EAAY3F,SAASnI,QAAO,SAACiO,GAAD,OAASA,GAAOA,EAAIhI,UAAYgI,EAAIhI,SAAS5Z,SAAWO,KACtG0gB,EAAaS,EAAU7F,MAAMlI,QAAO,SAACiO,GAAD,OAASA,GAAOA,EAAIhI,UAAYgI,EAAIhI,SAAS5Z,SAAWO,KAC5F2gB,EAAgBQ,EAAU5F,SAASnI,QAAO,SAACiO,GAAD,OAASA,GAAOA,EAAIhI,UAAYgI,EAAIhI,SAAS5Z,SAAWO,KAEtGuhB,EAAe9gB,KAAf,MAAA8gB,EAAc,aAAShB,EAAcvgB,EAAGwgB,EAAcC,EAAiBC,EAAYC,QAErFX,EAAmBuB,GApDjBC,CAAgBT,EAAgBG,EAAaC,GAuDjD,SAAuBhkB,EAAM+jB,EAAaC,GACxC,IAAInM,EAAW,GACXyM,EAAgB,GACpBtkB,EAAKgY,SAAQ,SAACnV,GACRA,EAAEH,SAAWmV,EAAS1P,SAAStF,EAAEH,OAAOJ,SAC1CuV,EAASvU,KAAKT,EAAEH,OAAOJ,WAG3BuV,EAAS5B,QAAO,SAAApT,GAAC,OAAIA,KAAGmV,SAAQ,SAACnV,GAC/B,IAAIwgB,EAAeU,EAAY5F,MAAMlI,QAAO,SAACiO,GAAD,OAASA,GAAOA,EAAIxhB,QAAUwhB,EAAIxhB,OAAOJ,SAAWO,KAC5FygB,EAAkBS,EAAY3F,SAASnI,QAAO,SAACiO,GAAD,OAASA,GAAOA,EAAIxhB,QAAUwhB,EAAIxhB,OAAOJ,SAAWO,KAClG0gB,EAAaS,EAAU7F,MAAMlI,QAAO,SAACiO,GAAD,OAASA,GAAOA,EAAIxhB,QAAUwhB,EAAIxhB,OAAOJ,SAAWO,KACxF2gB,EAAgBQ,EAAU5F,SAASnI,QAAO,SAACiO,GAAD,OAASA,GAAOA,EAAIxhB,QAAUwhB,EAAIxhB,OAAOJ,SAAWO,KAElGyhB,EAAchhB,KAAd,MAAAghB,EAAa,aAASlB,EAAcvgB,EAAGwgB,EAAcC,EAAiBC,EAAYC,QAEpFT,EAAiBuB,GAtEfC,CAAcX,EAAgBG,EAAaC,GAC3C,MAAO3jB,GACPK,QAAQC,IAAIN,GAEdkiB,EAAWwB,GACX1B,EAAS2B,GA5BPQ,IAGAnC,EAAS,CAAClE,MAAM,GAAIC,SAAU,GAAIC,WAAY,IAC9CkE,EAAW,CAACpE,MAAM,GAAIC,SAAU,GAAIC,WAAY,OAGlD,CAACpP,EAASuT,IAsHV,sBAAK5e,MAAO,CAAEqJ,UAAW,SAAzB,UACE,qDAAwBsK,KACxB,cAAC,KAAD,CAAUkN,QAASjC,EAAY3O,SAAU,SAAChR,GAAD,OAAO4f,EAAc5f,EAAEoR,OAAOwQ,YAFzE,mBAGE,eAAC,IAAD,CAAK7gB,MAAO,CAAEqI,OAAQ,UAAtB,UACE,cAAC,GAAD,CAAqBsL,KAAM,GAAI4G,MAAOmE,EAAQnE,MAAMvY,OAAQwY,SAAUkE,EAAQlE,SAASxY,OAAQyY,WAAYiE,EAAQjE,aACnH,cAAC,GAAD,CAAqB9G,KAAM,GAAI4G,MAAOiE,EAAMjE,MAAMvY,OAAQwY,SAAUgE,EAAMhE,SAASxY,OAAQyY,WAAY+D,EAAM/D,gBAE/G,eAAC,KAAD,CAAMza,MAAO,CAACia,YAAa,QAASC,UAAU,EAA9C,UACE,cAAC,GAAD,CACEC,IACE,iCACE,cAACC,GAAA,EAAD,IADF,YAFJ,SASE,cAACoC,GAAD,CAAcpgB,KAAM0iB,EAAe7E,YAAa,IAAK/Z,OAAQ,OAFzD,KAIN,cAAC,GAAD,CACEia,IACE,iCACE,cAACE,GAAA,EAAD,IADF,cAFJ,SASG,cAACmC,GAAD,CAAcpgB,KAAM4iB,EAAiB/E,YAAa,IAAK/Z,OAAQ,OAF5D,KAIN,cAAC,GAAD,CACEia,IACE,iCACE,cAAChZ,EAAA,EAAD,IADF,YAFJ,SASE,cAACqb,GAAD,CAAcpgB,KAAM8iB,EAAejF,YAAa,IAAK/Z,OAAQ,OAFzD,YClLNoO,GAAWC,KAAXD,OAEFwS,GAAO,OA4HEnmB,OA1Hf,YAAoC,IAAD,IAAnB0Q,eAAmB,MAAX,GAAW,EAAPsI,EAAO,EAAPA,KAAO,EACWpO,mBAAS,IADpB,oBAC1Bwb,EAD0B,KACVC,EADU,OAEuBzb,mBAASub,IAFhC,oBAE1BG,EAF0B,KAEJC,EAFI,OAGe3b,mBAAS,IAHxB,oBAG1B4b,EAH0B,KAGRC,EAHQ,OAIW7b,mBAAS,IAJpB,oBAI1B8b,EAJ0B,KAIVC,EAJU,OAKK/b,mBAAS,KALd,oBAK1Bgc,EAL0B,KAKbC,EALa,iDA2BjC,4BAAAhmB,EAAA,sDACM6P,GAAWA,EAAQrJ,OAAS,IAC1BqW,EAAY,CAAC,QACjBhN,EAAQ+I,SAAQ,SAACnV,GACXA,EAAEqZ,UAAYrZ,EAAEqZ,SAAS5Z,SAAW2Z,EAAU9T,SAAStF,EAAEqZ,SAAS5Z,SACpE2Z,EAAU3Y,KAAKT,EAAEqZ,SAAS5Z,WAG9BsiB,EAAkB3I,EAAUhG,QAAO,SAACpT,GAAD,OAAOA,OAR9C,4CA3BiC,+BAuClBwiB,IAvCkB,2EAuCjC,8BAAAjmB,EAAA,sDACM6P,GAAWA,EAAQrJ,OAAS,GACxB0c,EAAUrT,EAAQgH,QAAO,SAACpT,GAAD,OAAOA,EAAEsV,OAAS7B,MAC3C8L,EAAQnT,EAAQgH,QAAO,SAACpT,GAAD,OAAOA,EAAEsV,OAAS7B,MAE/C0O,EAAoBR,EAAelC,IACnC4C,EAAkBV,EAAepC,MAEjC4C,EAAoB,IACpBE,EAAkB,KATtB,4CAvCiC,sBAoDjC,SAASV,EAAexkB,GACtB,IAAIyO,EAAW,GACXuF,EAAY,GACZkQ,EAAM,CAAC,CACT5hB,QAAQ,EACRkM,SAAS,EACTyJ,UAAU,IAyBZ,OAtBAjY,EAAKgY,SAAQ,SAACnV,IACIgiB,IAAyBH,IAAc7hB,EAAEqZ,SAAS5Z,SAAWuiB,KAC3DpW,EAAStG,SAAT,UAAqBtF,EAAE2L,QAAQlM,OAA/B,YAAyCO,EAAE2L,QAAQwF,cACnEvF,EAASnL,KAAT,UAAiBT,EAAE2L,QAAQlM,OAA3B,YAAqCO,EAAE2L,QAAQwF,YAC/CA,EAAU1Q,KAAKT,EAAE2L,QAAQwF,eAG7BA,EAAYA,EAAUiC,QAAO,SAAApT,GAAC,OAAIA,KAClC4L,EAASwH,QAAO,SAAApT,GAAC,OAAIA,KAAGmV,SAAQ,SAACe,GAC/B,IAAMuM,EAAWtlB,EAAKiW,QAAO,SAACpT,GAC5B,IAAI0iB,EAAYV,IAAyBH,IAAc7hB,EAAEqZ,SAAS5Z,SAAWuiB,EAC7E,OAAShiB,EAAE2L,QAAQlM,OAAO,IAAIO,EAAE2L,QAAQwF,YAAe+E,GAAKwM,KAExDC,EAAO/jB,OAAO6jB,EAAS,GAAG9W,QAAQlM,QAAQyE,UAAU,EAAE,GAAG,KAAKue,EAAS,GAAG9W,QAAQwF,UAClF1R,EAASb,OAAO+jB,GAAK5f,OAAS,GAAKnE,OAAO+jB,GAAKze,UAAU,EAAE,IAAM,MAAQtF,OAAO+jB,GACtFtB,EAAI5gB,KAAK,CACPhB,OAAQA,EAAOmjB,QAAQ,QAAQ,KAC/BjX,QAAS/M,OAAOsX,GAAG0M,QAAQ,QAAQ,KACnCxN,SAAUqN,EAAS1f,YAGvBse,EAAMA,EAAIjO,QAAO,SAAApT,GAAC,OAAIA,EAAEP,UAI1B,OA/EAiB,qBAAU,YAPuB,mCAQ/BmiB,GACAL,MAEA,CAACpW,IAEH1L,qBAAU,WACR8hB,MAEA,CAACR,IAEHthB,qBAAU,WACR,GAAIwhB,EAAiBnf,OAAS,GAAKqf,EAAerf,OAAS,EAAG,CAC5D,IAAM+f,EAASZ,EAAiBnf,OAASqf,EAAerf,OAASmf,EAAiBnf,OAASqf,EAAerf,OAC1Gwf,EAAeO,EAAS,GAAY,GAAPA,EAAmB,GAAPA,QAEzCP,EAAe,OAEjB,CAACL,EAAkBE,IA8DnB,gCACE,sBAAKrhB,MAAO,CAAEqJ,UAAW,SAAzB,UACE,iEAAiCsK,KACjC,eAAC,IAAD,CAAK3T,MAAO,CAAEqJ,UAAW,QAAzB,UACE,8CACA,cAAC,KAAD,CAAQP,KAAK,QAAQ9I,MAAO,CAAE+E,MAAO,QAASsC,WAAY,SAAW3E,MAAOue,EAAsBhR,SAAU,SAAChR,GAAD,OAAOiiB,EAAwBjiB,IAA3I,SAEE8hB,EAAe/e,OAAS,EACxB+e,EAAe9e,KAAI,SAACwC,EAAGJ,GAAJ,OACjB,cAAC,GAAD,CAAgB3B,MAAO+B,EAAvB,SAA2BA,GAAdJ,MAEf,cAAC,GAAD,CAAQ3B,MAAO,EAAf,uBAKN,eAAC,IAAD,CAAK1C,MAAO,CAAEqI,OAAQ,UAAtB,UACE,eAAC,IAAD,CAAKjI,GAAI,GAAIJ,MAAO,CAAE0a,UAAW,SAAUrS,OAAQ,EAAGC,QAAS,GAA/D,UACE,yCACA,cAAC,GAAD,CAAiBlM,KAAM+kB,EAAkBvR,MAAM,UAAU1P,OAAQqhB,EAAatO,WAAY,SAE5F,eAAC,IAAD,CAAK7S,GAAI,GAAIJ,MAAO,CAAE0a,UAAW,SAAUrS,OAAQ,EAAGC,QAAS,GAA/D,UACE,uCACA,cAAC,GAAD,CAAiBlM,KAAMilB,EAAgBzR,MAAM,UAAU1P,OAAQqhB,EAAatO,WAAY,gBCrHlG,IAQevY,GARD,CACZ,CACE8T,KAAMC,EACNC,OAAO,EACPC,UCMW,WAA2B,IAAD,EACTpJ,mBAAS,IADA,oBAChC8F,EADgC,KACvB2W,EADuB,OAEOzc,mBAAS,IAFhB,oBAEhC0c,EAFgC,KAEfC,EAFe,KA0BvC,OAtBAviB,qBAAU,WAgBR,OAfA3E,GAAOmnB,KAAK,kBAEZnnB,GAAOonB,GAAG,mBAAmB,YAA6B,IAA3B1D,EAA0B,EAA1BA,QAASF,EAAiB,EAAjBA,MAAO7K,EAAU,EAAVA,KACvC0O,EAAc,IAAIC,MAAMC,KAAKC,MAAM9D,IACnC+D,EAAY,IAAIH,MAAMC,KAAKC,MAAMhE,IACnC7K,GAAQnD,KAAO,IAAIrR,KAAKwU,IAAO/T,WAAWsiB,EAAmB1R,KAAO,IAAIrR,KAAKwU,IAAOiH,OAAO,UAC5FyH,GAAeA,EAAY,IAAMA,EAAY,GAAGrgB,OAAS,GACvDygB,GAAaA,EAAU,IAAMA,EAAU,GAAGzgB,OAAS,GAAGggB,EAAW,GAAD,oBAAKK,EAAY,IAAjB,aAAwBI,EAAU,SAGzGznB,GAAOonB,GAAG,SAAS,SAACnjB,GAClBnC,QAAQC,IAAIkC,GACZvD,IAAUe,MAAM,gCAAiC,CAAEZ,SAAU,gBAGxD,WACLb,GAAO0nB,IAAI,sBAGb,IAGA,gCACE,cAAC,GAAD,CAAarf,OAAO,kBAAkB2G,UAAU,cAChD,cAAC2Y,GAAD,CAAwBtX,QAASA,EAASsI,KAAMsO,IAChD,cAAC1Y,GAAD,UACE,cAACqZ,GAAD,CAAsBvX,QAASA,EAASsI,KAAMsO,MAEhD,cAAC1Y,GAAD,UACE,cAACsZ,GAAD,CACExX,QAASA,EAAQgH,QAAO,SAACpT,GAAD,OAAOA,EAAEqT,aAAeL,MAChD0B,KAAMsO,MAGV,cAAC1Y,GAAD,UACE,cAACuZ,GAAD,CACEzX,QAASA,EAAQgH,QAAO,SAACpT,GAAD,OAAOA,EAAEqT,aAAeL,IAAyBhT,EAAEqZ,UAAYrZ,EAAEqZ,SAAS5Z,UAClGiV,KAAMsO,Y,kDClDHc,GAAQ,uCAAG,WAAOxlB,GAAP,SAAA/B,EAAA,+EAAiB8B,EAAY,CACnDY,IAAK,QAASC,OAAQ,OACrBZ,IAFqB,2CAAH,sDCDbylB,GAAaC,IAAbD,SAkDOE,OAhDf,YAAuD,IAAD,IAAlC5C,WAAkC,MAA9B,GAA8B,EAA1B9a,EAA0B,EAA1BA,QAAS6V,EAAiB,EAAjBA,MAAiB,KAAV8H,QACd5d,mBAAS,OADe,oBAC7C7G,EAD6C,KACrC0kB,EADqC,OAEd7d,mBAAS,MAFK,oBAE7C8d,EAF6C,KAEhCC,EAFgC,KAepD,OAXA3jB,qBAAU,WACJ2gB,GAAOA,EAAI5hB,QACb0kB,EAAU9C,EAAI5hB,QACd4kB,EAAehD,EAAI+C,eAEnBD,EAAU,MACVE,EAAe,SAGjB,CAAChD,IAGD,eAAC,KAAD,CACE9a,QAASA,EACTuW,KAAMV,EACNW,SAAUX,EACVtW,MAAO,IACPmX,UAAQ,EACRqH,gBAAc,EANhB,UAQE,wCACA,cAAC,IAAD,CACE7gB,MAAOhE,EACPoK,KAAK,QACLmH,SAAU,SAAChR,GAAD,OAAOmkB,EAAUnkB,EAAEoR,OAAO3N,QACpCtB,YAAY,WACZ,uBAAK,uBACP,gDACA,cAAC4hB,GAAD,CACEtgB,MAAO2gB,EACPG,KAAM,EACNvT,SAAU,SAAChR,GAAD,OAAOqkB,EAAerkB,EAAEoR,OAAO3N,QACzCtB,YAAY,uBClCL,SAASqiB,KAAsB,IAAD,EACPle,mBAAS,IADF,oBACpCme,EADoC,KACxBC,EADwB,OAEHpe,oBAAS,GAFN,oBAEpCqe,EAFoC,KAEtBC,EAFsB,OAGHte,oBAAS,GAHN,oBAGpCue,EAHoC,aAITve,oBAAS,IAJA,oBAIpCwe,EAJoC,KAIzBC,EAJyB,OAKbze,mBAAS,IALI,oBAKpC0e,EALoC,KAK3BC,EAL2B,iDAW3C,sBAAA1oB,EAAA,6DACEqoB,GAAgB,GADlB,SAEed,IAAS,GAAM5mB,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAC7BA,GAAQA,EAAK4F,OAAS,GACxB2hB,EAAcvnB,MAEfO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAMsU,GAAgB,MANpE,oFAX2C,sBAO3ClkB,qBAAU,YAPiC,mCAQzCwkB,KACA,IAWF,IAAMC,EAAiB,kBAAMJ,GAAcD,IAOrCM,EAAY,SAACzI,GACjBsI,EAAW,IACXE,KAGIzZ,EAAW,CACf,CACEnG,MAAO,KACPuQ,UAAW,MACXhQ,MAAO,KAET,CACEP,MAAO,SACPuQ,UAAW,SACXhQ,MAAO,KAET,CACEP,MAAO,iBACPuQ,UAAW,eAEb,CACEvQ,MAAO,aACPuQ,UAAW,MACXhV,MAAO,SACPgF,MAAO,IACPmQ,OAAQ,SAACvW,EAAIid,GAAL,OAAa,gCACnB,cAAC0I,GAAA,EAAD,CACE9c,QAAS,kBAhCE,SAACoU,GAClBsI,EAAWtI,GACXwI,IA8BqBG,CAAW3I,IAC1B5b,MAAO,CAAEmX,SAAU,SAAUqN,OAAQ,UAAWpd,YAAa,SAC7Dqd,aAActT,GAAQC,UAExB,cAAC,KAAD,CACE1L,UAAU,WACVlB,MAAM,2DAENkgB,OAAO,MACPC,WAAW,KALb,SAOE,cAACC,GAAA,EAAD,CACE5kB,MAAO,CAAEmX,SAAU,SAAUqN,OAAQ,WACrCC,aAActT,GAAQ1U,gBAOhC,OACE,gCACE,oBAAIuD,MAAO,CAAEqJ,UAAW,QAAxB,oCACA,cAAC,KAAD,CACEoO,OAAO,MACPjT,MAAO,kBAAM,8BACT,cAAC,IAAD,CACEhB,KAAOsgB,EAAe,cAACe,GAAA,EAAD,CAAiBC,OAAK,IAAK,cAACC,GAAA,EAAD,IACjDvd,QAAS6c,EACTvb,KAAK,QACLjJ,KAAK,UAJP,wBAUJoG,WAAYyd,EACZhM,QAAS/M,EACThP,QAASioB,EACT9a,KAAK,QACL6O,YAAY,EACZ3X,MAAO,CAAEmQ,aAAc,UAEzB,cAAC,GAAD,CAAWmQ,IAAK2D,EAAS5I,MAAO+I,EAAgB5e,QAASue,OCrGxD,IAAMiB,GAAS,uCAAG,WAAOznB,GAAP,SAAA/B,EAAA,+EAAiB8B,EAAY,CACpDY,IAAK,SAAUC,OAAQ,OACtBZ,IAFsB,2CAAH,sDAWT0nB,GAAS,uCAAG,WAAO7oB,GAAP,SAAAZ,EAAA,+EAAgB8B,EAAY,CACnDY,IAAK,SAAUC,OAAQ,OAAQ/B,SAC9B,IAFsB,2CAAH,sDAaT8oB,GAAQ,uCAAG,WAAOvmB,EAAIvC,GAAX,SAAAZ,EAAA,+EAAoB8B,EAAY,CACtDY,IAAK,UAAYS,EAAIR,OAAQ,MAAO/B,SACnC,IAFqB,2CAAH,wD,UCmCN+oB,OA3Df,YAAwD,IAAD,IAAlC7E,WAAkC,MAA9B,GAA8B,EAA1B9a,EAA0B,EAA1BA,QAAS6V,EAAiB,EAAjBA,MAAO8H,EAAU,EAAVA,QAAU,EACjC5d,mBAAS,MADwB,oBAC9C5G,EAD8C,KAC1CymB,EAD0C,OAEzB7f,mBAAS,MAFgB,oBAE9C7G,EAF8C,KAEtC0kB,EAFsC,OAG3B7d,mBAAS,MAHkB,oBAG9C8f,EAH8C,KAGvCC,EAHuC,iDAqBrD,sBAAA9pB,EAAA,sEACe2nB,EAAQxkB,EAAID,EAAQ2mB,GADnC,oFArBqD,sBAyBrD,OApBA1lB,qBAAU,WACRylB,EAAM,MACNhC,EAAU,MACVkC,EAAS,QAET,IAEF3lB,qBAAU,WACJ2gB,GAAOA,EAAI5hB,SACb0mB,EAAM9E,EAAI9Q,KACV4T,EAAU9C,EAAI5hB,QACd4mB,EAAShF,EAAI+E,UAGf,CAAC/E,IAOD,eAAC,KAAD,CACE9a,QAASA,EACTuW,KA5BiD,2CA6BjDC,SAAUX,EACVtW,MAAO,IACPmX,UAAQ,EACRqH,gBAAc,EANhB,UAQE,wCACA,cAAC,IAAD,CACE7gB,MAAOhE,EACPoK,KAAK,QACLmH,SAAU,SAAChR,GAAD,OAAOmkB,EAAUnkB,EAAEoR,OAAO3N,QACpCtB,YAAY,WACZ,uBAAK,uBACP,uCACA,cAAC,KAAD,CACEsB,MAAO2iB,EACPvc,KAAK,QACLmH,SAAU,SAAChR,GAAD,OAAOqmB,EAASrmB,IAC1BmC,YAAY,cCzCL,SAASmkB,KAAsB,IAAD,EACLhgB,mBAAS,IADJ,oBACpCigB,EADoC,KACvBC,EADuB,OAEDlgB,oBAAS,GAFR,oBAEpCmgB,EAFoC,KAErBC,EAFqB,OAGHpgB,oBAAS,GAHN,oBAGpCue,EAHoC,aAILve,oBAAS,IAJJ,oBAIpCqgB,EAJoC,KAIvBC,EAJuB,OAKPtgB,oBAAS,GALF,oBAKpCugB,EALoC,KAKxBC,EALwB,OAMXxgB,mBAAS,IANE,oBAMpCygB,EANoC,KAM1BC,EAN0B,cAY5BC,IAZ4B,2EAY3C,sBAAA1qB,EAAA,6DACEmqB,GAAiB,GADnB,SAEeX,IAAU,GAAM7oB,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAC9BA,GAAQA,EAAK4F,OAAS,GACxByjB,EAAerpB,MAEhBO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAMoW,GAAiB,MANrE,oFAZ2C,kEAqB3C,WAAgChnB,EAAID,EAAQ2mB,GAA5C,SAAA7pB,EAAA,sEACeypB,GAAU,CAAC9a,OAAQmB,GAAQM,YAAaxP,KAAM,CAAEsC,SAAQ2mB,WAClElpB,KADU,sBACL,sBAAAX,EAAA,6DACJ2qB,IADI,SAEED,IAFF,4CAGHvpB,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MALlC,oFArB2C,kEA6B3C,WAAiC+B,EAAID,EAAQ2mB,GAA7C,SAAA7pB,EAAA,sEACe0pB,GAASvmB,EAAI,CAAEwL,OAAQmB,GAAQO,iBAAkBzP,KAAM,CAAEsC,SAAQ2mB,WAC3ElpB,KADU,sBACL,sBAAAX,EAAA,6DACJ4qB,IADI,SAEEF,IAFF,4CAGHvpB,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MALlC,oFA7B2C,sBAQ3C+C,qBAAU,WACRumB,MACA,IA2BF,IAAME,EAAmB,kBAAMP,GAAgBD,IACzCO,EAAkB,kBAAMJ,GAAeD,IAOvCO,EAAa,WACjBF,KAGIxb,EAAW,CACf,CACEnG,MAAO,KACPuQ,UAAW,MACXhQ,MAAO,KAET,CACEP,MAAO,SACPuQ,UAAW,SACXhQ,MAAO,KAET,CACEP,MAAO,QACPuQ,UAAW,SAEb,CACEvQ,MAAO,aACPuQ,UAAW,MACXhV,MAAO,SACPgF,MAAO,IACPmQ,OAAQ,SAACvW,EAAIid,GAAL,OAAa,gCACnB,cAAC0I,GAAA,EAAD,CACE9c,QAAS,kBA/BG,SAACoU,GACnBqK,EAAYrK,GACZwK,IA6BqBE,CAAY1K,IAC3B5b,MAAO,CAAEmX,SAAU,SAAUqN,OAAQ,UAAWpd,YAAa,SAC7Dqd,aAActT,GAAQC,UAExB,cAAC,KAAD,CACE1L,UAAU,WACVlB,MAAM,2DAENkgB,OAAO,MACPC,WAAW,KALb,SAOE,cAACC,GAAA,EAAD,CACE5kB,MAAO,CAAEmX,SAAU,SAAUqN,OAAQ,WACrCC,aAActT,GAAQ1U,gBAOhC,OACE,gCACE,oBAAIuD,MAAO,CAAEqJ,UAAW,QAAxB,qCACA,cAAC,KAAD,CACEoO,OAAO,MACPjT,MAAO,kBAAM,8BACT,cAAC,IAAD,CACEhB,KAAOsgB,EAAe,cAACe,GAAA,EAAD,CAAiBC,OAAK,IAAK,cAACC,GAAA,EAAD,IACjDvd,QAAS6e,EACTvd,KAAK,QACLjJ,KAAK,UAJP,wBAUJoG,WAAYuf,EACZ9N,QAAS/M,EACThP,QAAS+pB,EACT5c,KAAK,QACL6O,YAAY,EACZ3X,MAAO,CAAEmQ,aAAc,UAEzB,cAAC,GAAD,CAAYmQ,IAAK0F,EAAU3K,MAAO+K,EAAkB5gB,QAASogB,EAAazC,QAlHnC,kDAmHvC,cAAC,GAAD,CAAY9H,MAAO8K,EAAiB3gB,QAASsgB,EAAY3C,QAnHlB,qDCJtC,IAAMoD,GAAgB,uCAAG,WAAOhpB,GAAP,SAAA/B,EAAA,+EAAiB8B,EAAY,CAC3DY,IAAK,gBAAiBC,OAAQ,OAC7BZ,IAF6B,2CAAH,sDCDhBipB,GAAS,uCAAG,WAAOjpB,GAAP,SAAA/B,EAAA,+EAAiB8B,EAAY,CACpDY,IAAK,SAAUC,OAAQ,OACtBZ,IAFsB,2CAAH,sDAcTkpB,GAAS,uCAAG,WAAOrqB,GAAP,SAAAZ,EAAA,+EAAgB8B,EAAY,CACnDY,IAAK,SAAUC,OAAQ,OAAQ/B,SAC9B,IAFsB,2CAAH,sDCVtB,IA4Be1B,GA5BD,CACZ,CACE8T,KAAMkY,EACNhY,OAAO,EACPC,UCNW,WACb,OACE,gCACE,cAAC,GAAD,CAAatL,OAAO,QAAQ2G,UAAU,+BACtC,cAACT,GAAD,UACE,cAACka,GAAD,WDGN,CACEjV,KAAMkY,EACNhY,OAAO,EACPC,UEXW,WACb,OACE,gCACE,cAAC,GAAD,CAAatL,OAAO,SAAS2G,UAAU,+BACvC,cAACT,GAAD,UACE,cAACgc,GAAD,WFQN,CACE/W,KAAMkY,EACNhY,OAAO,EACPC,UGpBW,WACb,OACE,mDHoBF,CACEH,KAAMkY,EACNhY,OAAO,EACPC,UIfW,WAAmB,IAAD,EACOpJ,mBAAS,IADhB,oBACxBohB,EADwB,KACXC,EADW,OAEKrhB,mBAAS,IAFd,oBAExBme,EAFwB,KAEZC,EAFY,OAGOpe,mBAAS,IAHhB,oBAGxBigB,EAHwB,KAGXC,EAHW,OAIKlgB,mBAAS,IAJd,oBAIxBshB,EAJwB,KAIZC,EAJY,OAKKvhB,mBAAS,MALd,oBAKxBwhB,EALwB,KAKZC,EALY,OAMPzhB,mBAAS,MANF,oBAMxBrD,EANwB,KAMlB+kB,EANkB,OAOqB1hB,mBAAS,IAP9B,oBAOxB2hB,EAPwB,KAOJC,EAPI,OAQuB5hB,mBAAS,IARhC,oBAQxB6hB,EARwB,KAQHC,EARG,OASqB9hB,mBAAS,IAT9B,oBASxB+hB,EATwB,KASJC,EATI,OAUahiB,oBAAS,GAVtB,oBAUxBiiB,EAVwB,KAURC,EAVQ,OAWWliB,oBAAS,GAXpB,oBAWxBmiB,EAXwB,KAWTC,EAXS,iDAoB/B,sBAAAnsB,EAAA,6DACEmsB,GAAiB,GADnB,SAEenB,IAAU,GAAOrqB,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAC/BA,GAAQA,EAAK4F,OAAS,GACxBlF,QAAQC,IAAIX,GACZwqB,EAAexqB,IAEfwqB,EAAe,OAEhBjqB,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAMoY,GAAiB,MATrE,oFApB+B,kEAgC/B,sBAAAnsB,EAAA,sEACeunB,IAAS,GAAO5mB,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAC9BA,GAAQA,EAAK4F,OAAS,EACxB2hB,EAAcvnB,GAEdunB,EAAc,OALpB,oFAhC+B,kEA0C/B,sBAAAnoB,EAAA,sEACewpB,IAAU,GAAO7oB,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAC/BA,GAAQA,EAAK4F,OAAS,EACxByjB,EAAerpB,GAEfqpB,EAAe,OALrB,oFA1C+B,kEAoD/B,sBAAAjqB,EAAA,sEACe+qB,IAAiB,GAAOpqB,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACtCA,GAAQA,EAAK4F,OAAS,EACxB8kB,EAAc1qB,GAEd0qB,EAAc,OALpB,oFApD+B,oEA8D/B,sBAAAtrB,EAAA,6DACEisB,GAAkB,GADpB,SAEehB,GAAU,CAACtc,OAAQmB,GAAQyC,YAAa3R,KAAM,CACzDiH,OAAQ0jB,EACR7kB,KAAMA,EACN0lB,OAAQR,EACRS,eAAgBP,EAChBQ,MAAOZ,KACLvqB,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAMkY,GAAkB,MARvE,oFA9D+B,sBAa/B9nB,qBAAU,YAbqB,mCAc7BooB,GAd6B,mCAe7B5D,GAf6B,mCAgB7B+B,GAhB6B,mCAiB7B8B,KACC,IAuDH,IAAMrd,GAAW,CACf,CACEnG,MAAO,IACPO,MAAO,GACPmQ,OAAQ,SAACzE,EAAE+K,EAAGnX,GAAN,OAAYA,EAAE,IAExB,CACEG,MAAO,KACPuQ,UAAW,MACXhQ,MAAO,KAET,CACEP,MAAO,SACPuQ,UAAW,SACXkT,KAAM,KAER,CACEzjB,MAAO,OACPuQ,UAAW,QAEb,CACEvQ,MAAO,QACPuQ,UAAW,QACXhQ,MAAO,IACPmQ,OAAQ,SAACoL,GACP,GAAIA,GAAOA,EAAIte,OAAS,EACtB,OAAQ,8BAENse,EAAIre,KAAI,SAACimB,EAAK7jB,GAAN,OACN,cAAC,KAAD,CAAK8C,MAAM,OAAX,SAA2B+gB,EAAKxpB,QAAT2F,UASjC,CACEG,MAAO,SACPuQ,UAAW,SACXG,OAAQ,SAACoL,GACP,GAAIA,GAAOA,EAAIte,OAAS,EACtB,OAAQ,8BAENse,EAAIre,KAAI,SAACrD,EAAMyF,GAAP,OACN,cAAC,KAAD,CAAK8C,MAAM,SAAX,SAA6BvI,EAAMF,QAAV2F,UASnC,CACEG,MAAO,QACPuQ,UAAW,iBACXG,OAAQ,SAACoL,GACP,GAAIA,GAAOA,EAAIte,OAAS,EACtB,OAAQ,8BAENse,EAAIre,KAAI,SAACsS,EAAKlQ,GAAN,OACN,cAAC,KAAD,CAAK8C,MAAM,SAAX,SAA6BoN,EAAK7V,QAAT2F,WAWrC,OACE,gCACE,cAAC,GAAD,CAAahB,OAAO,mBAAmB2G,UAAU,+BACjD,eAACT,GAAD,WACE,6CACA,cAAC,IAAD,CACEvJ,MAAO,CAAEmQ,aAAc,OAAQpL,MAAO,KACtC3D,YAAY,oBACZ0H,KAAK,QACLmH,SAAU,SAAChR,GAAD,OAAO+nB,EAAc/nB,EAAEoR,OAAO3N,QACxCA,MAAOqkB,IAET,mDACA,cAAC,IAAD,CACE/mB,MAAO,CAAEmQ,aAAc,OAAQpL,MAAO,KACtC3D,YAAY,0BACZ0H,KAAK,QACLmH,SAAU,SAAChR,GAAD,OAAOgoB,EAAQhoB,EAAEoR,OAAO3N,QAClCA,MAAOR,IAET,6CACA,cAAC,KAAS0O,MAAV,CACE5Q,MAAO,CAAEmQ,aAAc,QACvBgY,QAASzE,EAAW1hB,OAAS,EAAI0hB,EAAWzhB,KAAI,SAACzG,EAAE6I,GAAH,MAAU,CAACd,IAAIc,EAAIoP,MAAOjY,EAAEkD,OAAQgE,MAAOlH,EAAEgU,QAAS,GACtG9M,MAAOwkB,EACPjX,SAAU,SAACzU,GAAD,OAAO2rB,EAAsB3rB,MAEzC,8CACA,cAAC,KAASoV,MAAV,CACE5Q,MAAO,CAAEmQ,aAAc,QACvBgY,QAAS3C,EAAYxjB,OAAS,EAAIwjB,EAAYvjB,KAAI,SAACzG,EAAE6I,GAAH,MAAU,CAACd,IAAIc,EAAIoP,MAAOjY,EAAEkD,OAAQgE,MAAOlH,EAAEgU,QAAS,GACxG9M,MAAO0kB,EACPnX,SAAU,SAACzU,GAAD,OAAO6rB,EAAuB7rB,MAE1C,6CACA,cAAC,KAASoV,MAAV,CACE5Q,MAAO,CAAEmQ,aAAc,QACvBgY,QAAStB,EAAW7kB,OAAS,EAAI6kB,EAAW5kB,KAAI,SAACzG,EAAE6I,GAAH,MAAU,CAACd,IAAIc,EAAIoP,MAAOjY,EAAEkD,OAAQgE,MAAOlH,EAAEgU,QAAS,GACtG9M,MAAO4kB,EACPrX,SAAU,SAACzU,GAAD,OAAO+rB,EAAsB/rB,MACvC,uBACF,cAAC,IAAD,CACEwE,MAAO,CAAEqI,OAAQ,UACjB7E,KAAMgkB,EAAiB,cAAC3C,GAAA,EAAD,CAAiBjd,MAAI,IAAK,cAACmd,GAAA,EAAD,IACjDllB,KAAK,UACLiJ,KAAK,QACLtB,QAjMuB,4CA4LzB,wBAUF,cAAC+B,GAAD,UACE,cAAC,KAAD,CACEkO,OAAO,MACPxR,WAAY0gB,EACZjP,QAAS/M,GACThP,QAAS+rB,EACT5e,KAAK,QACL6O,YAAY,EACZ0E,OAAQ,CAAEE,EAAG,iBJ7LrB,CACE/N,KAAMkY,EACNhY,OAAO,EACPC,UK9BW,WACb,OACE,2CCEWyZ,GAJI,aACdC,I,UCEGC,GAAWrF,IAAXqF,O,wBCLKC,GACL,EADKA,GAEI,EAFJA,GAGC,EAHDA,GAIK,EAJLA,GAKU,EALVA,GAME,EANFA,GAOA,EAPAA,GAQI,ECFFC,GANQ,CACrBC,OAAQ,SACRC,WAAY,aACZC,SAAU,YCML,SAASC,GAAT,GAAmC,IAAhBvD,EAAe,EAAfA,MAAOzmB,EAAQ,EAARA,MAC/B,OAAQymB,GACN,KAAKkD,GACH,OAAQ,cAAC,KAAD,CAAKphB,MAAM,WAAX,SAAuBsN,GAAY7V,KAC7C,KAAK2pB,GACH,OAAQ,cAAC,KAAD,CAAKphB,MAAM,OAAX,SAAmBsN,GAAY7V,KACzC,KAAK2pB,GACH,OAAQ,cAAC,KAAD,CAAKphB,MAAM,OAAX,SAAmBsN,GAAY7V,KACzC,KAAK2pB,GACH,OAAQ,cAAC,KAAD,CAAKphB,MAAM,SAAX,SAAqBsN,GAAY7V,KAC3C,KAAK2pB,GACH,OAAQ,cAAC,KAAD,CAAKphB,MAAM,QAAX,SAAoBsN,GAAY7V,KAC1C,KAAK2pB,GACH,OAAQ,cAAC,KAAD,CAAKphB,MAAM,SAAX,SAAqBsN,GAAY7V,KAC3C,KAAK2pB,GACH,OAAQ,cAAC,KAAD,CAAKphB,MAAM,UAAX,SAAsBsN,GAAY7V,KAC5C,KAAK2pB,GACH,OAAQ,cAAC,KAAD,UAAM9T,GAAY7V,KAC5B,QACE,OAAQ,cAAC,KAAD,yBAIP,SAASiqB,GAAT,GAA8B,IAAV7U,EAAS,EAATA,OACzB,OAAQA,GACN,KAAKwU,GAAeC,OAClB,OAAQ,cAAC,KAAD,CAAKjlB,KAAM,cAACgP,GAAA,EAAD,IAAwBrL,MAAOgK,GAAQ7U,QAAlD,SAA4D0X,IACtE,KAAKwU,GAAeE,WAClB,OAAQ,cAAC,KAAD,CAAKllB,KAAM,cAACslB,GAAA,EAAD,IAA8B3hB,MAAOgK,GAAQC,QAAxD,SAAkE4C,IAC5E,KAAKwU,GAAeG,SAClB,OAAQ,cAAC,KAAD,CAAKnlB,KAAM,cAACulB,GAAA,EAAD,IAAyB5hB,MAAOgK,GAAQ1U,MAAnD,SAA2DuX,IACrE,QACE,OAAQ,cAAC,KAAD,2B,cCjCN1F,GAAWC,KAAXD,OA6PO0a,OA3Pf,YAWI,IAVFC,EAUC,EAVDA,OACAzjB,EASC,EATDA,QACA6V,EAQC,EARDA,MAQC,IAPDlQ,gBAOC,MAPQ,GAOR,MANDyc,cAMC,MANM,GAMN,MALDlP,aAKC,MALK,GAKL,MAJDoP,aAIC,MAJK,GAIL,MAHDoB,aAGC,MAHK,GAGL,MAFD7Q,iBAEC,MAFS,GAET,EADD8K,EACC,EADDA,QACC,EACqC5d,mBAAS,CAAC4jB,OAAQ,KAAMxY,iBAAiB,OAD9E,oBACMyY,EADN,KACmBC,EADnB,iDAiBD,sBAAA7tB,EAAA,yDACiB,WAAXytB,GAAwBG,EAAY5Z,IAD1C,yCACsD9T,IAAU0B,KAAK,oCAAqC,CAACvB,SAAU,eADrH,UAEOutB,EAAYriB,SAAYqiB,EAAYriB,QAAQmE,MAFnD,yCAEiExP,IAAU0B,KAAK,iBAAkB,CAACvB,SAAU,eAF7G,UAGOutB,EAAY1qB,OAHnB,yCAGkChD,IAAU0B,KAAK,kBAAmB,CAACvB,SAAU,eAH/E,UAIOutB,EAAYxqB,MAJnB,yCAIiClD,IAAU0B,KAAK,iBAAkB,CAACvB,SAAU,eAJ7E,UAKOutB,EAAYlB,KALnB,0CAKgCxsB,IAAU0B,KAAK,gBAAiB,CAACvB,SAAU,eAL3E,WAMOutB,EAAYE,cANnB,0CAMyC5tB,IAAU0B,KAAK,4BAA6B,CAACvB,SAAU,eANhG,WAOOutB,EAAYzY,iBAPnB,0CAO4CjV,IAAU0B,KAAK,kCAAgC,CAACvB,SAAU,eAPtG,yBASQsnB,EAAQ,CACZxkB,GAAIyqB,EAAY5Z,IAChBrF,OAAmB,UAAX8e,EAAsB3d,GAAQqB,gBAAkBrB,GAAQsB,qBAChE1B,MAAOke,EAAYriB,QAAQmE,MAC3BC,SAAUie,IAbd,6CAjBC,sBAmCD,OAhCAzpB,qBAAU,WACJwL,EAASqE,KACX6Z,EAAe,2BACVle,GADS,IAEZvM,MAAOuM,EAASvM,MAAQuM,EAASvM,MAAM4Q,IAAM,KAC7C8Z,cAAgBne,EAASme,cAAgBne,EAASme,cAAc9Z,IAAM,KACtE0Y,KAAM/c,EAAS+c,KAAO/c,EAAS+c,KAAK1Y,IAAM,KAC1C0Z,MAAO/d,EAAS+d,MAAQ/d,EAAS+d,MAAMjnB,KAAI,SAAChD,GAAD,OAAOA,EAAEuQ,OAAO,KAC3D8I,SAAUnN,EAASmN,SAAWnN,EAASmN,SAAS9I,IAAM,UAI1D,CAACrE,IAqBD,cAAC,KAAD,CACEpG,MAAM,OACNwkB,cAAe,CAAEzgB,KAAK,SACtB0gB,kBAAmB,CAAE1gB,KAAK,SAC1B6b,WAAW,WACXD,OAAO,UACPlgB,MAAkB,UAAXykB,EAAqB,iBAAkB,kBAC9CzjB,QAASA,EACTuW,KA5CH,2CA6CGC,SAAUX,EACVkI,gBAAc,EACdrH,UAAQ,EAXV,SAaE,eAAC,KAAD,CAAcE,UAAQ,EAACtT,KAAK,QAAQ2gB,OAAQ,EAA5C,UACE,cAAC,KAAa5oB,KAAd,CAAmB4S,MAAM,UAAUhK,KAAM,EAAzC,SACE,cAAC,IAAD,CACErI,YAAY,SACZ0H,KAAK,QACLpG,MAAO0mB,GAAeA,EAAY1qB,OAAS0qB,EAAY1qB,OAAS,KAChEuR,SAAU,SAAChR,GAAD,OAAOoqB,EAAe,2BAAID,GAAL,IAAkB1qB,OAAQO,EAAEoR,OAAO3N,cAGtE,cAAC,KAAa7B,KAAd,CAAmB4S,MAAM,aAAahK,KAAM,EAA5C,SACE,cAAC,IAAD,CACErI,YAAY,SACZ0H,KAAK,QACLpG,MAAO0mB,GAAeA,EAAYhZ,UAAYgZ,EAAYhZ,UAAY,KACtEH,SAAU,SAAChR,GAAD,OAAOoqB,EAAe,2BAAID,GAAL,IAAkBhZ,UAAWnR,EAAEoR,OAAO3N,cAIzE,cAAC,KAAa7B,KAAd,CAAmB4S,MAAM,SAAShK,KAAM,EAAxC,SACE,cAAC,IAAD,CACErI,YAAY,QACZ0H,KAAK,QACLjJ,KAAK,QACL6C,MAAO0mB,GAAeA,EAAYriB,SAAWqiB,EAAYriB,QAAQmE,MAAQke,EAAYriB,QAAQmE,MAAQ,KACrG+E,SAAU,SAAChR,GAAD,OAAOoqB,EAAe,2BAAID,GAAL,IAAkBriB,QAAS,CAAEmE,MAAOjM,EAAEoR,OAAO3N,eAGhF,cAAC,KAAa7B,KAAd,CAAmB4S,MAAM,UAAUhK,KAAM,EAAzC,SACE,cAAC,IAAD,CACErI,YAAY,SACZ0H,KAAK,QACLpG,MAAO0mB,GAAeA,EAAYD,OAASC,EAAYD,OAAS,KAChElZ,SAAU,SAAChR,GAAD,OAAOoqB,EAAe,2BAAID,GAAL,IAAkBD,OAAQlqB,EAAEoR,OAAO3N,cAGtE,cAAC,KAAa7B,KAAd,CAAmB4S,MAAM,SAAShK,KAAM,EAAxC,SACE,cAAC,KAAD,CACEX,KAAK,QACL9I,MAAO,CAAE+E,MAAO,QAChB3D,YAAY,oBACZ4Y,SAAqB,WAAXiP,EACVvmB,MAAO0mB,GAAeA,EAAYxqB,MAAQwqB,EAAYxqB,MAAQ,KAC9DqR,SAAU,SAAChR,GAAD,OAAOoqB,EAAe,2BAAID,GAAL,IAAkBxqB,MAAOK,MAN1D,SASE2oB,GAAUA,EAAO5lB,OAAS,EAC1B4lB,EAAO3lB,KAAI,SAACqe,EAAIjc,GAAL,OACT,cAAC,GAAD,CAAgB3B,MAAO4d,EAAI9Q,IAA3B,SAAiC8Q,EAAI5hB,QAAxB2F,MACZ,SAKP,cAAC,KAAaxD,KAAd,CAAmB4S,MAAM,QAAQhK,KAAM,EAAvC,SACE,cAAC,KAAD,CACEX,KAAK,QACL9I,MAAO,CAAE+E,MAAO,QAChB3D,YAAY,mBACZsB,MAAO0mB,GAAeA,EAAYE,cAAgBF,EAAYE,cAAgB,KAC9ErZ,SAAU,SAAChR,GAAD,OAAOoqB,EAAe,2BAAID,GAAL,IAAkBE,cAAerqB,MALlE,SAQEyZ,GAASA,EAAM1W,OAAS,EACxB0W,EAAMzW,KAAI,SAACqe,EAAKjc,GAAN,OACR,cAAC,GAAD,CAAgB3B,MAAO4d,EAAI9Q,IAA3B,SAAiC8Q,EAAI5hB,QAAxB2F,MACZ,SAIP,cAAC,KAAaxD,KAAd,CAAmB4S,MAAM,QAAQhK,KAAM,EAAvC,SACE,cAAC,KAAD,CACEX,KAAK,QACL9I,MAAO,CAAE+E,MAAO,QAChB3D,YAAY,mBACZsB,MAAO0mB,GAAeA,EAAYlB,KAAOkB,EAAYlB,KAAO,KAC5DjY,SAAU,SAAChR,GAAD,OAAOoqB,EAAe,2BAAID,GAAL,IAAkBlB,KAAMjpB,MALzD,SAQE6oB,GAASA,EAAM9lB,OAAS,EACxB8lB,EAAM7lB,KAAI,SAACqe,EAAKjc,GAAN,OACR,cAAC,GAAD,CAAgB3B,MAAO4d,EAAI9Q,IAA3B,SAAiC8Q,EAAI5hB,QAAxB2F,MACZ,SAIP,cAAC,KAAaxD,KAAd,CAAmB4S,MAAM,YAAYhK,KAAM,EAA3C,SACE,cAAC,KAAD,CACEX,KAAK,QACL1H,YAAY,uBACZpB,MAAO,CAAE+E,MAAO,QAChBrC,MAAO0mB,GAAeA,EAAY9Q,SAAW8Q,EAAY9Q,SAAW,KACpErI,SAAU,SAAChR,GAAD,OAAOoqB,EAAe,2BAAID,GAAL,IAAkB9Q,SAAUrZ,MAL7D,SAQEoZ,GAAaA,EAAUrW,OAAS,EAChCqW,EAAUpW,KAAI,SAACqe,EAAIjc,GAAL,OACZ,cAAC,GAAD,CAAgB3B,MAAO4d,EAAI9Q,IAA3B,SAAiC8Q,EAAI5hB,QAAxB2F,MACZ,SAKP,cAAC,KAAaxD,KAAd,CAAmB4S,MAAM,SAAShK,KAAM,EAAxC,SACE,cAAC,KAAD,CACEX,KAAK,QACL3E,KAAK,WACL/C,YAAY,oBACZpB,MAAO,CAAE+E,MAAO,QAChBrC,MAAO0mB,GAAeA,EAAYF,MAAQE,EAAYF,MAAQ,GAC9DjZ,SAAU,SAAChR,GAAD,OAAOoqB,EAAe,2BAAID,GAAL,IAAkBF,MAAOjqB,MAN1D,SASEiqB,GAASA,EAAMlnB,OAAS,EACxBknB,EAAMjnB,KAAI,SAACqe,GAAD,OACR,cAAC,GAAD,UAAuBA,EAAI5hB,QAAd4hB,EAAI9Q,QAChB,SAIP,cAAC,KAAa3O,KAAd,CAAmB4S,MAAM,oBAAoBhK,KAAM,EAAnD,SACE,cAAC,KAAD,CACEX,KAAK,QACL1H,YAAY,mBACZsB,MAAO0mB,GAAeA,EAAYM,cAAgBlZ,KAAO4Y,EAAYM,eAAiB,KACtFzZ,SAAU,SAAChR,GAAD,OAAOoqB,EAAe,2BAAID,GAAL,IAAkBM,cAAezqB,EAAE0qB,iBAGtE,cAAC,KAAa9oB,KAAd,CAAmB4S,MAAM,uBAAuBhK,KAAM,EAAtD,SACE,cAAC,KAAD,CACEX,KAAK,QACL1H,YAAY,sBACZsB,MAAO0mB,GAAeA,EAAY7Y,iBAAmBC,KAAO4Y,EAAY7Y,kBAAoB,KAC5FN,SAAU,SAAChR,GAAD,OAAOoqB,EAAe,2BAAID,GAAL,IAAkB7Y,iBAAkBtR,EAAIA,EAAE0qB,SAAU1qB,UAIvF,cAAC,KAAa4B,KAAd,CAAmB4S,MAAM,uBAAuBhK,KAAM,EAAtD,SACE,cAAC,IAAD,CACErI,YAAY,yBACZ0H,KAAK,QACLpG,MAAO0mB,GAAeA,EAAYzY,iBAAmByY,EAAYzY,iBAAmB,KACpFV,SAAU,SAAChR,GAAD,OAAOoqB,EAAe,2BAAID,GAAL,IAAkBzY,iBAAkB1R,EAAEoR,OAAO3N,cAGhF,cAAC,KAAa7B,KAAd,CAAmB4S,MAAM,qBAAqBhK,KAAM,EAApD,SACE,eAAC,KAAD,CACEX,KAAK,QACL9I,MAAO,CAAE+E,MAAO,QAChB3D,YAAY,iBACZsB,MAAO0mB,GAAeA,EAAY1Y,eAAiB0Y,EAAY1Y,eAAiB,KAChFT,SAAU,SAAChR,GAAD,OAAOoqB,EAAe,2BAAID,GAAL,IAAkB1Y,eAAgBzR,MALnE,UAOE,cAAC,GAAD,CAAQyD,MAAM,MAAd,iBACA,cAAC,GAAD,CAAQA,MAAM,OAAd,uBAGJ,cAAC,KAAa7B,KAAd,CAAmB4S,MAAM,gBAAgBhK,KAAM,EAA/C,SACE,cAAC,IAAD,CACErI,YAAY,eACZ0H,KAAK,QACLpG,MAAO0mB,GAAeA,EAAY9Y,aAAe8Y,EAAY9Y,aAAe,KAC5EL,SAAU,SAAChR,GAAD,OAAOoqB,EAAe,2BAAID,GAAL,IAAkB9Y,aAAcrR,EAAEoR,OAAO3N,cAI5E,cAAC,KAAa7B,KAAd,CAAmB4S,MAAM,eAAehK,KAAM,EAA9C,SACE,cAAC,IAAD,CACErI,YAAY,cACZ0H,KAAK,QACLpG,MAAO0mB,GAAeA,EAAYQ,YAAcR,EAAYQ,YAAc,KAC1E3Z,SAAU,SAAChR,GAAD,OAAOoqB,EAAe,2BAAID,GAAL,IAAkBQ,YAAa3qB,EAAEoR,OAAO3N,oBC3OtEmnB,GAAY,uCAAG,WAAOtsB,EAAO4M,GAAd,SAAA3O,EAAA,+EAAyB8B,EAAY,CAC/DY,IAAK,YAAaC,OAAQ,MAAOiM,OAAQ,CAACD,WACzC5M,IAFyB,2CAAH,wDASZusB,GAAY,uCAAG,+BAAAtuB,EAAA,6DAAS2O,EAAT,EAASA,OAAQmO,EAAjB,EAAiBA,SAAjB,kBAAgChb,EAAY,CACtEY,IAAK,YAAaC,OAAQ,OAAQ/B,KAAM,CAAE+N,SAAQmO,cACjD,IAFyB,2CAAH,sDAWZyR,GAAW,uCAAG,WAAOprB,EAAP,oBAAAnD,EAAA,6DAAa2O,EAAb,EAAaA,OAAQmO,EAArB,EAAqBA,SAArB,kBAAoChb,EAAY,CACzEY,IAAK,aAAeS,EAAIR,OAAQ,MAAO/B,KAAM,CAAE+N,SAAQmO,cACtD,IAFwB,2CAAH,wDAUX0R,GAAa,uCAAG,WAAOrrB,EAAIvC,GAAX,SAAAZ,EAAA,+EAAoB8B,EAAY,CAC3DY,IAAK,aAAeS,EAAIR,OAAQ,QAAS/B,SACxC,IAF0B,2CAAH,wDC9Bb6tB,GAAQ,uCAAG,WAAO1sB,GAAP,SAAA/B,EAAA,+EAAiB8B,EAAY,CACnDY,IAAK,QAASC,OAAQ,OACrBZ,IAFqB,2CAAH,sDCAb+J,GAASuR,KAATvR,KAqCO4iB,OAnCf,YAA2D,IAApC1kB,EAAmC,EAAnCA,QAAS2kB,EAA0B,EAA1BA,WAA0B,IAAdhf,gBAAc,MAAL,GAAK,EACxD,OACE,cAAC,KAAD,CACEpG,MAAO,IACP4f,WAAW,WACXD,OAAO,UACPlgB,MAAM,sBACNgB,QAASA,EACTuW,KAAMoO,EACNnO,SAAUmO,EACV5G,gBAAgB,EAChBrH,UAAQ,EATV,SAWE,eAAC,KAAD,CAAckO,OAAO,WAAWhO,UAAQ,EAACtT,KAAK,QAAQ2gB,OAAQ,EAA9D,UACGte,GAAYA,EAASrM,QAAS,cAAC,KAAa+B,KAAd,CAAmB4S,MAAM,UAAzB,SAAoCtI,GAAYA,EAASrM,OAAOJ,QAAUyM,GAAYA,EAASrM,OAAOJ,SACrI,cAAC,KAAamC,KAAd,CAAmB4S,MAAM,gBAAzB,SAA0CtI,GAAYA,EAASuF,iBAC/D,cAAC,KAAa7P,KAAd,CAAmB4S,MAAM,kBAAzB,SACE,cAAC,GAAD,CAAMiI,UAAQ,EAAd,SAAgBvQ,GAAYA,EAASwF,qBAEvC,cAAC,KAAa9P,KAAd,CAAmB4S,MAAM,uBAAzB,SAAiDtI,GAAYA,EAASoF,kBAAoBC,KAAOrF,GAAYA,EAASoF,kBAAkBqK,OAAO,gBAC9IzP,GAAYA,EAASue,eAAgB,cAAC,KAAa7oB,KAAd,CAAmB4S,MAAM,mBAAzB,SAA6CjD,KAAOrF,GAAYA,EAASue,eAAe9O,OAAO,gBACpIzP,GAAYA,EAASb,YAAa,cAAC,KAAazJ,KAAd,CAAmB4S,MAAM,gBAAzB,SAA0CjD,KAAOrF,GAAYA,EAASb,YAAYsQ,OAAO,gBAC5H,cAAC,KAAa/Z,KAAd,CAAmB4S,MAAM,eAAzB,SAAyCtI,GAAYA,EAASmF,aAAanF,GAAYA,EAASmF,aAAa,MAC7G,cAAC,KAAazP,KAAd,CAAmB4S,MAAM,iBAAchK,KAAM,EAA7C,SAAiD0B,GAAYA,EAASye,oBCxBvE,SAASS,KAAgD,IAAhCjuB,EAA+B,uDAA1B,GAAIwT,EAAsB,uCAAf0a,EAAe,wDAC7D,GAAoB,IAAhBluB,EAAK4F,OACP,MAAQ,GAER,IAAIuoB,EAAe,GACfC,GAAS,EACb,IAcE,OAbApuB,EAAKgY,SAAQ,SAACnV,QACKhC,IAAbgC,EAAE2Q,IAAqC,OAAb3Q,EAAE2Q,IAAmB3Q,EAAE2Q,GAAOJ,KAAwB,OAAjBvQ,EAAE2Q,GAAOJ,KAE/D,IADD+a,EAAaE,WAAU,SAAAhmB,GAAC,OAAIA,EAAE/B,QAAUzD,EAAE2Q,GAAOJ,QAEzD+a,EAAa7qB,KAAK,CAChBmT,KAAMyX,EAAUrrB,EAAE2Q,GAAOlR,OAAS,IAAMO,EAAE2Q,GAAOQ,UAAYnR,EAAE2Q,GAAOlR,OACtEgE,MAAOzD,EAAE2Q,GAAOJ,MAIpBgb,GAAS,KAGTA,EACI,GAAN,OAAYD,EAAZ,CAA0B,CAAE1X,KAAM,IAAKnQ,MAAO,OAEvC6nB,EAET,MAAO9tB,GAEP,OADAK,QAAQC,IAAIN,GACL,IAKN,SAASiuB,KAAqC,IAAjBtuB,EAAgB,uDAAX,GAAIwT,EAAO,uCAClD,GAAoB,IAAhBxT,EAAK4F,OACP,MAAO,GAEP,IAAIuoB,EAAe,GACnB,IAYE,OAXAnuB,EAAKgY,SAAQ,SAACnV,QACKhC,IAAbgC,EAAE2Q,IAAqC,OAAb3Q,EAAE2Q,MAEnB,IADD2a,EAAaE,WAAU,SAAAhmB,GAAC,OAAIA,EAAE/B,QAAUzD,EAAE2Q,OAElD2a,EAAa7qB,KAAK,CAChBmT,KAAM5T,EAAE2Q,GACRlN,MAAOzD,EAAE2Q,SAKT2a,EACR,MAAO9tB,GAEP,OADAK,QAAQC,IAAIN,GACJ,I,wBCICkuB,OArDf,YAAoE,IAA5CnlB,EAA2C,EAA3CA,QAASC,EAAkC,EAAlCA,WAA6B9G,GAAK,EAAtBisB,gBAAsB,EAALjsB,IAAK,EACvC4G,mBAAS,GAD8B,oBAC1D3G,EAD0D,KACnDisB,EADmD,iDAGjE,sBAAArvB,EAAA,sEACQ6O,IAAe,EAAM,CAAE1L,KAAIwL,OAAQmB,GAAQ4B,8BAA+BtO,UAC7EzC,MAAK,kBAAMsJ,GAAYD,MACvB7I,OAAM,SAACF,GACNgJ,GAAW,GACX3I,QAAQC,IAAIN,MALlB,4CAHiE,sBAcjE,OACE,eAAC,KAAD,CACE+H,MAAM,mBACNgB,QAASA,EACTT,MAAO,IACPgX,KAnB6D,2CAoB7DC,SAAU,kBAAMvW,GAAW,IAC3ByW,UAAQ,EANV,UAQE,mBAAGlc,MAAO,CAAEmX,SAAU,OAAQhQ,MAAO,mBAArC,kIAKA,mDACA,cAAC,KAAD,CACE2jB,aAAclsB,EACdqR,SAnBe,SAACvN,GAAD,OAAWmoB,EAASnoB,IAoBnC1C,MAAO,CAAE+E,MAAO,WCnChBuJ,GAAWC,KAAXD,OAiEOyc,OA/Df,YAAkE,IAA5CvlB,EAA2C,EAA3CA,QAASC,EAAkC,EAAlCA,WAAYmlB,EAAsB,EAAtBA,gBAAiBjsB,EAAK,EAALA,GAAK,EACnC4G,mBAAS,GAD0B,oBACxDyO,EADwD,KAChDgX,EADgD,OAE7BzlB,mBAAS,IAFoB,oBAExD0lB,EAFwD,KAE7CC,EAF6C,iDAI/D,sBAAA1vB,EAAA,sEACQ6O,IAAe,EAAM,CACzB1L,KACAwL,OAAQmB,GAAQ8B,gCAChB9C,WAAY2gB,EACZ1gB,eAAgByJ,IACf7X,KALG,sBAKE,sBAAAX,EAAA,6DACJiK,GAAW,GADP,SAEEmlB,IAFF,4CAGHjuB,OAAM,SAACsC,GAAD,OAAOnC,QAAQC,IAAIkC,MAThC,4CAJ+D,sBAoB/D,OACE,eAAC,KAAD,CACEuF,MAAM,iBACNgB,QAASA,EACTT,MAAO,IACPgX,KAzB2D,2CA0B3DC,SAAU,kBAAMvW,GAAW,IAC3ByW,UAAQ,EANV,UAQE,mBAAGlc,MAAO,CAAEmX,SAAU,OAAQhQ,MAAO,mBAArC,8HAGA,mBAAGnH,MAAO,CAAEmX,SAAU,OAAQhQ,MAAO,mBAArC,sKAGA,mBAAGnH,MAAO,CAAEmX,SAAU,OAAQhQ,MAAO,mBAArC,2JAGA,eAAC,KAAD,CAAO4I,UAAU,WAAjB,yBAEE,eAAC,KAAD,CACE+a,aAAc9W,EACd/D,SAxBc,SAACpK,GAAD,OAAOmlB,EAAUnlB,IAyB/B7F,MAAO,CAAE+E,MAAO,KAHlB,UAKE,cAAC,GAAD,CAAQrC,MAAO,EAAf,oBACA,cAAC,GAAD,CAAQA,MAAO,EAAf,wBACA,cAAC,GAAD,CAAQA,MAAO,EAAf,yBATJ,iCAYE,cAAC,KAAD,CAAYuN,SAlCG,SAACQ,EAAE4E,GAAH,OAAS6V,EAAa7V,aC8E9B8V,OAvFf,YAAoE,IAAvC3lB,EAAsC,EAAtCA,QAAS6V,EAA6B,EAA7BA,MAAO1c,EAAsB,EAAtBA,GAAIisB,EAAkB,EAAlBA,gBAAkB,EACvBrlB,oBAAS,GADc,oBAC1D6lB,EAD0D,KAC3CC,EAD2C,OAEzB9lB,oBAAS,GAFgB,oBAE1D+lB,EAF0D,KAE5CC,EAF4C,cAIlDC,EAJkD,8EAIjE,WAAkCrhB,GAAlC,SAAA3O,EAAA,sEACQ6O,IAAe,EAAM,CAAE1L,KAAIwL,WAChChO,MAAK,WACJyuB,IACAvP,OAED1e,OAAM,SAACF,GAAD,OAAWK,QAAQC,IAAIN,MANhC,4CAJiE,sBAajE,IAGMsf,EAAI,uCAAG,sBAAAvgB,EAAA,sEACLovB,IADK,OAEXvP,IAFW,2CAAH,qDAKV,OACE,eAAC,KAAD,CACE7W,MAAM,kBACNgB,QAASA,EACTT,MAAO,IACPgX,KAAMA,EACNC,SAAUX,EACVa,UAAQ,EANV,UAQE,cAAC,IAAD,CACEuP,OAAK,EACLjoB,KAAM,cAACjC,EAAA,EAAD,IACNvB,MAAO,CAAEmQ,aAAc,SACvB3I,QAAS,kBAAMgkB,EAAmBlgB,GAAQ0B,uBAJ5C,qCAMA,cAAC,IAAD,CACEye,OAAK,EACLjoB,KAAM,cAACulB,GAAA,EAAD,IACN/oB,MAAO,CAAEmQ,aAAc,SACvB3I,QAAS,kBAAMgkB,EAAmBlgB,GAAQ2B,0BAJ5C,+BAMA,cAAC,IAAD,CACEwe,OAAK,EACLjoB,KAAM,cAACkoB,GAAA,EAAD,IACN1rB,MAAO,CAAEmQ,aAAc,SACvB3I,QAjCqB,kBAAM6jB,GAAkBD,IA6B/C,sBAMA,cAAC,IAAD,CACEK,OAAK,EACLjoB,KAAM,cAACrC,EAAA,EAAD,IACNnB,MAAO,CAAEmQ,aAAc,SACvB3I,QAAS,kBAAMgkB,EAAmBlgB,GAAQ6B,2BAJ5C,4BAMA,cAAC,IAAD,CACEse,OAAK,EACLE,QAAM,EACNnoB,KAAM,cAACslB,GAAA,EAAD,IACN9oB,MAAO,CAAEmQ,aAAc,SACvB3I,QA7CmB,kBAAM+jB,GAAiBD,IAwC5C,4BAQA,cAAC,GAAD,CACE9lB,QAAS4lB,EACT3lB,WAAY4lB,EACZT,gBAAiBA,EACjBjsB,GAAIA,IAGN,cAAC,GAAD,CACE6G,QAAS8lB,EACT7lB,WAAY8lB,EACZX,gBAAiBA,EACjBjsB,GAAIA,QCpEJ2I,GAASuR,KAATvR,KAEO,SAASskB,KAAkB,IAAD,EACKrmB,mBAAS,IADd,oBAChCsmB,EADgC,KAChBC,EADgB,OAEGvmB,mBAAS,IAFZ,oBAEhCwmB,EAFgC,KAEjBC,EAFiB,OAGDzmB,mBAAS,IAHR,oBAGhC0mB,EAHgC,KAGnBC,EAHmB,OAIH3mB,mBAAS,MAJN,oBAIhC4mB,EAJgC,KAIpBC,EAJoB,OAKH7mB,oBAAS,GALN,oBAKhCugB,EALgC,KAKpBC,EALoB,OAMDxgB,oBAAS,GANR,oBAMhCqgB,EANgC,KAMnBC,EANmB,OAOiBtgB,oBAAS,GAP1B,oBAOhC8mB,EAPgC,KAOVC,EAPU,OAQC/mB,oBAAS,GARV,oBAQhCmX,EARgC,KAQlBC,EARkB,OASKpX,mBAAS,IATd,oBAShCwb,EATgC,KAShBC,EATgB,OAUHzb,mBAAS,IAVN,oBAUhCme,EAVgC,KAUpBC,EAVoB,OAWDpe,mBAAS,IAXR,oBAWhCigB,EAXgC,KAWnBC,EAXmB,OAYHlgB,mBAAS,IAZN,oBAYhCshB,EAZgC,KAYpBC,EAZoB,OAaHvhB,mBAAS,IAbN,qBAahCgnB,GAbgC,MAapBC,GAboB,SAcTjnB,oBAAS,GAdA,sBAchC5J,GAdgC,MAcvB8gB,GAduB,SAeClX,mBAAS,IAfV,sBAehCknB,GAfgC,MAelBC,GAfkB,SAgBDnnB,mBAAS,IAhBR,sBAgBhConB,GAhBgC,MAgBnBC,GAhBmB,SAiBDrnB,mBAAS,IAjBR,sBAiBhCsnB,GAjBgC,MAiBnBC,GAjBmB,SAkBOvnB,mBAAS,IAlBhB,sBAkBhCwnB,GAlBgC,MAkBfC,GAlBe,eA8BxBpC,KA9BwB,8EA8BvC,sBAAApvB,EAAA,6DACEihB,IAAW,GADb,SAEQvS,IACJ,EAAM,CAAEC,OAAQmB,GAAQe,wBACxBlQ,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACHA,GAAQA,EAAK4F,OAAS,GACxB8pB,EAAkB1vB,GAClB4vB,EAAiB5vB,GACjBswB,GAAgBrC,GAAgBjuB,EAAM,SAAS,IAC/CwwB,GAAevC,GAAgBjuB,EAAM,iBAAiB,IACtD0wB,GAAezC,GAAgBjuB,EAAM,QAAQ,IAC7C4wB,GAAmB3C,GAAgBjuB,EAAM,YAAY,KAErD4vB,EAAiB,OAElBrvB,OAAM,SAACF,GAAD,OAAWK,QAAQC,IAAIN,MAAQ8S,SAAQ,kBAAMkN,IAAW,MAfnE,4CA9BuC,oEAgDvC,sBAAAjhB,EAAA,sEACequB,IAAa,EAAOve,GAAQW,yBACtC9P,MAAK,gBAAEC,EAAF,EAAEA,KAAF,OAAY4kB,EAAkB5kB,MACnCO,OAAM,SAACF,GAAD,OAAWK,QAAQC,IAAIN,MAHlC,oFAhDuC,oEAsDvC,sBAAAjB,EAAA,sEACeunB,IAAS,GACnB5mB,MAAK,gBAAEC,EAAF,EAAEA,KAAF,OAAYunB,EAAcvnB,MAC/BO,OAAM,SAACF,GAAD,OAAWK,QAAQC,IAAIN,MAHlC,oFAtDuC,oEA4DvC,sBAAAjB,EAAA,sEACewpB,IAAU,GACpB7oB,MAAK,gBAAEC,EAAF,EAAEA,KAAF,OAAYqpB,EAAerpB,MAChCO,OAAM,SAACF,GAAD,OAAWK,QAAQC,IAAIN,MAHlC,oFA5DuC,oEAkEvC,sBAAAjB,EAAA,sEACe+qB,IAAiB,GAC7BpqB,MAAK,gBAAEC,EAAF,EAAEA,KAAF,OAAY0qB,EAAc1qB,MAC/BO,OAAM,SAACF,GAAD,OAAWK,QAAQC,IAAIN,MAHhC,oFAlEuC,oEAwEvC,sBAAAjB,EAAA,sEACeyuB,IAAS,GACrB9tB,MAAK,gBAAEC,EAAF,EAAEA,KAAF,OAAYowB,GAAcpwB,MAC/BO,OAAM,SAACF,GAAD,OAAWK,QAAQC,IAAIN,MAHhC,oFAxEuC,oEA8EvC,iCAAAjB,EAAA,+DAAgCmD,GAAIwL,EAApC,EAAoCA,OAAQe,EAA5C,EAA4CA,MAAOC,EAAnD,EAAmDA,SAAnD,SACQF,GAAc,CAACd,SAAQe,QAAOC,aACjChP,MAAK,kBAAMgqB,QACXhqB,KAFG,sBAEE,sBAAAX,EAAA,sEAAiBovB,KAAjB,oFACLjuB,OAAM,SAAAF,GAAK,OAAIK,QAAQC,IAAIN,MAJhC,4CA9EuC,oEAqFvC,mCAAAjB,EAAA,6DAAmCmD,EAAnC,EAAmCA,GAAIwL,EAAvC,EAAuCA,OAAQe,EAA/C,EAA+CA,MAAOC,EAAtD,EAAsDA,SAAtD,SACQC,GAAazM,EAAI,CAAEwL,SAAQe,QAAOC,aACrChP,MAAK,kBAAMiqB,QACXjqB,KAFG,sBAEE,sBAAAX,EAAA,sEAAiBovB,KAAjB,oFACLjuB,OAAM,SAAAF,GAAK,OAAIK,QAAQC,IAAIN,MAJhC,4CArFuC,sBAoBvCkD,qBAAU,WACRirB,KArBqC,oCAsBrC9I,GAtBqC,oCAuBrCqC,GAvBqC,oCAwBrC+B,GAxBqC,oCAyBrC+G,GAzBqC,oCA0BrCC,KAEA,IAgEF,IAAM/G,GAAkB,kBAAMJ,GAAeD,IACvCM,GAAmB,kBAAMP,GAAgBD,IACzC5I,GAAoB,kBAAML,GAAiBD,IAC3CyQ,GAAuB,kBAAMb,GAAyBD,IAiBtD1hB,GAAW,CACf,CACEnG,MAAO,IACPO,MAAO,GACPmQ,OAAQ,SAACzE,EAAE+K,EAAGnX,GAAN,OAAYA,EAAE,IAExB,CACEG,MAAO,SACPuQ,UAAW,SACXhQ,MAAO,KAET,CACEP,MAAO,YACPuQ,UAAW,YACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEbC,OAAQ,SAAA9E,GAAS,OACf,cAAC,KAAD,CAAS1K,UAAU,UAAUlB,MAAO4L,EAApC,SACGA,MAIP,CACE5L,MAAO,QACPuQ,UAAW,UACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEbC,OAAQ,SAACkY,GAAD,OACN,cAAC,KAAD,CAAS1nB,UAAU,UAAUlB,MAAO4oB,GAAKA,EAAEliB,MAA3C,SACGkiB,GAAKA,EAAEliB,UAId,CACE1G,MAAO,QACPuQ,UAAW,QACXhQ,MAAO,IACPsoB,QAASZ,GACTa,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAE7c,WACW3B,IAAZwe,EAAE7c,OACuB,IAA3B6c,EAAE7c,MAAM4Q,IAAI+d,QAAQ1nB,IAK/BqP,OAAQ,SAACkY,GAAD,OAAO,cAACxE,GAAD,CAAUvD,MAAO+H,EAAE/H,MAAOzmB,MAAOwuB,EAAE1uB,WAEpD,CACE8F,MAAO,OACPuQ,UAAW,OACXhQ,MAAO,IACPhF,MAAO,SACPstB,QAASR,GACTS,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAEyM,UACUjrB,IAAXwe,EAAEyM,MACsB,IAA1BzM,EAAEyM,KAAK1Y,IAAI+d,QAAQ1nB,IAK9BqP,OAAQ,SAACkY,GAAD,OAAO,cAAC,KAAD,CAAKjmB,MAAM,UAAX,SAAsBimB,EAAE1uB,WAEzC,CACE8F,MAAO,OACPuQ,UAAW,gBACXhQ,MAAO,IACPhF,MAAO,SACPstB,QAASV,GACTW,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAE6N,mBACmBrsB,IAApBwe,EAAE6N,eAC+B,IAAnC7N,EAAE6N,cAAc9Z,IAAI+d,QAAQ1nB,IAKvCqP,OAAQ,SAACkY,GAAD,OAAO,cAAC,KAAD,CAAKjmB,MAAM,UAAX,SAAsBimB,EAAE1uB,WAEzC,CACE8F,MAAO,QACPuQ,UAAW,QACXhQ,MAAO,IACPmQ,OAAQ,SAACkY,GACP,OAAIA,GAAKA,EAAEprB,OAAS,EACV,8BAENorB,EAAEnrB,KAAI,SAACqe,EAAKjc,GAAN,OAAa,cAAC,KAAD,UAAcic,EAAI5hB,QAAR2F,QAGjB,MAGpB,CACEG,MAAO,WACPuQ,UAAW,WACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEboY,QAASN,GACTO,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAEnD,cACcrb,IAAfwe,EAAEnD,UAC0B,IAA9BmD,EAAEnD,SAAS9I,IAAI+d,QAAQ1nB,IAKlCqP,OAAQ,SAACzQ,GAAD,OACN,cAAC,KAAD,CAASiB,UAAU,UAAUlB,MAAOC,GAAKA,EAAE/F,OAA3C,SACG+F,GAAKA,EAAE/F,WAId,CACE8F,MAAO,SACPuQ,UAAW,SACXhQ,MAAO,IACPmQ,OAAQ,SAACzQ,GACP,OAAIA,EACM,cAAC,GAAD,CAAMiX,UAAQ,EAAd,SAAgBjX,IAEjB,MAIb,CACED,MAAO,SACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAAClB,GAAD,OAAY,cAAC6U,GAAD,CAAW7U,OAAQA,MAEzC,CACExP,MAAO,WACPuQ,UAAW,MACXhV,MAAO,SACPytB,MAAO,QACPzoB,MAAO,IACPmQ,OAAQ,SAACvW,EAAIid,GAAL,OAAa,iCACnB,cAAC0I,GAAA,EAAD,CACE9f,MAAM,SACNigB,aAActT,GAAQC,QACtBpR,MAAO,CAACytB,aAAa,MAAOtW,SAAU,UACtC3P,QAAS,kBAlKf0kB,EAkKoCtQ,QAjKpCwK,QAmKI,cAACsH,GAAA,EAAD,CACElpB,MAAM,kBACNxE,MAAO,CAACytB,aAAa,MAAOtW,SAAU,UACtC3P,QAAS,kBAnKU,SAAC7I,GAC1BytB,EAAcztB,GACdwuB,KAiKqBQ,CAAmBhvB,YAM1C,OACE,eAAC4K,GAAD,WACE,cAAC,KAAD,CACEkO,OAAO,MACPmW,MAAO,SAACC,GACN,MAAO,CACLC,cAAe,WAvLvB9Q,QA0LIxc,UAAU,iBACVgE,MAAO,kBZ7SA,SAAyB2hB,EAAiB0F,EAAgBG,GAAmB,IAAD,EACjDzmB,mBAAS,UADwC,oBAClFwoB,EADkF,KACpEC,EADoE,iDAGzF,WAA8BtrB,GAA9B,SAAAlH,EAAA,0DACMkH,IAASA,EAAM2N,OAAO3N,MAD5B,gBAEIspB,EAAiBH,EAAexZ,QAAO,SAACpT,GAAD,OAEkB,IAFZpB,OAAOoB,EAAE8uB,IACnDnZ,cACA2Y,QAAQ1vB,OAAO6E,EAAM2N,OAAO3N,OAAOkS,mBAJ1C,sCAMUoX,EAAiBH,GAN3B,4CAHyF,sBAazF,OACE,sBAAKrrB,UAAU,eAAf,UACE,sBAAKA,UAAU,WAAf,UACE,eAAC,KAAMoQ,MAAP,CACEX,SAAU,SAAChR,GAAD,OAAO+uB,EAAgB/uB,EAAEoR,OAAO3N,QAC1CA,MAAOqrB,EACP/tB,MAAO,CAAEiuB,WAAY,UAHvB,UAKE,cAAC,KAAD,CAAOvrB,MAAM,SAAb,oBACA,cAAC,KAAD,CAAOA,MAAM,mBAAb,uBACA,cAAC,KAAD,CAAOA,MAAM,SAAb,uBAEF,cAAC4lB,GAAD,CACElnB,YAAY,kBACZ8sB,YAAU,EACVC,aAAa,EACbrlB,KAAK,QACLmH,SA9BiF,4CA+BjFjQ,MAAO,CAAE+E,MAAO,IAAKsD,OAAQ,QAI/B,cAAC,IAAD,CACES,KAAK,QACLjJ,KAAK,UACL2D,KAAM,cAAC4qB,GAAA,EAAD,IACN5mB,QAAS2e,EAJX,wBY0QakI,CAAgBlI,GAAiB0F,EAAgBG,IAC9DtU,QAAS/M,GACT1E,WAAY8lB,EACZpwB,QAASA,GACTmN,KAAK,QACLuT,OAAQ,CAAEE,EAAG,SAAUD,EAAG,QAC1B3E,WAAY,CACV2W,gBAAiB,GACjBC,gBAAiB,CAAC,GAAG,IAAK,QAI9B,cAAC,GAAD,CACEtF,OAAO,QACPrB,OAAQpC,EACR9M,MAAOmO,EACPiB,MAAOpE,EACPwF,MAAOqD,GACPlU,UAAW0I,EACXvb,QAASsgB,EACTzK,MAAO8K,GACPhD,QAnTiC,+CAsTnC,cAAC,GAAD,CACE8F,OAAO,SACPrB,OAAQpC,EACR9M,MAAOmO,EACPiB,MAAOpE,EACPwF,MAAOqD,GACPlU,UAAW0I,EACXvb,QAASogB,EACTvK,MAAO+K,GACPjb,SAAU8gB,EACV9I,QAhUiC,+CAmUnC,cAAC,GAAD,CACE3d,QAASkX,EACTyN,WAAYnN,GACZ7R,SAAUghB,IAGZ,cAAC,GAAD,CACE3mB,QAAS6mB,EACThR,MAAO8R,GACPvC,gBAAiBA,GACjBjsB,GAAIwtB,O,IC9VJ7d,GAAWC,KAAXD,OAyGOkgB,OAvGf,YAA2F,IAAnEhpB,EAAkE,EAAlEA,QAASC,EAAyD,EAAzDA,WAAYwjB,EAA6C,EAA7CA,OAAQ9F,EAAqC,EAArCA,QAAqC,IAA5BsL,iBAA4B,MAAlB,GAAkB,MAAdnW,gBAAc,MAAL,GAAK,IAC5D/S,mBAAS,MADmD,oBACjF7G,EADiF,KACzE0kB,EADyE,OAE9D7d,mBAAS,IAFqD,oBAEjF2jB,EAFiF,KAE1EwF,EAF0E,OAGlEnpB,mBAAS,MAHyD,oBAGjFopB,EAHiF,KAG5EC,EAH4E,OAIlCrpB,mBAAS,MAJyB,oBAIjFspB,EAJiF,KAI5DC,EAJ4D,OAKlDvpB,mBAAS,MALyC,oBAKjFqkB,EALiF,KAKpEmF,EALoE,KAOxFpvB,qBAAU,WACJ2Y,EAAS5Z,SACX0kB,EAAU9K,EAAS5Z,QACnBgwB,EAASpW,EAAS4Q,OAClB0F,EAAOtW,EAASqW,KAChBG,EAAuBxW,EAASuW,qBAChCE,EAAezW,EAASsR,gBAG1B,CAACtR,IAEH,IAAM0W,EAAc,uCAAG,sBAAAxzB,EAAA,sDACrB4nB,EAAU,MACVsL,EAAS,IACTE,EAAO,MACPE,EAAuB,MACvBC,EAAe,MACftpB,GAAW,GANU,2CAAH,qDASdsW,EAAI,uCAAG,sBAAAvgB,EAAA,sEACL2nB,EAAQ,CAACzkB,SAAQwqB,QAAOyF,MAC5BE,oBAAqBA,GAAuBA,EAC5CjF,YAAaA,GAAeA,GAC3BtR,EAAS3Z,IAJD,OAKXqwB,IALW,2CAAH,qDAQV,OACE,eAAC,KAAD,CACEjqB,MAAO,IACP4f,WAAW,WACXD,OAAO,UACPlgB,MAAkB,UAAXykB,EAAqB,iBAAiB,kBAC7CzjB,QAASA,EACTuW,KAAMA,EACNC,SAAUgT,EACVzL,gBAAgB,EAChBrH,UAAQ,EATV,UAWI,oDACA,cAAC,IAAD,CACEpT,KAAK,QACL1H,YAAY,qBACZ0pB,aAAcpsB,EACduR,SAAU,SAAAhR,GAAC,OAAImkB,EAAUnkB,EAAEoR,OAAO3N,UAClC,uBAAK,uBACP,uCACA,cAAC,KAAD,CACEoG,KAAK,QACL3E,KAAK,WACL/C,YAAY,oBACZpB,MAAO,CAAE+E,MAAO,QAChBrC,MAAOwmB,EACPjZ,SAAU,SAAChR,GAAD,OAAOyvB,EAASzvB,IAN5B,SASEwvB,GAAaA,EAAUzsB,OAAS,EAChCysB,EAAUxsB,KAAI,SAACqe,GAAD,OACZ,cAAC,GAAD,UAAuBA,EAAI5hB,QAAd4hB,EAAI9Q,QAChB,OAEI,uBAAK,uBACd,qCACA,cAAC,IAAD,CACE1G,KAAK,QACL1H,YAAY,MACZ0pB,aAAc6D,EACd1e,SAAU,SAAAhR,GAAC,OAAI2vB,EAAO3vB,EAAEoR,OAAO3N,UAC/B,uBAAK,uBACP,2DACA,cAAC,KAAD,CACEoG,KAAK,QACLgiB,aAAc+D,GAAuBre,KAAOye,IAAIJ,GAChD5e,SAAU,SAACQ,EAAGye,GAAJ,OAAaJ,EAAuBI,MAC9C,uBAAK,uBACP,6CACA,cAAC,IAAD,CACEpmB,KAAK,QACL1H,YAAY,cACZ0pB,aAAclB,EACd3Z,SAAU,SAAAhR,GAAC,OAAI8vB,EAAe9vB,EAAEoR,OAAO3N,UACvC,uBAAK,2BClCAysB,OAzDf,YAAqE,IAA7C3pB,EAA4C,EAA5CA,QAASC,EAAmC,EAAnCA,WAAY0d,EAAuB,EAAvBA,QAAuB,IAAd7K,gBAAc,MAAL,GAAK,IACtC/S,oBAAS,GAD6B,oBAC3D6pB,EAD2D,KACnDC,EADmD,OAE9B9pB,mBAAS,MAFqB,oBAE3D+E,EAF2D,KAE/CglB,EAF+C,iDAIlE,sBAAA9zB,EAAA,0DACM8c,EAAS9I,IADf,gCAEU2T,EAAQ7K,EAAS9I,IAAK,CAAE4f,SAAQ9kB,eAF1C,OAGIilB,IAHJ,sBAKIzyB,QAAQC,IAAI,0BALhB,4CAJkE,sBAalE,IAGMwyB,EAAe,WACnBF,GAAU,GACVC,EAAc,MACd7pB,GAAW,IAGb,OACE,cAAC,KAAD,CACEV,MAAO,IACP4f,WAAW,WACXD,OAAO,UACPlgB,MAAM,sBACNgB,QAASA,EACTuW,KA7B8D,2CA8B9DC,SAAUuT,EACVhM,gBAAgB,EAChBrH,UAAQ,EATV,SAWE,eAAC,KAAD,CAAOnM,UAAU,WAAjB,UACE,mBAAG/P,MAAO,CAAEmX,SAAU,OAAQhQ,MAAO,mBAArC,2HADF,sBAKE,eAAC,KAAMyJ,MAAP,CAAaX,SA1BG,SAAChR,GAAD,OAAOowB,EAAUpwB,EAAEoR,OAAO3N,QA0BJA,MAAO0sB,EAA7C,UACE,cAAC,KAAD,CAAO1sB,OAAO,EAAd,oBACA,cAAC,KAAD,CAAOA,OAAO,EAAd,yBAPJ,6BAUE,cAAC,KAAD,CAAYuN,SA9BG,SAACQ,EAAEkL,GAAH,OAAS2T,EAAc3T,YCN/B,SAAS6T,KAAkB,IAAD,EACTjqB,oBAAS,GADA,oBAChC5J,EADgC,KACvB8gB,EADuB,OAEGlX,mBAAS,IAFZ,oBAEhCkqB,EAFgC,KAEjBC,EAFiB,OAGLnqB,mBAAS,IAHJ,oBAGhCkpB,EAHgC,KAGrBkB,EAHqB,OAIHpqB,oBAAS,GAJN,oBAIhCugB,EAJgC,KAIpBC,EAJoB,OAKDxgB,oBAAS,GALR,oBAKhCqgB,EALgC,KAKnBC,EALmB,OAMGtgB,oBAAS,GANZ,oBAMhCqqB,EANgC,KAMjBC,EANiB,OAOPtqB,mBAAS,IAPF,oBAOhC+S,EAPgC,KAOtBwX,EAPsB,cAcxBC,IAdwB,2EAcvC,sBAAAv0B,EAAA,6DACEihB,GAAW,GADb,SAEQoN,IAAa,EAAMve,GAAQU,sBAC9B7P,MAAK,gBAAEC,EAAF,EAAEA,KAAF,OAAYszB,EAAiBtzB,GAAQA,MAC1CO,OAAM,SAACF,GAAD,OAAWK,QAAQC,IAAIN,MAC7B8S,SAAQ,kBAAMkN,GAAW,MAL9B,4CAduC,kEAsBvC,sBAAAjhB,EAAA,sEACeyuB,KACV9tB,MAAK,gBAAEC,EAAF,EAAEA,KAAF,OAAYuzB,EAAavzB,GAAQA,MACtCO,OAAM,SAACF,GAAD,OAAWK,QAAQC,IAAIN,MAHlC,oFAtBuC,kEA4BvC,WAA6BL,GAA7B,SAAAZ,EAAA,sEACQsuB,GAAa,CAAE3f,OAAQmB,GAAQS,eAAgBuM,SAAUlc,IAC5DD,KADG,sBACE,sBAAAX,EAAA,sEAAiBu0B,IAAjB,oFACLpzB,OAAM,SAACF,GACNK,QAAQC,IAAIN,GACZ0pB,OALN,4CA5BuC,kEAqCvC,WAA8B/pB,GAA9B,SAAAZ,EAAA,0DACM8c,EAAS9I,IADf,gCAEUua,GAAYzR,EAAS9I,IAAK,CAAErF,OAAQmB,GAAQY,gBAAiBoM,SAAUlc,IAC1ED,KADG,sBACE,sBAAAX,EAAA,sEAAiBu0B,IAAjB,oFACLpzB,OAAM,SAACF,GACNK,QAAQC,IAAIN,GACZ2pB,OANR,4CArCuC,kEAgDvC,WAAgCznB,EAAIvC,GAApC,SAAAZ,EAAA,sEACQwuB,GAAcrrB,EAAIvC,GACrBD,KADG,sBACE,sBAAAX,EAAA,sEAAiBu0B,IAAjB,oFACLpzB,OAAM,SAAAF,GACLK,QAAQC,IAAIN,GACZuzB,OALN,4CAhDuC,sBASvCrwB,qBAAU,WACRowB,IAVqC,mCAWrCE,KACA,IA6CF,IAAM9J,EAAkB,kBAAMJ,GAAeD,IACvCM,EAAmB,kBAAMP,GAAgBD,IACzCoK,EAAqB,kBAAMH,GAAkBD,IAE7CjlB,EAAW,CACf,CACEnG,MAAO,IACPO,MAAO,GACPmQ,OAAQ,SAACzE,EAAE+K,EAAGnX,GAAN,OAAYA,EAAE,IAExB,CACEG,MAAO,SACPuQ,UAAW,SACXhQ,MAAO,KAET,CACEP,MAAO,SACPuQ,UAAW,SACXhQ,MAAO,IACPmQ,OAAQ,SAAC1Z,GACP,OAAIA,EACM,cAAC,KAAD,CAAK2L,MAAM,UAAX,oBAEA,cAAC,KAAD,CAAKA,MAAM,QAAX,wBAId,CACE3C,MAAO,QACPuQ,UAAW,QACXhQ,MAAO,IACPmQ,OAAQ,SAACkY,GACP,OAAIA,GAAKA,EAAEprB,OAAS,EACV,8BAENorB,EAAEnrB,KAAI,SAACqe,EAAKjc,GAAN,OAAa,cAAC,KAAD,UAAcic,EAAI5hB,QAAR2F,QAGjB,MAGpB,CACEG,MAAO,eACPuQ,UAAW,sBACXhQ,MAAO,IACPmQ,OAAQ,SAACyG,GAAD,OAAOA,EAAEnL,KAAOmL,GAAGf,OAAO,cAAc,MAElD,CACEpW,MAAO,aACPuQ,UAAW,aACXhQ,MAAO,IACPmQ,OAAQ,SAACyG,GAAD,OAAOA,EAAInL,KAAOmL,GAAGf,OAAO,cAAe,MAErD,CACEpW,MAAO,iBACPuQ,UAAW,eAEb,CACEvQ,MAAO,WACPuQ,UAAW,MACXhV,MAAO,SACPgF,MAAO,IACPyoB,MAAO,QACPtY,OAAQ,SAACzE,EAAGmL,GAAJ,OACN,iCACE,cAAC0I,GAAA,EAAD,CACE9f,MAAM,SACNigB,aAActT,GAAQC,QACtBpR,MAAO,CAACytB,aAAa,MAAOtW,SAAU,UACtC3P,QAAS,WACP4e,IACA0J,EAAYlU,MAGhB,cAACgJ,GAAA,EAAD,CACEpgB,MAAM,kBACNigB,aAActT,GAAQ1U,MACtBuD,MAAO,CAACytB,aAAa,MAAOtW,SAAU,UACtC3P,QAAS,WACPwoB,IACAF,EAAYlU,YAQxB,OACE,eAACrS,GAAD,WACE,cAAC,KAAD,CACEkO,OAAO,MACPzX,MAAO,CAAEmQ,aAAc,QAEvB3L,MAAO,kBACL,cAAC,IAAD,CACEhB,KAAM,cAAC4qB,GAAA,EAAD,IACN5mB,QAAS2e,EAFX,sBAOFzO,QAAS/M,EACT1E,WAAYwpB,EACZ9zB,QAASA,EACTmN,KAAK,QACLuT,OAAQ,CAAEC,EAAG,QACb3E,YAAY,IAGd,cAAC,GAAD,CACEnS,QAASsgB,EACTrgB,WAAYsgB,EACZ5C,QA1KiC,4CA2KjCsL,UAAWA,EACXxF,OAAO,UAGT,cAAC,GAAD,CACEzjB,QAASogB,EACTngB,WAAYogB,EACZ1C,QAlLiC,4CAmLjCsL,UAAWA,EACXnW,SAAUA,EACV2Q,OAAO,WAGT,cAAC,GAAD,CACEzjB,QAASoqB,EACTnqB,WAAYoqB,EACZ1M,QA3LiC,8CA4LjC7K,SAAUA,OCrMlB,IAae5d,GAbD,CACZ,CACE8T,KAAMC,EACNC,OAAO,EACPC,UCHW,WACb,OACE,gCACE,cAAC,GAAD,CACEtL,OAAO,oBACP2G,UAAU,wBAEZ,cAAC4hB,GAAD,SDFJ,CACEpd,KAAMC,EACNC,OAAO,EACPC,UERW,WACb,OACE,gCACE,cAACuhB,GAAD,CAAe7sB,OAAO,qBAAqB2G,UAAU,wBACrD,cAACwlB,GAAD,U,oBCKElhB,GAAWC,KAAXD,OACAga,GAAWrF,IAAXqF,OACAhhB,GAASuR,KAATvR,KAEF6oB,GAAkB,CACtB7X,SAAU,WACV6Q,OAAQ,SACRve,QAAS,UACT9L,OAAQ,SACR0L,QAAS,UACT4lB,WAAY,aACZC,aAAc,UACdC,iBAAkB,eA4dLC,OAzdf,YAAqI,IAAD,IAArGtc,gBAAqG,MAA5F,GAA4F,EAAxFuc,EAAwF,EAAxFA,gBAAwF,IAAvEC,iBAAuE,MAA7D,GAA6D,EAAzDC,EAAyD,EAAzDA,iBAAyD,IAAvCC,oBAAuC,MAA1B,GAA0B,EAAtBC,EAAsB,EAAtBA,oBAAsB,EACxFrrB,mBAAS,IAD+E,oBAC3HsrB,EAD2H,KAC5GC,EAD4G,OAE1FvrB,mBAAS,IAFiF,oBAE3HwrB,EAF2H,KAE7GC,EAF6G,OAGpFzrB,oBAAS,GAH2E,oBAG3H0rB,EAH2H,KAG1GC,EAH0G,OAItF3rB,mBAAS,CACnDzG,QAAQ,EACRsxB,YAAY,EACZ5lB,SAAS,EACTC,SAAS,EACTC,YAAY,IAToH,oBAI3HymB,EAJ2H,KAI3GC,EAJ2G,OAWxE7rB,mBAAS,IAX+D,oBAW3H8rB,EAX2H,KAWpGC,EAXoG,OAYlF/rB,mBAAS,CACvDzG,OAAQ,KACRsxB,WAAY,KACZ5lB,QAAS,KACTC,QAAS,KACTC,WAAY,OAjBoH,oBAY3H6mB,EAZ2H,KAYzGC,EAZyG,OAmBtFjsB,mBAAS,IAnB6E,oBAmB3HksB,EAnB2H,KAmB3GC,EAnB2G,OAoB1FnsB,mBAAS,IApBiF,oBAoB3HosB,EApB2H,KAoB7GC,EApB6G,OAqBxFrsB,mBAAS,IArB+E,oBAqB3HssB,EArB2H,KAqB5GC,GArB4G,QAsBlFvsB,mBAAS,IAtByE,sBAsB3HwsB,GAtB2H,MAsBzGC,GAtByG,SAuB1FzsB,mBAAS,UAvBiF,sBAuB3HwoB,GAvB2H,MAuB7GC,GAvB6G,SAwBpGzoB,mBAAS,MAxB2F,sBAwB3H0sB,GAxB2H,MAwBlHC,GAxBkH,MAyB1HC,GAAcC,0BAAdD,UAzB0H,SAsCnHE,KAtCmH,8EAsClI,sBAAA72B,EAAA,6DACE01B,GAAmB,GADrB,SAEQhnB,IAAa,EAAM,CAAEC,OAAQmB,GAAQmB,4BAA6BtQ,KAAlE,uCAAuE,6BAAAX,EAAA,uDAAOY,EAAP,EAAOA,OAEhF40B,EAAgB50B,GAChB00B,EAAiB10B,KAEjB40B,EAAgB,IAChBF,EAAiB,KANwD,2CAAvE,uDAQHn0B,OAAM,SAACF,GAAD,OAAWK,QAAQC,IAAIN,MAAQ8S,SAAQ,kBAAM2hB,GAAmB,MAV3E,4CAtCkI,+BAmDnHoB,GAnDmH,iFAmDlI,WAA8B/d,GAA9B,iBAAA/Y,EAAA,2DACM61B,EAAsBrvB,OAAS,GADrC,yCAC+CtG,IAAU0B,KAAK,gCAAiC,CAAEvB,SAAU,eAD3G,aAGIsO,OAAQmB,GAAQ+B,2BAHpB,eAIKkH,EAAOgd,EAAiBhd,IAJ7B,0BAKc8c,GAHNkB,EAFR,EAOe,WAAThe,GAAsBgd,EAAiBhd,GAP7C,yCAO2D7Y,IAAU0B,KAAV,+BAAuCmX,GAAQ,CAAE1Y,SAAU,eAPtH,UAQe,YAAT0Y,GAAuBgd,EAAiBhd,GAR9C,yCAQ4D7Y,IAAU0B,KAAV,+BAAuCmX,GAAQ,CAAE1Y,SAAU,eARvH,UASe,eAAT0Y,GAA0Bgd,EAAiBhd,GATjD,yCAS+D7Y,IAAU0B,KAAV,+BAAuCmX,GAAQ,CAAE1Y,SAAU,eAT1H,UAUe,YAAT0Y,GAAuBgd,EAAiBhd,GAV9C,0CAU4D7Y,IAAU0B,KAAV,+BAAuCmX,GAAQ,CAAE1Y,SAAU,eAVvH,WAWe,eAAT0Y,GAA0Bgd,EAAiBhd,GAXjD,0CAW+D7Y,IAAU0B,KAAV,+BAAuCmX,GAAQ,CAAE1Y,SAAU,eAX1H,eAaEu1B,EAAkB,2BAAID,GAAL,mBAAsB5c,GAAO,KAbhD,UAcQlK,IAAe,EAAMkoB,GACxBp2B,KADG,sBACE,sBAAAX,EAAA,sEAAiB62B,KAAjB,oFACL11B,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAC3B2S,SAAQ,kBAAM6hB,EAAkB,2BAAID,GAAL,mBAAsB5c,GAAO,QAjBjE,6CAnDkI,sBA2BlI5U,qBAAU,WACR0yB,OACA,IAEF1yB,qBAAU,WACJoxB,GAAgBA,EAAa/uB,OAAS,GACxCwwB,GAAezB,KAGjB,CAACA,IAmCH,IAAM0B,GAAmB,WACvB,GAAI1B,GAAgBA,EAAa/uB,OAAS,EACxC,OAAOmwB,GAAU,CACf/1B,KAAM20B,EAAa9uB,KAAI,SAACsT,GACtB,OAAO,YAAC,eACHA,GADL,IAEE3K,QAAS2K,EAAE7W,QAAU6W,EAAEnF,UAAYmF,EAAE7W,OAAS,IAAM6W,EAAEnF,UAAY,IAClEtR,OAAQyW,EAAEzW,OAASyW,EAAEzW,OAAOJ,OAAS,IAAM6W,EAAEzW,OAAOsR,UAAY,IAChE5F,QAAS+K,EAAE/K,SAAW+K,EAAE/K,QAAQ9L,OAAS6W,EAAE/K,QAAQ9L,OAAS,IAAM6W,EAAE/K,QAAQ4F,UAAY,IACxFkI,SAAU/C,EAAE+C,SAAW/C,EAAE+C,SAAS5Z,OAAS,SAG/CsY,OAAQmZ,GACRuC,SAAS,iBAAD,OAAmBliB,OAASoK,OAAO,sBAK3C+X,GAAmB,SAAC1zB,GACxB,IAAM2zB,EAAQ3zB,EAAEoR,OAAO3N,MACnB7E,OAAO+0B,GAAO5wB,OAAS,GAAK+rB,IAAgB8C,EAAc7uB,OAAS,EACrEgvB,EAAgBH,EAAcxe,QAAO,SAACpT,GAAD,OAAqF,IAA/EpB,OAAOoB,EAAE8uB,KAAe7N,cAAcqN,QAAQ1vB,OAAO+0B,GAAO1S,mBAEvG8Q,EAAgBH,IAId2B,GAAiB,SAACvsB,GACtByrB,EAAkBrH,GAAgBpkB,EAAY,aAC9C2rB,EAAgBvH,GAAgBpkB,EAAY,UAAU,IACtD6rB,GAAiBzH,GAAgBpkB,EAAY,WAAW,IACxD+rB,GAAoB3H,GAAgBpkB,EAAY,cAAc,KAS1D0E,GAAW,CACf,CACEnG,MAAO,IACPO,MAAO,GACPhF,MAAO,SACPmV,OAAQ,SAACzE,EAAE+K,EAAGnX,GAAN,OAAYA,EAAE,IAExB,CACEG,MAAO,SACPO,MAAO,IACPiQ,SAAU,CACRxQ,OAAO,GAETuQ,UAAW,SACXG,OAAQ,SAACC,GAAD,OACN,cAAC,KAAD,CAASzP,UAAU,UAAUlB,MAAO2Q,EAApC,SAAwCA,MAG5C,CACE3Q,MAAO,YACPO,MAAO,IACPiQ,SAAU,CACRxQ,OAAO,GAETuQ,UAAW,YACXG,OAAQ,SAACC,GAAD,OAAO,cAAC,KAAD,CAASzP,UAAU,UAAUlB,MAAO2Q,EAApC,SAAwCA,MAEzD,CACE3Q,MAAO,SACPO,MAAO,IACPgQ,UAAW,SACXG,OAAQ,SAACjW,GAAD,OAAO,cAAC,GAAD,CAAMyc,UAAQ,EAAd,SAAgBzc,MAEjC,CACEuF,MAAO,WACPO,MAAO,IACPiQ,SAAU,CACRxQ,OAAO,GAETuQ,UAAW,WACX8d,cAAeZ,IAAWA,GAAQ3Z,SAAW2Z,GAAQ3Z,SAAW,KAChE+U,QAASoE,EACTnE,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAEnD,cACcrb,IAAfwe,EAAEnD,UAC0B,IAA9BmD,EAAEnD,SAAS9I,IAAI+d,QAAQ1nB,IAKlCqP,OAAQ,SAACC,GAAD,OACN,cAAC,KAAD,CAASzP,UAAU,UAAUlB,MAAO2Q,EAAEzW,OAASyW,EAAEzW,OAAQ,IAAzD,SAA+DyW,EAAIA,EAAEzW,OAAQ,QAGjF,CACE8F,MAAO,SACPO,MAAO,IACPiQ,SAAU,CACRxQ,OAAO,GAETuQ,UAAW,SACX8d,cAAeZ,IAAWA,GAAQnzB,OAASmzB,GAAQnzB,OAAS,KAC5DuuB,QAASsE,EACTrE,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAE3c,YACY7B,IAAbwe,EAAE3c,QAAqC,OAAb2c,EAAE3c,QACF,IAA5B2c,EAAE3c,OAAO0Q,IAAI+d,QAAQ1nB,IAKhCqP,OAAQ,SAACpW,GACP,GAAIA,GAAUA,EAAOJ,QAAUI,EAAOsR,UAAW,CAC/C,IAAM1R,EAASI,EAAOJ,OAAS,IAAMI,EAAOsR,UAC5C,OAAO,cAAC,KAAD,CAAS1K,UAAU,UAAUlB,MAAO9F,EAApC,SAA6CA,IAEpD,MAAO,MAIb,CACE8F,MAAO,UACPO,MAAO,IACPiQ,SAAU,CACRxQ,OAAO,GAETuQ,UAAW,UACX8d,cAAeZ,IAAWA,GAAQznB,QAAUynB,GAAQznB,QAAU,KAC9D6iB,QAASwE,EACTvE,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAEjR,aACavN,IAAdwe,EAAEjR,SACyB,IAA7BiR,EAAEjR,QAAQgF,IAAI+d,QAAQ1nB,IAKjCqP,OAAQ,SAAC1K,GACP,GAAIA,GAAWA,EAAQ9L,QAAU8L,EAAQ4F,UAAW,CAClD,IAAM1R,EAAS8L,EAAQ9L,OAAS,IAAM8L,EAAQ4F,UAC9C,OAAO,cAAC,KAAD,CAAS1K,UAAU,UAAUlB,MAAO9F,EAApC,SAA6CA,IAEpD,MAAO,MAIb,CACE8F,MAAO,aACPO,MAAO,IACPiQ,SAAU,CACRxQ,OAAO,GAETuQ,UAAW,aACX8d,cAAeZ,IAAWA,GAAQ7B,WAAa6B,GAAQ7B,WAAa,KACpE/C,QAAS0E,GACTzE,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAE2U,gBACgBnzB,IAAjBwe,EAAE2U,YAC4B,IAAhC3U,EAAE2U,WAAW5gB,IAAI+d,QAAQ1nB,IAKpCqP,OAAQ,SAACoL,GACP,GAAIA,GAAOA,EAAI5hB,QAAU4hB,EAAIlQ,UAAW,CACtC,IAAM1R,EAAS4hB,EAAI5hB,OAAS,IAAM4hB,EAAIlQ,UACtC,OAAO,cAAC,KAAD,CAAS1K,UAAU,UAAUlB,MAAO9F,EAApC,SAA6CA,IAEpD,MAAO,MAIb,CACE8F,MAAO,UACPO,MAAO,IACPhF,MAAO,SACPgV,UAAW,eACX8d,cAAeZ,IAAWA,GAAQ5B,aAAe4B,GAAQ5B,aAAe,KACxEhD,QAASza,GACT0a,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAE4U,kBACkBpzB,IAAnBwe,EAAE4U,cAC0B,IAA9B5U,EAAE4U,aAAa9C,QAAQ1nB,IAKlCqP,OAAQ,SAACC,GAAD,OAAOtX,OAAOsX,GAAGP,gBAE3B,CACEpQ,MAAO,cACPO,MAAO,IACPhF,MAAO,SACPgV,UAAW,mBACX8d,cAAeZ,IAAWA,GAAQ3B,iBAAmB2B,GAAQ3B,iBAAmB,KAChFjD,QAASva,GACTwa,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAE6U,sBACsBrzB,IAAvBwe,EAAE6U,kBAC8B,IAAlC7U,EAAE6U,iBAAiB/C,QAAQ1nB,IAKtCqP,OAAQ,SAACC,GAAD,OAAOtX,OAAOsX,GAAGP,iBAI7B,OACE,gCACE,eAAC,IAAD,CAAK5U,MAAO,CAAEmQ,aAAc,QAAS9G,UAAW,SAAhD,UACE,eAAC,IAAD,CAAKjJ,GAAI,GAAT,UACE,gDACA,cAAC,KAAD,CACE0yB,YAAU,EACV1xB,YAAY,oBACZ0H,KAAK,QACLnN,QAAS60B,EACT1F,aAAcyG,EAAiBzyB,OAC/BmR,SAAU,SAAAnR,GAAM,OAAI0yB,EAAoB,2BAAID,GAAL,IAAuBzyB,aAC9DkB,MAAO,CAAE+E,MAAO,IAAKoL,aAAc,QAAS/I,YAAa,SACzD2rB,aAAc,SAACC,EAAOC,GAAR,OAAmBA,EAAOtwB,SAASud,cAAcqN,QAAQyF,EAAM9S,gBAAkB,GARjG,SAWEjM,EAASjS,OAAS,EAClBiS,EAAShS,KAAI,SAAChD,EAAGoF,GAAJ,OACX,cAAC,GAAD,CAAgB3B,MAAOzD,EAAEuQ,IAAzB,mBAAkCvQ,EAAEP,OAApC,YAA8CO,EAAEmR,YAAnC/L,MAGf,cAAC,GAAD,yBAGF,cAAC,IAAD,CACEyE,KAAK,QACLjJ,KAAK,UACLG,MAAO,CAAEmQ,aAAc,SACvB6J,SAAUmX,EAAeryB,OACzB0E,KAAM2tB,EAAeryB,OAAS,cAAC+lB,GAAA,EAAD,CAAiBjd,MAAI,IAAI,cAAC4K,GAAA,EAAD,IACvDhL,QAAS,kBAAM8qB,GAAe,WANhC,qBAQA,iDACA,cAAC,KAAD,CACEQ,YAAU,EACVhqB,KAAK,QACL1H,YAAY,oBACZzF,QAAS+0B,EACT5F,aAAcyG,EAAiB/mB,QAC/ByF,SAAU,SAAAzF,GAAO,OAAIgnB,EAAoB,2BAAID,GAAL,IAAuB/mB,cAC/DxK,MAAO,CAAE+E,MAAO,IAAKoL,aAAc,QAAS/I,YAAa,SACzD2rB,aAAc,SAACC,EAAOC,GAClB,OAAOA,EAAOtwB,SAASud,cAAcqN,QAAQyF,EAAM9S,gBAAkB,GAT3E,SAcEuQ,EAAUzuB,OAAS,EACnByuB,EAAUxuB,KAAI,SAAChD,EAAGoF,GAAJ,OACZ,cAAC,GAAD,CAAgB3B,MAAOzD,EAAEuQ,IAAzB,mBAAkCvQ,EAAEP,OAApC,YAA8CO,EAAEmR,YAAnC/L,MAGf,cAAC,GAAD,yBAGF,cAAC,IAAD,CACEyE,KAAK,QACLjJ,KAAK,UACLma,SAAUmX,EAAe3mB,QACzBxK,MAAO,CAAEmQ,aAAc,SACvB3M,KAAM2tB,EAAe3mB,QAAU,cAACqa,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAAC4K,GAAA,EAAD,IACvDhL,QAAS,kBAAM8qB,GAAe,YANhC,qBAQA,oDACA,cAAC,KAAD,CACEQ,YAAU,EACVhqB,KAAK,QACL1H,YAAY,oBACZzF,QAASi1B,EACT9F,aAAcyG,EAAiBnB,WAC/BngB,SAAU,SAAAmgB,GAAU,OAAIoB,EAAoB,2BAAID,GAAL,IAAuBnB,iBAClEpwB,MAAO,CAAE+E,MAAO,IAAKoL,aAAc,QAAS/I,YAAa,SACzD2rB,aAAc,SAACC,EAAOC,GAClB,OAAOA,EAAOtwB,SAASud,cAAcqN,QAAQyF,EAAM9S,gBAAkB,GAT3E,SAcEyQ,EAAa3uB,OAAS,EACtB2uB,EAAa1uB,KAAI,SAAChD,EAAGoF,GAAJ,OACf,cAAC,GAAD,CAAgB3B,MAAOzD,EAAEuQ,IAAzB,mBAAkCvQ,EAAEP,OAApC,YAA8CO,EAAEmR,YAAnC/L,MAGf,cAAC,GAAD,yBAGF,cAAC,IAAD,CACEyE,KAAK,QACLjJ,KAAK,UACLG,MAAO,CAAEmQ,aAAc,SACvB6J,SAAUmX,EAAef,WACzB5sB,KAAM2tB,EAAef,WAAa,cAACvL,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAAC4K,GAAA,EAAD,IAC1DhL,QAAS,kBAAM8qB,GAAe,eANhC,wBASF,eAAC,IAAD,CAAKlyB,GAAI,GAAT,UACE,yDACA,cAAC,KAAD,CACE0I,KAAK,QACL1H,YAAY,yBACZ0pB,aAAcyG,EAAiB9mB,QAC/BwF,SAAU,SAAAxF,GAAO,OAAI+mB,EAAoB,2BAAID,GAAL,IAAuB9mB,cAC/DzK,MAAO,CAAE+E,MAAO,IAAKoL,aAAc,QAAS/I,YAAa,SAL3D,SAQEwL,GAAY3Q,KAAI,SAACixB,GAAD,OACd,cAAC,GAAD,CAAsBxwB,MAAOwwB,EAAExwB,MAA/B,SAAuCwwB,EAAErgB,MAA5BqgB,EAAExwB,YAInB,cAAC,IAAD,CACEoG,KAAK,QACLjJ,KAAK,UACLG,MAAO,CAAEmQ,aAAc,SACvB6J,SAAUmX,EAAe1mB,QACzBjH,KAAM2tB,EAAe1mB,QAAU,cAACoa,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAAC4K,GAAA,EAAD,IACvDhL,QAAS,kBAAM8qB,GAAe,YANhC,qBAQA,4DACA,cAAC,KAAD,CACExpB,KAAK,QACL1H,YAAY,4BACZ0pB,aAAcyG,EAAiB7mB,WAC/BuF,SAAU,SAAAvF,GAAU,OAAI8mB,EAAoB,2BAAID,GAAL,IAAuB7mB,iBAClE1K,MAAO,CAAE+E,MAAO,IAAKoL,aAAc,QAAS/I,YAAa,SAL3D,SAQE0L,GAAe7Q,KAAI,SAACixB,GAAD,OACjB,cAAC,GAAD,CAAsBxwB,MAAOwwB,EAAExwB,MAA/B,SAAuCwwB,EAAErgB,MAA5BqgB,EAAExwB,YAInB,cAAC,IAAD,CACEoG,KAAK,QACLjJ,KAAK,UACLG,MAAO,CAAEmQ,aAAc,SACvB6J,SAAUmX,EAAezmB,WACzBlH,KAAM2tB,EAAezmB,WAAa,cAACma,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAAC4K,GAAA,EAAD,IAC1DhL,QAAS,kBAAM8qB,GAAe,eANhC,2BAUJ,cAAC,KAAD,CACE9tB,MAAO,kBAAM,gCACX,eAAC,KAAMoM,MAAP,CAAa9H,KAAK,QAAQpG,MAAOqrB,GAAc9d,SAAU,SAAChR,GAAD,OAAO+uB,GAAgB/uB,EAAEoR,OAAO3N,QAAzF,UACE,cAAC,KAAD,CAAOA,MAAM,SAAb,oBACA,cAAC,KAAD,CAAOA,MAAM,YAAb,uBACA,cAAC,KAAD,CAAOA,MAAM,SAAb,uBAEF,cAAC,GAAD,CACEuN,SAAU0iB,GACVvxB,YAAW,iBAAYqT,GAAYsZ,KACnCG,YAAU,EACVplB,KAAK,QACL9I,MAAO,CAAE+E,MAAO,WAGpB0S,OAAO,MACP3O,KAAK,QACL7C,WAAY8qB,EACZp1B,QAASs1B,EACTvZ,QAAS/M,GACTsF,SAtVgB,SAACQ,EAAG4c,EAAS7R,EAAIvV,GACrCusB,GAAevsB,EAAWktB,mBAC1B7B,EAAyB,IACzBY,GAAW7E,IAoVP+F,aAAc,CACZC,YAAa,GACbC,gBAAiBjC,EACjBphB,SAAU,SAAChR,GAAD,OAAOqyB,EAAyBryB,KAE5C0Y,WAAY,CACV2W,gBAAiB,GACjBC,gBAAiB,CAAC,GAAG,IAAI,MAE3BlS,OAAQ,CAAEC,EAAG,QACbL,OAAQ,kBAAM,cAAC,IAAD,CAAQpc,KAAK,UAAUiJ,KAAK,QAAQtF,KAAM,cAAC+vB,GAAA,EAAD,IAAmB/rB,QAASirB,GAAtE,6B,8BCnednkB,GAAWC,KAAXD,OA8COklB,OA5Cf,YAA+D,IAAD,IAAvC3oB,gBAAuC,MAA9B,GAA8B,EAA1BwQ,EAA0B,EAA1BA,MAAO7V,EAAmB,EAAnBA,QAAS2d,EAAU,EAAVA,QAAU,EACN5d,mBAAS,MADH,oBACrDkuB,EADqD,KAChCC,EADgC,iDAG5D,sBAAAl4B,EAAA,sEACQ2nB,EAAQsQ,GADhB,OAEEpY,IAFF,4CAH4D,sBAQ5D,OACE,cAAC,KAAD,CACE7W,MAAM,qBACNO,MAAO,IACPS,QAASA,EACTuW,KAbwD,2CAcxDC,SAAUX,EACVsY,WAAY,kBAAMD,EAAuB,OACzCxX,UAAQ,EAPV,SASE,cAAC,KAAD,CACE9a,YAAY,yBACZ2xB,aAAc,SAACC,EAAOC,GAAR,OAAmBA,EAAOtwB,SAASud,cAAcqN,QAAQyF,EAAM9S,gBAAkB,GAC/FlgB,MAAO,CAAE+E,MAAO,KAChBrC,MAAO+wB,EACPxjB,SAAU,SAAChR,GAAD,OAAOy0B,EAAuBz0B,IACxC6zB,YAAU,EANZ,SASEjoB,GAAYA,EAAS7I,OAAS,EAAI6I,EAAS5I,KAAI,SAAChD,EAAGoF,GAAJ,OAC7C,cAAC,GAAD,CAAgB3B,MAAOzD,EAAEuQ,IAAzB,mBAAkCvQ,EAAEP,OAApC,YAA8CO,EAAEmR,YAAnC/L,MACZ,UC3BHiD,GAASuR,KAATvR,KAEO,SAASssB,KAAmB,IAAD,EACMruB,mBAAS,IADf,oBACjCsuB,EADiC,KAChBC,EADgB,OAEEvuB,mBAAS,IAFX,oBAEjCwuB,EAFiC,KAElBC,EAFkB,OAGUzuB,oBAAS,GAHnB,oBAGjC0uB,EAHiC,KAGdC,EAHc,OAIF3uB,mBAAS,IAJP,oBAIjC4uB,EAJiC,KAIpBC,EAJoB,OAKE7uB,mBAAS,IALX,oBAKjC8uB,EALiC,KAKlBC,EALkB,OAMA/uB,oBAAS,GANT,oBAMjCgvB,EANiC,KAMnBC,EANmB,OAOFjvB,mBAAS,MAPP,oBAOjCkvB,EAPiC,KAOpBC,EAPoB,iDAcxC,sBAAAl5B,EAAA,sEACe0O,IAAa,EAAO,CAAEC,OAAQmB,GAAQmB,4BAChDtQ,MAAK,gBAAEC,EAAF,EAAEA,KAAF,OAAY43B,EAAiB53B,MAClCO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAHhC,oFAdwC,kEAoBxC,sBAAApB,EAAA,6DACE04B,GAAqB,GADvB,SAEehqB,IAAa,EAAM,CAAEC,OAAQmB,GAAQoB,yBAC/CvQ,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACFA,GAAQA,EAAK4F,OAAS,GACxB8xB,EAAmB13B,GACnBg4B,EAAe/J,GAAgBjuB,EAAM,SAAS,IAC9Ck4B,EAAiBjK,GAAgBjuB,EAAM,WAAW,KAElD03B,EAAmB,OAEpBn3B,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAM2kB,GAAqB,MAX3E,oFApBwC,kEAkCxC,WAA8BtpB,GAA9B,SAAApP,EAAA,sEACe6O,IAAe,EAAM,CAAEF,OAAQmB,GAAQ+B,0BAA2BxC,SAAU,CAAC4pB,GAAc7pB,YACrGzO,MAAK,kBAAM03B,OACXl3B,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAHhC,oFAlCwC,sBASxC+C,qBAAU,YAT8B,mCAUtCg1B,GAVsC,mCAWtCC,KACA,IA4BF,IAKMC,EAAoB,kBAAML,GAAiBD,IAE3C5pB,EAAW,CACf,CACEnG,MAAO,IACPO,MAAO,GACPmQ,OAAQ,SAACzE,EAAE+K,EAAInX,GAAP,OAAaA,EAAE,IAEzB,CACEG,MAAO,SACPuQ,UAAW,SACXhQ,MAAO,IACPiQ,SAAU,CACRxQ,OAAO,GAET0Q,OAAQ,SAACC,GAAD,OACN,cAAC,KAAD,CAASzP,UAAU,UAAUlB,MAAO2Q,EAApC,SAAwCA,MAG5C,CACE3Q,MAAO,YACPuQ,UAAW,YACXhQ,MAAO,IACPiQ,SAAU,CACRxQ,OAAO,GAET0Q,OAAQ,SAACC,GAAD,OACN,cAAC,KAAD,CAASzP,UAAU,UAAUlB,MAAO2Q,EAApC,SAAwCA,MAG5C,CACE3Q,MAAO,QACPuQ,UAAW,QACXhQ,MAAO,IACPsoB,QAAU8G,EACV7G,SAAU,SAACznB,EAAE4V,GAAH,OAAoC,IAA3BA,EAAE7c,MAAM4Q,IAAI+d,QAAQ1nB,IACvCqP,OAAQ,SAACzQ,GAAD,OAAO,cAAC,KAAD,UAAMA,EAAE/F,WAEzB,CACE8F,MAAO,UACPuQ,UAAW,UACXhQ,MAAO,IACPsoB,QAASgH,EACT/G,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAE7Q,WACF6Q,GAAKA,EAAE7Q,SAAW6Q,EAAE7Q,QAAQ4E,MACA,IAA7BiM,EAAE7Q,QAAQ4E,IAAI+d,QAAQ1nB,IAKjCmP,SAAU,CACRxQ,OAAO,GAET0Q,OAAQ,SAACC,GAAD,OACN,cAAC,KAAD,CAASzP,UAAU,UAAUlB,MAAO2Q,GAAKA,EAAE/E,UAA3C,SAAuD+E,GAAKA,EAAE/E,cAGlE,CACE5L,MAAO,iBACPuQ,UAAW,UACXhQ,MAAO,IACPhF,MAAO,SACPmV,OAAQ,SAACC,GAAD,OAAO,cAAC,GAAD,UAAOA,GAAKA,EAAEgU,WAE/B,CACE3kB,MAAO,UACPuQ,UAAW,MACXhQ,MAAO,GACPhF,MAAO,SACPytB,MAAO,QACPtY,OAAQ,SAACvW,GAAD,OAAQ,cAACm2B,GAAA,EAAD,CAAoBttB,QAAS,kBA7EzB,SAAC7I,GACvB+1B,EAAe/1B,GACfk2B,IA2EqDE,CAAgBp2B,IAAKqB,MAAO,CAAEwkB,OAAQ,UAAWrN,SAAS,eAIjH,OACE,gCACE,cAAC,KAAD,CACEM,OAAO,MACP3O,KAAK,QACL4O,QAAS/M,EACT1E,WAAY4tB,EACZl4B,QAASs4B,EACTtc,WAAY,CACV2W,gBAAiB,GACjBC,gBAAiB,CAAC,GAAG,IAAI,MAE3BlS,OAAQ,CAAEE,EAAG,OAAQD,EAAG,UAG1B,cAAC,GAAD,CAAczR,SAAUkpB,EAAe1Y,MAAOwZ,EAAmBrvB,QAAS+uB,EAAcpR,QAxIpD,iD,ICClCrK,GAAYC,KAAZD,Q,cCHKkc,GAAc,uCAAG,iCAAAx5B,EAAA,6DAAQoD,EAAR,EAAQA,MAAOq2B,EAAf,EAAeA,YAAaC,EAA5B,EAA4BA,SAA5B,kBAA0C53B,EAAY,CAClFY,IAAK,cAAeC,OAAQ,MAAOiM,OAAQ,CAACxL,QAAOq2B,cAAaC,cAC/D,IAF2B,2CAAH,sDAYdC,GAAe,uCAAG,+BAAA35B,EAAA,6DAAS2O,EAAT,EAASA,OAAQirB,EAAjB,EAAiBA,WAAjB,kBAAkC93B,EAAY,CAC3EY,IAAK,cAAeC,OAAQ,OAAQ/B,KAAM,CAAE+N,SAAQirB,gBACnD,IAF4B,2CAAH,sDAYfC,GAAe,uCAAG,+BAAA75B,EAAA,6DAAQ2O,EAAR,EAAQA,OAAQirB,EAAhB,EAAgBA,WAAhB,kBAAgC93B,EAAY,CACzEY,IAAK,cAAeC,OAAQ,QAAS/B,KAAM,CAAE+N,SAAQirB,gBACpD,IAF4B,2CAAH,sDCzBb,YAAS/P,EAAOjpB,GAC7B,OAAIipB,IAAUkD,GAwEhB,WAAmC,IAAVnsB,EAAS,uDAAJ,GAC5B,IACE,IAAIk5B,EAAa,GACjB,OAAoB,IAAhBl5B,EAAK4F,QACT5F,EAAKgY,SAAQ,SAACkM,GACZ,GAAIgV,EAAWtzB,OAAS,EAAG,CACzB,IAAM4f,EAAM0T,EAAW7K,WAAU,SAACpmB,GAAD,OAAOA,EAAE8G,SAASzM,SAAW4hB,EAAInV,SAASzM,QAAU2F,EAAE8G,SAASiF,YAAckQ,EAAInV,SAASiF,aAC3H,IAAa,IAATwR,GAActB,EAAIiV,iBAAmB,CACvC,IAAMC,EAAcF,EAAW1T,GACzBhS,EAAQY,KAAO8P,EAAIiV,kBAAkB3a,OAAO,SAClD0a,EAAW1T,GAAX,2BACK4T,GADL,mBAEG5lB,EAAQ,CACPJ,IAAK8Q,EAAI9Q,IACTwE,OAAQsM,EAAItM,OACZwB,SAAU8K,EAAI9K,SACdigB,eAAgBnV,EAAImV,eACpBC,mBAAoBpV,EAAIoV,0BAGvB,CACL,IAAM9lB,EAAQY,KAAO8P,EAAIiV,kBAAkB3a,OAAO,SAC5C4a,EAAW,cACfhmB,IAAK8Q,EAAI9Q,IACTjF,eAAgB+V,EAAInV,SAASZ,eAC7B8lB,aAAc/P,EAAInV,SAASklB,aAC3BC,iBAAkBhQ,EAAInV,SAASmlB,iBAC/BnlB,SAAUmV,EAAInV,SACdge,OAAQ7I,EAAInV,SAASge,OACrBwM,IAAKrV,EAAInV,SAASwF,iBAClBwb,WAAY7L,EAAInV,SAASqE,IACzB1Q,OAAQ,CACNJ,OAAQ4hB,EAAInV,SAASrM,OAASwhB,EAAInV,SAASrM,OAAOJ,OAAS,IAC3D0R,UAAWkQ,EAAInV,SAASrM,OAASwhB,EAAInV,SAASrM,OAAOsR,UAAW,IAChEZ,IAAK8Q,EAAInV,SAASrM,OAASwhB,EAAInV,SAASrM,OAAO0Q,IAAK,KAEtDhF,QAAS,CACP9L,OAAQ4hB,EAAInV,SAASX,QAAU8V,EAAInV,SAASX,QAAQ9L,OAAS,IAC7D0R,UAAWkQ,EAAInV,SAASX,QAAU8V,EAAInV,SAASX,QAAQ4F,UAAW,IAClEZ,IAAK8Q,EAAInV,SAASX,QAAU8V,EAAInV,SAASX,QAAQgF,IAAK,KAExD8I,SAAU,CACR5Z,OAAQ4hB,EAAInV,SAASmN,SAAWgI,EAAInV,SAASmN,SAAS5Z,OAAS,IAC/D8Q,IAAK8Q,EAAInV,SAASmN,SAAWgI,EAAInV,SAASmN,SAAS9I,IAAK,MAEzDI,EAAQ,CACPJ,IAAK8Q,EAAI9Q,IACTwE,OAAQsM,EAAItM,OACZwB,SAAU8K,EAAI9K,SACdigB,eAAgBnV,EAAImV,eACpBC,mBAAoBpV,EAAIoV,qBAG5BJ,EAAW51B,KAAK81B,QAEb,CACL,IAAM5lB,EAAQY,KAAO8P,EAAIiV,kBAAkB3a,OAAO,SAClD0a,EAAa,CAAC,cACZ9lB,IAAK8Q,EAAI9Q,IACTjF,eAAgB+V,EAAInV,SAASZ,eAC7B8lB,aAAc/P,EAAInV,SAASklB,aAC3BC,iBAAkBhQ,EAAInV,SAASmlB,iBAC/BnlB,SAAUmV,EAAInV,SACdge,OAAQ7I,EAAInV,SAASge,OACrBwM,IAAKrV,EAAInV,SAASwF,iBAClBwb,WAAY7L,EAAInV,SAASqE,IACzB1Q,OAAQ,CACNJ,OAAQ4hB,EAAInV,SAASrM,OAASwhB,EAAInV,SAASrM,OAAOJ,OAAS,IAC3D0R,UAAWkQ,EAAInV,SAASrM,OAASwhB,EAAInV,SAASrM,OAAOsR,UAAW,IAChEZ,IAAK8Q,EAAInV,SAASrM,OAASwhB,EAAInV,SAASrM,OAAO0Q,IAAK,KAEtDhF,QAAS,CACP9L,OAAQ4hB,EAAInV,SAASX,QAAU8V,EAAInV,SAASX,QAAQ9L,OAAQ,IAC5D0R,UAAWkQ,EAAInV,SAASX,QAAU8V,EAAInV,SAASX,QAAQ4F,UAAW,IAClEZ,IAAK8Q,EAAInV,SAASX,QAAU8V,EAAInV,SAASX,QAAQgF,IAAK,KAExD8I,SAAU,CACR5Z,OAAQ4hB,EAAInV,SAASmN,SAAWgI,EAAInV,SAASmN,SAAS5Z,OAAS,IAC/D8Q,IAAK8Q,EAAInV,SAASmN,SAAWgI,EAAInV,SAASmN,SAAS9I,IAAK,MAEzDI,EAAQ,CACPJ,IAAK8Q,EAAI9Q,IACTwE,OAAQsM,EAAItM,OACZwB,SAAU8K,EAAI9K,SACdigB,eAAgBnV,EAAImV,eACpBC,mBAAoBpV,EAAIoV,0BAlFDJ,EAwF/B,MAAO74B,GAEP,OADAK,QAAQL,MAAMA,GACP,IApKAm5B,CAAgBx5B,GACdipB,IAAUkD,GAuKvB,WAAgC,IAAVnsB,EAAS,uDAAJ,GACzB,IACE,IAAIk5B,EAAa,GACjB,OAAoB,IAAhBl5B,EAAK4F,QACT5F,EAAKgY,SAAQ,SAACkM,GACZ,GAAIgV,EAAWtzB,OAAS,EAAG,CACzB,IAAM4f,EAAM0T,EAAW7K,WAAU,SAACpmB,GAAD,OAAOA,EAAE8G,UAAY9G,EAAE8G,SAASzM,SAAW4hB,EAAInV,SAASzM,QAAU2F,EAAE8G,SAASiF,YAAckQ,EAAInV,SAASiF,aACzI,IAAa,IAATwR,GAActB,EAAIiV,iBAAmB,CACvC,IAAMC,EAAcF,EAAW1T,GACzBhS,EAAQY,KAAO8P,EAAIiV,kBAAkB3a,OAAO,SAClD0a,EAAW1T,GAAX,2BACK4T,GADL,mBAEG5lB,EAAQ,CACPJ,IAAK8Q,EAAI9Q,IACTwE,OAAQsM,EAAItM,OACZwB,SAAU8K,EAAI9K,SACdigB,eAAgBnV,EAAImV,eACpBC,mBAAoBpV,EAAIoV,0BAGvB,CACL,IAAM9lB,EAAQY,KAAO8P,EAAIiV,kBAAkB3a,OAAO,SAC5C4a,EAAW,cACfhmB,IAAK8Q,EAAI9Q,IACTjF,eAAgB+V,EAAInV,SAASZ,eAC7BY,SAAUmV,EAAInV,SACdP,QAAS0V,EAAInV,SAAWmV,EAAInV,SAASP,QAAU,KAC/ChM,MAAO0hB,EAAI1hB,MACXutB,WAAY7L,EAAInV,SAASqE,KACxBI,EAAQ,CACPJ,IAAK8Q,EAAI9Q,IACTwE,OAAQsM,EAAItM,OACZwB,SAAU8K,EAAI9K,SACdigB,eAAgBnV,EAAImV,eACpBC,mBAAoBpV,EAAIoV,qBAG5BJ,EAAW51B,KAAK81B,QAEb,CACL,IAAM5lB,EAAQY,KAAO8P,EAAIiV,kBAAkB3a,OAAO,SAClD0a,EAAa,CAAC,cACZ9lB,IAAK8Q,EAAI9Q,IACTjF,eAAgB+V,EAAInV,SAASZ,eAC7BY,SAAUmV,EAAInV,SACdP,QAAS0V,EAAInV,SAAWmV,EAAInV,SAASP,QAAU,KAC/ChM,MAAO0hB,EAAI1hB,MACXutB,WAAY7L,EAAInV,SAASqE,KACxBI,EAAQ,CACPJ,IAAK8Q,EAAI9Q,IACTwE,OAAQsM,EAAItM,OACZwB,SAAU8K,EAAI9K,SACdigB,eAAgBnV,EAAImV,eACpBC,mBAAoBpV,EAAIoV,0BAlDDJ,EAwD/B,MAAO74B,GAEP,OADAK,QAAQL,MAAMA,GACP,IAnOAo5B,CAAaz5B,GAMxB,WAAkC,IAAVA,EAAS,uDAAJ,GAC3B,IACE,IAAIk5B,EAAa,GACjB,OAAoB,IAAhBl5B,EAAK4F,QACT5F,EAAKgY,SAAQ,SAACkM,GACZ,GAAIgV,EAAWtzB,OAAS,EAAG,CACzB,IAAM4f,EAAM0T,EAAW7K,WAAU,SAACpmB,GAAD,OAAOA,EAAE8G,UAAY9G,EAAE8G,SAASzM,SAAW4hB,EAAInV,SAASzM,QAAU2F,EAAE8G,SAASiF,YAAckQ,EAAInV,SAASiF,aACzI,IAAa,IAATwR,GAActB,EAAIiV,iBAAmB,CACvC,IAAMC,EAAcF,EAAW1T,GACzBhS,EAAQY,KAAO8P,EAAIiV,kBAAkB3a,OAAO,SAClD0a,EAAW1T,GAAX,2BACK4T,GADL,mBAEG5lB,EAAQ,CACPJ,IAAK8Q,EAAI9Q,IACTwE,OAAQsM,EAAItM,OACZwB,SAAU8K,EAAI9K,SACdigB,eAAgBnV,EAAImV,eACpBC,mBAAoBpV,EAAIoV,0BAGvB,CACL,IAAM9lB,EAAQY,KAAO8P,EAAIiV,kBAAkB3a,OAAO,SAC5C4a,EAAW,cACfhmB,IAAK8Q,EAAI9Q,IACTjF,eAAgB+V,EAAInV,SAASZ,eAC7BY,SAAUmV,EAAInV,SACdvM,MAAO0hB,EAAI1hB,MACXutB,WAAY7L,EAAInV,SAASqE,KACxBI,EAAQ,CACPJ,IAAK8Q,EAAI9Q,IACTwE,OAAQsM,EAAItM,OACZwB,SAAU8K,EAAI9K,SACdigB,eAAgBnV,EAAImV,eACpBC,mBAAoBpV,EAAIoV,qBAG5BJ,EAAW51B,KAAK81B,QAEb,CACL,IAAM5lB,EAAQY,KAAO8P,EAAIiV,kBAAkB3a,OAAO,SAClD0a,EAAa,CAAC,cACZ9lB,IAAK8Q,EAAI9Q,IACTjF,eAAgB+V,EAAInV,SAASZ,eAC7BY,SAAUmV,EAAInV,SACdvM,MAAO0hB,EAAI1hB,MACXutB,WAAY7L,EAAInV,SAASqE,KACxBI,EAAQ,CACPJ,IAAK8Q,EAAI9Q,IACTwE,OAAQsM,EAAItM,OACZwB,SAAU8K,EAAI9K,SACdigB,eAAgBnV,EAAImV,eACpBC,mBAAoBpV,EAAIoV,0BAhDDJ,EAsD/B,MAAO74B,GAEP,OADAK,QAAQL,MAAMA,GACP,IA/DAq5B,CAAe15B,I,kCCCX25B,GAdU,CACvBC,MAAO,IACPC,QAAS,IACTC,SAAU,IACVC,SAAU,IACVC,QAAS,IACT1N,WAAY,IACZ2N,gBAAiB,KACjBC,cAAe,KACfC,WAAY,IACZC,KAAM,OACNC,QAAS,WCAHnoB,GAAWC,KAAXD,OACA0U,GAAaC,IAAbD,SACA1b,GAASuR,KAATvR,KAsGOovB,OApGf,YAAyE,IAA1CC,EAAyC,EAAzCA,WAAY/a,EAA6B,EAA7BA,IAAKgb,EAAwB,EAAxBA,MAAOpxB,EAAiB,EAAjBA,QAAS6V,EAAQ,EAARA,MAAQ,EAC9B9V,oBAAS,GADqB,oBAC/Due,EAD+D,KACjD+S,EADiD,OAElBtxB,mBAAS,MAFS,oBAE/DuxB,EAF+D,KAE3CC,EAF2C,OAGhCxxB,mBAAS,MAHuB,oBAG/DqkB,EAH+D,KAGlDmF,EAHkD,iDAUtE,sBAAAvzB,EAAA,2DACMgV,KAAOomB,GAAOh3B,WAAagc,EAAIuQ,YAAc2K,GADnD,uBAEID,GAAgB,GAFpB,SAGiB1B,GAAgB,CAC3BhrB,OAAQmB,GAAQI,iBAChB0pB,WAAY,CACVjqB,SAAUyQ,EAAIuQ,WACdnY,OAAQ8iB,EACRF,QACAhN,iBAEDjtB,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAC3B2S,SAAQ,WACPsnB,GAAgB,GAChBxb,IACAsb,OAfR,+CAkBIj7B,IAAU0B,KAAK,oDAAkD,CAAEvB,SAAU,cAC7EiB,QAAQC,IAAI65B,EAAOhb,GAnBvB,4CAVsE,sBAiCtE,OA5BAjc,qBAAU,WACRo3B,EAAsB,MACtBhI,EAAe,QACd,IA0BD,eAAC,KAAD,CACEvqB,MAAM,wCACNwX,SAAUX,EACV7V,QAASA,EACTmuB,WAAY,kBAAM5E,EAAe,OACjChqB,MAAO,IACPmX,UAAQ,EACRqH,gBAAc,EACdtH,OAAQ,CACN,cAAC,IAAD,CAAmBzU,QAAS6T,EAA5B,qBAAY,QAGZ,cAAC,IAAD,CACE7X,KAAMsgB,EAAe,cAACe,GAAA,EAAD,CAAiBjd,MAAI,IAAK,cAACmd,GAAA,EAAD,IAC/C/K,SAAU8J,EAEVjkB,KAAK,UACL2H,QAnD8D,2CA8ChE,oBAGM,WAfV,UAwBIgJ,KAAOomB,GAAOh3B,UACd,eAAC,GAAD,CAAMC,KAAK,YAAX,oBAA+B2Q,KAAOomB,GAAOhc,OAAO,eACpD,cAAC,GAAD,CAAM/a,KAAK,SAAX,6BACD,uBAAK,uBACN,oDACA,eAAC,KAAD,CACEuB,YAAY,SACZ0pB,aAAcgM,EACd7mB,SAAU,SAAAhR,GAAC,OAAI83B,EAAsB93B,IACrCe,MAAO,CAAE+E,MAAO,IAAKoL,aAAc,QAAS/I,YAAa,SAJ3D,UAME,cAAC,GAAD,CAAQ1E,MAAOqzB,GAAiBE,QAAhC,wBACA,cAAC,GAAD,CAAQvzB,MAAOqzB,GAAiBC,MAAhC,mBACA,cAAC,GAAD,CAAQtzB,MAAOqzB,GAAiBG,SAAhC,sBACA,cAAC,GAAD,CAAQxzB,MAAOqzB,GAAiBI,SAAhC,sBACA,cAAC,GAAD,CAAQzzB,MAAOqzB,GAAiBU,QAAhC,qBACA,cAAC,GAAD,CAAQ/zB,MAAOqzB,GAAiBK,QAAhC,qBACA,cAAC,GAAD,CAAQ1zB,MAAOqzB,GAAiBM,gBAAhC,gCACA,cAAC,GAAD,CAAQ3zB,MAAOqzB,GAAiBO,cAAhC,8BACA,cAAC,GAAD,CAAQ5zB,MAAOqzB,GAAiBrN,WAAhC,wBACA,cAAC,GAAD,CAAQhmB,MAAOqzB,GAAiBQ,WAAhC,wBACA,cAAC,GAAD,CAAQ7zB,MAAOqzB,GAAiBS,KAAhC,qBAEF,gDACA,cAAC,GAAD,CACEp1B,YAAY,oBACZoiB,KAAM,EACN9gB,MAAOknB,EACP3Z,SAAU,SAAChR,GAAD,OAAO8vB,EAAe9vB,EAAEoR,OAAO3N,cClDlCs0B,OA3Cf,YAAgE,IAAlCL,EAAiC,EAAjCA,WAAY/a,EAAqB,EAArBA,IAAKgb,EAAgB,EAAhBA,MAAO5iB,EAAS,EAATA,OAAS,EACzBzO,oBAAS,GADgB,oBACtDugB,EADsD,KAC1CC,EAD0C,KAGvDoE,EAAa,kBAAMpE,GAAeD,IAExC,OAAQ9R,GACN,KAAK+hB,GAAiBC,MACpB,OAAQ,cAAC,KAAD,CAAK7uB,MAAM,QAAX,SAAoB6M,IAC9B,KAAK+hB,GAAiBE,QACpB,OAAQ,cAAC,KAAD,CAAK9uB,MAAM,UAAX,SAAsB6M,IAChC,KAAK+hB,GAAiBG,SACpB,OAAQ,cAAC,KAAD,CAAK/uB,MAAM,OAAX,SAAmB6M,IAC7B,KAAK+hB,GAAiBI,SACpB,OAAQ,cAAC,KAAD,CAAKhvB,MAAM,OAAX,SAAmB6M,IAC7B,KAAK+hB,GAAiBU,QACpB,OAAQ,cAAC,KAAD,CAAKtvB,MAAM,OAAX,SAAmB6M,IAC7B,KAAK+hB,GAAiBK,QACpB,OAAQ,cAAC,KAAD,CAAKjvB,MAAM,OAAX,SAAmB6M,IAC7B,KAAK+hB,GAAiBrN,WACpB,OAAQ,cAAC,KAAD,CAAKvhB,MAAM,UAAX,SAAsB6M,IAChC,KAAK+hB,GAAiBM,gBACpB,OAAQ,cAAC,KAAD,CAAKlvB,MAAM,WAAX,SAAuB6M,IACjC,KAAK+hB,GAAiBO,cACpB,OAAQ,cAAC,KAAD,CAAKnvB,MAAM,SAAX,SAAqB6M,IAC/B,KAAK+hB,GAAiBQ,WACpB,OAAQ,cAAC,KAAD,CAAKpvB,MAAM,OAAX,SAAmB6M,IAC7B,KAAK+hB,GAAiBS,KACpB,OAAQ,cAAC,KAAD,CAAKrvB,MAAM,UAAX,SAAsB6M,IAChC,QACE,OAAQ,qCACP,cAAC,KAAD,CAAKxM,QAAS,kBAAM2iB,KAAcnqB,MAAO,CAAEwkB,OAAQ,WAAnD,eACA,cAAC,GAAD,CAAsBmS,WAAYA,EAAY/a,IAAKA,EAAKgb,MAAOpmB,KAAO,GAAD,OAAIomB,EAAJ,SAAkB,cAAcjN,SAAUnkB,QAASsgB,EAAYzK,MAAO8O,SChBnI,eAAoE,IAA1D9E,EAAyD,EAAzDA,MAAO4R,EAAkD,EAAlDA,KAAMn4B,EAA4C,EAA5CA,OAAQo4B,EAAoC,EAApCA,OAAQC,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,OAAQnF,EAAU,EAAVA,QACtE,OAAI5M,IAAUkD,GAgFhB,SAAyB8O,EAAWv4B,EAAQo4B,EAAQC,EAAUC,EAA9D,GAAoI,IAAD,IAA5DE,sBAA4D,MAA7C,GAA6C,MAAzCC,uBAAyC,MAAzB,GAAyB,MAArBxK,uBAAqB,MAAL,GAAK,EAC3HyK,EAAMhnB,OAASoK,OAAO,SACtBgH,EAAM,CACV,CACEpd,MAAO,IACPO,MAAO,GACPhF,MAAO,SACPmV,OAAQ,SAACzE,EAAE+K,EAAGnX,GAAN,OAAYA,EAAE,IAExB,CACEG,MAAO,UACPO,MAAO,IACPiQ,SAAU,CACRxQ,OAAO,GAETuQ,UAAW,WACXG,OAAQ,SAAC/J,GACP,IAAMzM,EAASyM,GAAYA,EAASzM,OAASyM,EAASzM,OAAO,IAAIyM,EAASiF,UAAY,IACtF,OAAO,cAAC,KAAD,CAAS5L,MAAO9F,EAAhB,SAAyBA,MAGpC,CACE8F,MAAO,UACPuQ,UAAWyiB,EACXzyB,MAAO,IACPhF,MAAO,SACPstB,QAAS,CAAC,CAACxa,KAAK,KAAMnQ,OAAO,GAAM,CAACmQ,KAAK,KAAMnQ,OAAO,IACtD4qB,SAAU,SAAC7oB,EAAGopB,GACZ,QAAIA,EAAO2J,MACL3J,EAAO2J,GAAKhiB,WAAa/Q,GACtBopB,EAAO2J,GAAKhiB,WAAa/Q,IAKpCyQ,OAAQ,SAACjW,GACP,OAAIA,EACEA,EAAEuW,SACI,cAAC,KAAD,CAAS1P,QAAS7G,EAAEw2B,eAAejlB,KAAOvR,EAAEw2B,gBAAgB7a,OAAO,SAAS,IAAKpW,MAAM,iBAAiBS,QAAQ,QAAhH,SACN,wBAAQzE,UAAU,aAAlB,SACE,cAAC,KAAD,CAAK2G,MAAOgK,GAAQ7U,QAApB,SAA6B,cAACkW,GAAA,EAAD,UAI1B,cAAC,KAAD,CAAKrL,MAAOgK,GAAQ1U,MAApB,SAA2B,cAACssB,GAAA,EAAD,MAG7B,cAAC,KAAD,CAAK5hB,MAAM,QAAX,qBAMTswB,EAAO,CACX,CACEjzB,MAAO,SACPuQ,UAAW,SACXsY,QAASiK,EACThK,SAAU,SAAC7oB,EAAGopB,GACZ,SAAIA,EAAO/uB,SAAU2F,IACqB,IAAjCopB,EAAO/uB,OAAO0Q,IAAI+d,QAAQ9oB,IAKrCuQ,UAAU,EACVjQ,MAAO,IACPmQ,OAAQ,SAACjW,GACP,IAAMP,EAASO,GAAKA,EAAEP,OAASO,EAAEP,OAAO,IAAIO,EAAEmR,UAAY,IAC1D,OAAO,cAAC,KAAD,CAAS5L,MAAO9F,EAAhB,SAAyBA,MAGpC,CACE8F,MAAO,UACPuQ,UAAW,UACXsY,QAASkK,EACTjK,SAAU,SAAC7oB,EAAGopB,GACZ,SAAIA,EAAOrjB,UAAW/F,IACqB,IAAlCopB,EAAOrjB,QAAQgF,IAAI+d,QAAQ9oB,IAKtCuQ,UAAU,EACVjQ,MAAO,IACPmQ,OAAQ,SAACjW,GACP,IAAMP,EAASO,GAAKA,EAAEP,OAASO,EAAEP,OAAO,IAAIO,EAAEmR,UAAY,IAC1D,OAAO,cAAC,KAAD,CAAS5L,MAAO9F,EAAhB,SAAyBA,MAEjC,CACD8F,MAAO,WACPuQ,UAAW,WACXsY,QAASN,EACTO,SAAU,SAAC7oB,EAAGopB,GACZ,SAAIA,GAAUA,EAAOvV,UAAY7T,IACW,IAAnCopB,EAAOvV,SAAS9I,IAAI+d,QAAQ9oB,IAKvCuQ,UAAU,EACVjQ,MAAO,IACPmQ,OAAQ,SAACjW,GACP,IAAMP,EAASO,GAAKA,EAAEP,OAASO,EAAEP,OAAS,IAC1C,OAAO,cAAC,KAAD,CAAS8F,MAAO9F,EAAhB,SAAyBA,OAKjCI,GAAQ8iB,EAAI8V,OAAJ,MAAA9V,EAAG,CAAQ,EAAE,GAAV,OAAe6V,IAE/B,OAAIJ,GAAaA,EAAUr1B,OAAS,GAClC4f,EAAIliB,KAAJ,MAAAkiB,EAAG,aAASyV,EAAUp1B,KAAI,SAACkW,GAAD,MAAQ,CAChC3T,MAAO2T,EACPpD,UAAWoD,EACXpT,MAAO,GACPhF,MAAO,SACPmV,OAAQ,SAAC1Z,EAAGogB,GACV,OAAIpgB,GAAKA,EAAEwY,OAEP,cAAC,KAAD,CAAU2jB,QACN,eAAC,KAAD,WACE,cAAC,KAAK92B,KAAN,CAAmB2C,KAAM,cAACo0B,GAAA,EAAD,IAAiBpwB,QAAS,kBAAM0vB,EAAOtb,EAAIzD,GAAG3I,MAAvE,SACE,2CADa,KAGf,cAAC,KAAK3O,KAAN,CAAmB2C,KAAM,cAACq0B,GAAA,EAAD,IAAqBrwB,QAAS,kBAAM2vB,EAAS37B,EAAEk6B,mBAAoBvd,IAA5F,SACE,6CADa,QAKnBlT,QAAS,CAAC,SAVZ,SAYE,wBAAQzE,UAAU,aAAlB,SACE,cAAC,GAAD,CAAqBm2B,WAAYS,EAAQxb,IAAKA,EAAKgb,MAAOze,EAAGnE,OAAQxY,EAAEwY,aAKrE,cAAC,GAAD,CAAqB2iB,WAAYS,EAAQxb,IAAKA,EAAKgb,MAAOze,EAAGnE,OAAQxY,GAAKA,EAAE+O,eAAiB/O,EAAE+O,eAAiBqR,EAAIrR,iBAAmBie,GAAeG,SAAW,OAAS,aAIjL/G,GAEAA,EA/NAkW,CAAgBb,EAAMn4B,EAAQo4B,EAAQC,EAAUC,EAAQnF,GACtD5M,IAAUkD,GAkOvB,SAA4B8O,EAAWH,EAAQC,EAAUC,GACvD,IAAMxV,EAAM,CACV,CACEpd,MAAO,IACPO,MAAO,GACPhF,MAAO,SACPmV,OAAQ,SAACzE,EAAE+K,EAAGnX,GAAN,OAAYA,EAAE,IAExB,CACEG,MAAO,SACPO,MAAO,IACPiQ,SAAU,CACRxQ,OAAO,GAETuQ,UAAW,WACXG,OAAQ,SAAC/J,GACP,IAAMzM,EAASyM,GAAYA,EAASzM,OAASyM,EAASzM,OAAO,IAAIyM,EAASiF,UAAY,IACtF,OAAO,cAAC,KAAD,CAAS5L,MAAO9F,EAAhB,SAAyBA,MAGpC,CACE8F,MAAO,QACPO,MAAO,IACPhF,MAAO,SACPgV,UAAW,QACXG,OAAQ,SAACtW,GACP,IAAMymB,EAAQzmB,EAAQA,EAAMymB,MAAQ,IAC9B3mB,EAASE,EAAQA,EAAMF,OAAS,IACtC,OAAO,cAACkqB,GAAD,CAAUvD,MAAOA,EAAOzmB,MAAOF,MAG1C,CACE8F,MAAO,UACPO,MAAO,IACPiQ,SAAU,CACRxQ,OAAO,GAETuQ,UAAW,UACXG,OAAQ,SAACtK,GACP,IAAMlM,EAASkM,GAAWA,EAAQlM,OAASkM,EAAQlM,OAAO,IAAIkM,EAAQwF,UAAY,IAClF,OAAO,cAAC,KAAD,CAAS5L,MAAO9F,EAAhB,SAAyBA,OAKtC,OAAI24B,GAAaA,EAAUr1B,OAAS,GAClC4f,EAAIliB,KAAJ,MAAAkiB,EAAG,aAASyV,EAAUp1B,KAAI,SAACkW,GAAD,MAAQ,CAChC3T,MAAO2T,EACPpD,UAAWoD,EACXpT,MAAO,GACPhF,MAAO,SACPmV,OAAQ,SAAC1Z,EAAGogB,GACV,OAAIpgB,GAAKA,EAAEwY,OAEP,cAAC,KAAD,CAAU2jB,QACN,eAAC,KAAD,WACE,cAAC,KAAK92B,KAAN,CAAmB2C,KAAM,cAACo0B,GAAA,EAAD,IAAiBpwB,QAAS,kBAAM0vB,EAAOtb,EAAIzD,GAAG3I,MAAvE,SACE,2CADa,KAGf,cAAC,KAAK3O,KAAN,CAAmB2C,KAAM,cAACq0B,GAAA,EAAD,IAAqBrwB,QAAS,kBAAM2vB,EAAS37B,EAAEk6B,mBAAoBvd,IAA5F,SACE,6CADa,QAKnBlT,QAAS,CAAC,SAVZ,SAYE,wBAAQzE,UAAU,aAAlB,SACE,cAAC,GAAD,CAAqBm2B,WAAYS,EAAQxb,IAAKA,EAAKgb,MAAOze,EAAGnE,OAAQxY,EAAEwY,aAKrE,cAAC,GAAD,CAAqB2iB,WAAYS,EAAQxb,IAAKA,EAAKgb,MAAOze,EAAGnE,OAAQxY,GAAKA,EAAE+O,eAAiB/O,EAAE+O,eAAiBqR,EAAIrR,iBAAmBie,GAAeG,SAAW,OAAS,aAIjL/G,IAEP9kB,QAAQC,IAAI6kB,GACLA,GAhTAmW,CAAmBd,EAAMC,EAAQC,EAAUC,GAMtD,SAAyBC,EAAWH,EAAQC,EAAUC,GACpD,IAAMxV,EAAM,CACV,CACEpd,MAAO,IACPO,MAAO,GACPhF,MAAO,SACPmV,OAAQ,SAACzE,EAAE+K,EAAGnX,GAAN,OAAYA,EAAE,IAExB,CACEG,MAAO,SACPO,MAAO,IACPiQ,SAAU,CACRxQ,OAAO,GAETuQ,UAAW,WACXG,OAAQ,SAAC/J,GACP,IAAMzM,EAASyM,GAAYA,EAASzM,OAASyM,EAASzM,OAAO,IAAIyM,EAASiF,UAAY,IACtF,OAAO,cAAC,KAAD,CAAS5L,MAAO9F,EAAhB,SAAyBA,MAGpC,CACE8F,MAAO,QACPO,MAAO,IACPhF,MAAO,SACPgV,UAAW,QACXG,OAAQ,SAACtW,GACP,IAAMymB,EAAQzmB,EAAQA,EAAMymB,MAAQ,IAC9B3mB,EAASE,EAAQA,EAAMF,OAAS,IACtC,OAAO,cAACkqB,GAAD,CAAUvD,MAAOA,EAAOzmB,MAAOF,OAK5C,OAAI24B,GAAaA,EAAUr1B,OAAS,GAClC4f,EAAIliB,KAAJ,MAAAkiB,EAAG,aAASyV,EAAUp1B,KAAI,SAACkW,GAAD,MAAQ,CAChC3T,MAAO2T,EACPpD,UAAWoD,EACXpT,MAAO,GACPhF,MAAO,SACPmV,OAAQ,SAAC1Z,EAAGogB,GACV,OAAIpgB,GAAKA,EAAEwY,OAEP,cAAC,KAAD,CAAU2jB,QACN,eAAC,KAAD,WACE,cAAC,KAAK92B,KAAN,CAAmB2C,KAAM,cAACo0B,GAAA,EAAD,IAAiBpwB,QAAS,kBAAM0vB,EAAOtb,EAAIzD,GAAG3I,MAAvE,SACE,2CADa,KAGf,cAAC,KAAK3O,KAAN,CAAmB2C,KAAM,cAACq0B,GAAA,EAAD,IAAqBrwB,QAAS,kBAAM2vB,EAAS37B,EAAEk6B,mBAAoBvd,IAA5F,SACE,6CADa,QAKnBlT,QAAS,CAAC,SAVZ,SAYE,wBAAQzE,UAAU,aAAlB,SACE,cAAC,GAAD,CAAqBm2B,WAAYS,EAAQxb,IAAKA,EAAKgb,MAAOze,EAAGnE,OAAQxY,EAAEwY,aAKrE,cAAC,GAAD,CAAqB2iB,WAAYS,EAAQxb,IAAKA,EAAKgb,MAAOze,EAAGnE,OAAQxY,GAAKA,EAAE+O,eAAiB/O,EAAE+O,eAAiBqR,EAAIrR,iBAAmBie,GAAeG,SAAW,OAAS,aAIjL/G,IAEP9kB,QAAQC,IAAI6kB,GACLA,GAvEAoW,CAAgBf,EAAMC,EAAQC,EAAUC,I,ICrB3C9oB,GAAWC,KAAXD,OACA0U,GAAaC,IAAbD,SAgFOiV,OA9Ef,YAAiF,IAAjDzyB,EAAgD,EAAhDA,QAAS6V,EAAuC,EAAvCA,MAAOvM,EAAgC,EAAhCA,kBAAmB6nB,EAAa,EAAbA,WAAa,EAC1BpxB,mBAAS,MADiB,oBACvEuxB,EADuE,KACnDC,EADmD,OAExCxxB,mBAAS,MAF+B,oBAEvEqkB,EAFuE,KAE1DmF,EAF0D,iDAU9E,sBAAAvzB,EAAA,yDAC6B,OAAvBs7B,EADN,gCAEUH,EAAWG,EAAoBlN,GAFzC,6BAIIluB,IAAU0B,KAAK,+BAAgC,CAAEvB,SAAU,cAJ/D,4CAV8E,sBAkB9E,OAbA8D,qBAAU,WACRo3B,EAAsB,MACtBhI,EAAe,QACf,IAWA,eAAC,KAAD,CACEvqB,MAAM,wCACNgB,QAASA,EACTmuB,WAAY,kBAAM5E,EAAe,OACjChqB,MAAO,IACPmX,UAAQ,EACRqH,gBAAc,EACdvH,SAAUX,EACVY,OAAQ,CACN,cAAC,IAAD,CAAmBzU,QAAS6T,EAA5B,qBAAY,QAGZ,cAAC,IAAD,CACE7X,KAAMsL,EAAoB,cAAC+V,GAAA,EAAD,CAAiBjd,MAAI,IAAK,cAACmd,GAAA,EAAD,IAEpDllB,KAAK,UACL2H,QAnCsE,2CA+BxE,oBAEM,WAdV,UAsBE,oDACA,eAAC,KAAD,CACEpG,YAAY,SACZ0pB,aAAcgM,EACd7mB,SAAU,SAAAhR,GAAC,OAAI83B,EAAsB93B,IACrCe,MAAO,CAAE+E,MAAO,IAAKoL,aAAc,QAAS/I,YAAa,SAJ3D,UAME,cAAC,GAAD,CAAQ1E,MAAOqzB,GAAiBE,QAAhC,wBACA,cAAC,GAAD,CAAQvzB,MAAOqzB,GAAiBG,SAAhC,sBACA,cAAC,GAAD,CAAQxzB,MAAOqzB,GAAiBC,MAAhC,mBACA,cAAC,GAAD,CAAQtzB,MAAOqzB,GAAiBI,SAAhC,sBACA,cAAC,GAAD,CAAQzzB,MAAOqzB,GAAiBU,QAAhC,qBACA,cAAC,GAAD,CAAQ/zB,MAAOqzB,GAAiBK,QAAhC,qBACA,cAAC,GAAD,CAAQ1zB,MAAOqzB,GAAiBM,gBAAhC,gCACA,cAAC,GAAD,CAAQ3zB,MAAOqzB,GAAiBO,cAAhC,8BACA,cAAC,GAAD,CAAQ5zB,MAAOqzB,GAAiBrN,WAAhC,wBACA,cAAC,GAAD,CAAQhmB,MAAOqzB,GAAiBQ,WAAhC,wBACA,cAAC,GAAD,CAAQ7zB,MAAOqzB,GAAiBS,KAAhC,qBAEF,gDACA,cAAC,GAAD,CACEp1B,YAAY,oBACZoiB,KAAM,EACN9gB,MAAOknB,EACP3Z,SAAU,SAAChR,GAAD,OAAO8vB,EAAe9vB,EAAEoR,OAAO3N,cCXlCw1B,OA1Df,YAAwE,IAAtCtB,EAAqC,EAArCA,MAAqC,IAA9BO,gBAA8B,MAArB,GAAqB,EAAjB3xB,EAAiB,EAAjBA,QAAS6V,EAAQ,EAARA,MACvD1Q,EAAW,CACf,CACEnG,MAAO,IACPO,MAAO,GACPmQ,OAAQ,SAACzE,EAAE+K,EAAInX,GAAP,OAAaA,EAAE,IAEzB,CACEG,MAAO,QACPO,MAAO,IACPhF,MAAM,SACNgV,UAAW,iBACXG,OAAQ,SAAC0hB,GAAD,OAAW,cAAC,KAAD,UAAMpmB,KAAOomB,GAAOhc,OAAO,kBAEhD,CACEpW,MAAO,UACPuQ,UAAW,UACXhQ,MAAO,IACPiQ,UAAU,EACVE,OAAQ,SAACjW,GACP,IAAMP,EAASO,GAAKA,EAAEP,OAASO,EAAEP,OAAO,IAAIO,EAAEmR,UAAY,UAC1D,OAAQ,cAAC,KAAD,CAAS5L,MAAO9F,EAAhB,SAAyBA,MAGrC,CACE8F,MAAO,cACPO,MAAO,IACPgQ,UAAW,gBAGf,OACE,cAAC,KAAD,CACEvQ,MAAK,iCAA4BoyB,GACjC7xB,MAAO,IACPS,QAASA,EACTuW,KAAMV,EACNW,SAAUX,EACVa,UAAQ,EANV,SAQE,cAAC,KAAD,CACEzE,OAAQ,iBACR3O,KAAK,QACL4O,QAAS/M,EACT1E,WAAYkxB,EACZxf,YAAY,EACZ0E,OAAQ,CAAEE,EAAG,U,SCmFN4b,OA7Hf,YAA+D,IAAD,IAA5B/7B,YAA4B,MAAvB,GAAuB,MAAnB66B,YAAmB,MAAd,GAAc,EAAVv4B,EAAU,EAAVA,OAC9C05B,EAAcC,iBAAO,MAkDnBC,EAAa,SAACtkB,GAClB,OAAQA,GACN,KAAK+hB,GAAiBC,MAEtB,IAAK,WACH,MAAO,CAACxe,WAAY+gB,OAAe,GAAIpxB,MAAOoxB,OAAeC,SAC/D,KAAKzC,GAAiBE,QACpB,MAAO,CAACze,WAAY+gB,SAAiB,GAAIpxB,MAAOoxB,SAAiBC,SACnE,KAAKzC,GAAiBG,SACpB,MAAO,CAAC1e,WAAY+gB,QAAgB,GAAIpxB,MAAOoxB,QAAgBC,SACjE,KAAKzC,GAAiBI,SACpB,MAAO,CAAC3e,WAAY+gB,QAAgB,GAAIpxB,MAAOoxB,QAAgBC,SACjE,KAAKzC,GAAiBK,QACpB,MAAO,CAAC5e,WAAY+gB,QAAgB,GAAIpxB,MAAOoxB,QAAgBC,SACjE,KAAKzC,GAAiBU,QACpB,MAAO,CAACjf,WAAY+gB,QAAgB,GAAIpxB,MAAOoxB,QAAgBC,SACjE,KAAKzC,GAAiBrN,WACpB,MAAO,CAAClR,WAAY+gB,UAAkB,GAAIpxB,MAAOoxB,UAAkBC,SACrE,KAAKzC,GAAiBM,gBACpB,MAAO,CAAC7e,WAAY+gB,YAAoB,GAAIpxB,MAAOoxB,YAAoBC,SACzE,KAAKzC,GAAiBO,cACpB,MAAO,CAAC9e,WAAY+gB,UAAkB,GAAIpxB,MAAOoxB,UAAkBC,SACrE,KAAKzC,GAAiBQ,WACpB,MAAO,CAAC/e,WAAY+gB,UAAkB,GAAIpxB,MAAOoxB,UAAkBC,SACrE,KAAKzC,GAAiBS,KACpB,MAAO,CAAChf,WAAY+gB,WAAmB,GAAIpxB,MAAOoxB,WAAmBC,SACvE,QACE,MAAO,CAAChhB,WAAY,GAAIrQ,MAAO,MAI/BsxB,EAAgB,CACpBjhB,WAAY,UACZkhB,MAAM,EACNvhB,SAAU,GACVwhB,MAAM,EACNC,WAAW,GAGb,OACE,gCACE,cAAC,IAAD,CAAQ9vB,KAAK,QAAQtF,KAAM,cAAC+vB,GAAA,EAAD,IAAoB1zB,KAAK,UAAU2H,QAzF5C,YAItB,SAAwBmH,GACtB,IACE,IAAIwZ,EAAUxZ,EAAUkqB,kBACpBrV,EAAO2E,EAAQ2Q,OAAO,GAAGtV,KACzBuV,GAAe,EACfC,EAAmB,GACvBxV,EAAKpP,SAAQ,SAACwH,GACK,WAAbA,EAAI/b,OACNk5B,EAAcnd,EAAIqd,MAAMxO,WAAU,SAACxrB,GAAD,MAAmB,WAAZA,EAAEyD,SAC3CkZ,EAAIqd,MAAM7kB,SAAQ,SAACnV,EAAGoF,GACpB,IAAIuyB,EAAQpmB,KAAO,GAAD,OAAIvR,EAAEyD,MAAN,SAAmB,cACjC8N,OAAS5Q,YACO4Q,OAASsL,KAAK8a,EAAO,SACrB,GAChBoC,EAAiBt5B,KAAK2E,QAKb,SAAbuX,EAAI/b,OACFk5B,GAAe,GAA4D,aAAvDl7B,OAAO+d,EAAIqd,MAAMF,GAAar2B,OAAOkS,eAAgCokB,EAAiBh3B,OAAS,GACrHg3B,EAAiB5kB,SAAQ,SAACnV,GACnB2c,EAAIqd,MAAMh6B,GAAGyD,QAChBkZ,EAAIqd,MAAMh6B,GAAGyD,MAAQ,WAI3BkZ,EAAIqd,MAAM7kB,SAAQ,SAAC8kB,GACjBA,EAAKx2B,MAAQw2B,EAAKx2B,MAAQ7E,OAAOq7B,EAAKx2B,OAAOkS,cAAgBskB,EAAKx2B,MAClEw2B,EAAK1hB,WAAa8gB,EAAWY,EAAKx2B,OAAO8U,WACzC0hB,EAAK/xB,MAAQmxB,EAAWY,EAAKx2B,OAAOyE,MACpC+xB,EAAKC,aAAe,CAAErwB,KAAM,GAC5BowB,EAAKE,WAAa,CAAEtwB,KAAM,GAC1BowB,EAAKG,YAAc,CAAEvwB,KAAM,GAC3BowB,EAAKI,UAAY,CAAExwB,KAAM,UAI/B6F,EAAU4qB,KAAKpR,GACf,MAAO1rB,GACPK,QAAQC,IAAIN,IA3Cd+8B,CAAepB,EAAYqB,UAwFzB,sBACA,eAAC,KAAD,CACEr9B,KAAMA,EAAK6F,KAAI,SAAChD,GAAD,mBAAC,eAAWA,GAAZ,IAAeL,MAAOF,OACrCg7B,SAAQ,qBAAgBh7B,EAAOwhB,cAAc2B,QAAQ,KAAM,KAAnD,YAA2DrR,OAASoK,OAAO,cAA3E,SACR+e,IAAKvB,EAHP,UAKE,cAAC,KAAD,CAAmBxoB,MAAM,kBAAkBpL,MAAM,SAASo1B,QAAQ,EAAM70B,MAAO,IAAK80B,kBAAmBpB,IACvG,cAAC,KAAD,CAAmB7oB,MAAM,qBAAqBpL,MAAM,YAAYo1B,QAAQ,EAAOC,kBAAmBpB,IAClG,cAAC,KAAD,CAAmB7oB,MAAM,iBAAiBpL,MAAM,SAASO,MAAO,GAAI80B,kBAAmBpB,IACvF,cAAC,KAAD,CAAmB7oB,MAAM,QAAQpL,MAAM,QAAQO,MAAO,GAAI80B,kBAAmBpB,IAE3ExB,GAAQA,EAAKj1B,OAAS,EACpBi1B,EAAKh1B,KAAI,SAACkW,EAAG9T,GAAJ,OACP,cAAC,KAAD,CAEEuL,MAAK,UAAKuI,EAAL,WACL3T,MAAK,UAAK2T,GAAKpT,MAAO,GACtB80B,kBAAmBpB,EACnBqB,YAAa,CAAEpf,UAAW,WAJrBrW,MAMJ,YCqBF01B,OApIf,YAA+D,IAAD,IAA5B39B,YAA4B,MAAvB,GAAuB,MAAnB66B,YAAmB,MAAd,GAAc,EAAVv4B,EAAU,EAAVA,OAC9C05B,EAAcC,iBAAO,MAkDnBC,EAAa,SAACtkB,GAClB,OAAQA,GACN,KAAK+hB,GAAiBC,MAEtB,IAAK,WACH,MAAO,CAACxe,WAAY+gB,OAAe,GAAIpxB,MAAOoxB,OAAeC,SAC/D,KAAKzC,GAAiBE,QACpB,MAAO,CAACze,WAAY+gB,SAAiB,GAAIpxB,MAAOoxB,SAAiBC,SACnE,KAAKzC,GAAiBG,SACpB,MAAO,CAAC1e,WAAY+gB,QAAgB,GAAIpxB,MAAOoxB,QAAgBC,SACjE,KAAKzC,GAAiBI,SACpB,MAAO,CAAC3e,WAAY+gB,QAAgB,GAAIpxB,MAAOoxB,QAAgBC,SACjE,KAAKzC,GAAiBK,QACpB,MAAO,CAAC5e,WAAY+gB,QAAgB,GAAIpxB,MAAOoxB,QAAgBC,SACjE,KAAKzC,GAAiBU,QACpB,MAAO,CAACjf,WAAY+gB,QAAgB,GAAIpxB,MAAOoxB,QAAgBC,SACjE,KAAKzC,GAAiBrN,WACpB,MAAO,CAAClR,WAAY+gB,UAAkB,GAAIpxB,MAAOoxB,UAAkBC,SACrE,KAAKzC,GAAiBM,gBACpB,MAAO,CAAC7e,WAAY+gB,YAAoB,GAAIpxB,MAAOoxB,YAAoBC,SACzE,KAAKzC,GAAiBO,cACpB,MAAO,CAAC9e,WAAY+gB,UAAkB,GAAIpxB,MAAOoxB,UAAkBC,SACrE,KAAKzC,GAAiBQ,WACpB,MAAO,CAAC/e,WAAY+gB,UAAkB,GAAIpxB,MAAOoxB,UAAkBC,SACrE,KAAKzC,GAAiBS,KACpB,MAAO,CAAChf,WAAY+gB,WAAmB,GAAIpxB,MAAOoxB,WAAmBC,SACvE,QACE,MAAO,CAAChhB,WAAY,GAAIrQ,MAAO,MAI/BsxB,EAAgB,CACpBjhB,WAAY,UACZkhB,MAAM,EACNvhB,SAAU,GACVwhB,MAAM,EACNC,WAAW,GAGb,OACE,gCACE,cAAC,IAAD,CAAQ9vB,KAAK,QAAQtF,KAAM,cAAC+vB,GAAA,EAAD,IAAoB1zB,KAAK,UAAU2H,QAzF5C,YAItB,SAAwBmH,GACtB,IACE,IAAIwZ,EAAUxZ,EAAUkqB,kBACpBrV,EAAO2E,EAAQ2Q,OAAO,GAAGtV,KACzBuV,GAAe,EACfC,EAAmB,GACvBxV,EAAKpP,SAAQ,SAACwH,GACK,WAAbA,EAAI/b,OACNk5B,EAAcnd,EAAIqd,MAAMxO,WAAU,SAACxrB,GAAD,MAAmB,WAAZA,EAAEyD,SAC3CkZ,EAAIqd,MAAM7kB,SAAQ,SAACnV,EAAGoF,GACpB,IAAIuyB,EAAQpmB,KAAO,GAAD,OAAIvR,EAAEyD,MAAN,SAAmB,cACjC8N,OAAS5Q,YACO4Q,OAASsL,KAAK8a,EAAO,SACrB,GAChBoC,EAAiBt5B,KAAK2E,QAKb,SAAbuX,EAAI/b,OACFk5B,GAAe,GAA4D,aAAvDl7B,OAAO+d,EAAIqd,MAAMF,GAAar2B,OAAOkS,eAAgCokB,EAAiBh3B,OAAS,GACrHg3B,EAAiB5kB,SAAQ,SAACnV,GACnB2c,EAAIqd,MAAMh6B,GAAGyD,QAChBkZ,EAAIqd,MAAMh6B,GAAGyD,MAAQ,WAI3BkZ,EAAIqd,MAAM7kB,SAAQ,SAAC8kB,GACjBA,EAAKx2B,MAAQw2B,EAAKx2B,MAAQ7E,OAAOq7B,EAAKx2B,OAAOkS,cAAgBskB,EAAKx2B,MAClEw2B,EAAK1hB,WAAa8gB,EAAWY,EAAKx2B,OAAO8U,WACzC0hB,EAAK/xB,MAAQmxB,EAAWY,EAAKx2B,OAAOyE,MACpC+xB,EAAKC,aAAe,CAAErwB,KAAM,GAC5BowB,EAAKE,WAAa,CAAEtwB,KAAM,GAC1BowB,EAAKG,YAAc,CAAEvwB,KAAM,GAC3BowB,EAAKI,UAAY,CAAExwB,KAAM,UAI/B6F,EAAU4qB,KAAKpR,GACf,MAAO1rB,GACPK,QAAQC,IAAIN,IA3Cd+8B,CAAepB,EAAYqB,UAwFzB,sBACA,eAAC,KAAD,CACEr9B,KAAMA,EAAK6F,KAAI,SAAChD,GAAD,mBAAC,eAAWA,GAAZ,IAAeL,MAAO6V,GAAY/V,QACjDg7B,SAAQ,qBAAgBh7B,EAAhB,YAA0B8R,OAASoK,OAAO,cAA1C,SACR+e,IAAKvB,EAHP,UAKE,cAAC,KAAD,CAAmBxoB,MAAM,kBAAkBpL,MAAM,SAASo1B,QAAQ,EAAM70B,MAAO,IAAK80B,kBAAmBpB,IACvG,cAAC,KAAD,CAAmB7oB,MAAM,qBAAqBpL,MAAM,YAAYo1B,QAAQ,EAAM70B,MAAO,IAAK80B,kBAAmBpB,IAC7G,cAAC,KAAD,CAAmB7oB,MAAM,SAASpL,MAAM,SAASo1B,QAAQ,EAAM70B,MAAO,IAAK80B,kBAAmBpB,IAC9F,cAAC,KAAD,CAAmB7oB,MAAM,MAAMpL,MAAM,MAAMO,MAAO,IAAK80B,kBAAmBpB,IAC1E,cAAC,KAAD,CAAmB7oB,MAAM,iBAAiBpL,MAAM,SAASO,MAAO,GAAI80B,kBAAmBpB,IACvF,cAAC,KAAD,CAAmB7oB,MAAM,QAAQpL,MAAM,QAAQO,MAAO,GAAI80B,kBAAmBpB,IAC7E,cAAC,KAAD,CAAmB7oB,MAAM,kBAAkBpL,MAAM,WAAWO,MAAO,IAAK80B,kBAAmBpB,IAC3F,cAAC,KAAD,CAAmB7oB,MAAM,oBAAoBpL,MAAM,UAAUO,MAAO,IAAK80B,kBAAmBpB,IAC5F,cAAC,KAAD,CAAmB7oB,MAAM,mBAAmBpL,MAAM,SAASO,MAAO,IAAK80B,kBAAmBpB,IAC1F,cAAC,KAAD,CAAmB7oB,MAAM,eAAepL,MAAM,UAAUO,MAAO,GAAI80B,kBAAmBpB,IACtF,cAAC,KAAD,CAAmB7oB,MAAM,mBAAmBpL,MAAM,cAAcO,MAAO,GAAI80B,kBAAmBpB,IAE5FxB,GAAQA,EAAKj1B,OAAS,EACpBi1B,EAAKh1B,KAAI,SAACkW,EAAG9T,GAAJ,OACP,cAAC,KAAD,CAEEuL,MAAK,UAAKuI,EAAL,WACL3T,MAAK,UAAK2T,GAAKpT,MAAO,GACtB80B,kBAAmBpB,EACnBqB,YAAa,CAAEpf,UAAW,WAJrBrW,MAMJ,YCMF21B,OA9Hf,YAAiE,IAAD,IAA5B59B,YAA4B,MAAvB,GAAuB,MAAnB66B,YAAmB,MAAd,GAAc,EAAVv4B,EAAU,EAAVA,OAChD05B,EAAcC,iBAAO,MAkDnBC,EAAa,SAACtkB,GAClB,OAAQA,GACN,KAAK+hB,GAAiBC,MAEtB,IAAK,WACH,MAAO,CAACxe,WAAY+gB,OAAe,GAAIpxB,MAAOoxB,OAAeC,SAC/D,KAAKzC,GAAiBE,QACpB,MAAO,CAACze,WAAY+gB,SAAiB,GAAIpxB,MAAOoxB,SAAiBC,SACnE,KAAKzC,GAAiBG,SACpB,MAAO,CAAC1e,WAAY+gB,QAAgB,GAAIpxB,MAAOoxB,QAAgBC,SACjE,KAAKzC,GAAiBI,SACpB,MAAO,CAAC3e,WAAY+gB,QAAgB,GAAIpxB,MAAOoxB,QAAgBC,SACjE,KAAKzC,GAAiBK,QACpB,MAAO,CAAC5e,WAAY+gB,QAAgB,GAAIpxB,MAAOoxB,QAAgBC,SACjE,KAAKzC,GAAiBU,QACpB,MAAO,CAACjf,WAAY+gB,QAAgB,GAAIpxB,MAAOoxB,QAAgBC,SACjE,KAAKzC,GAAiBrN,WACpB,MAAO,CAAClR,WAAY+gB,UAAkB,GAAIpxB,MAAOoxB,UAAkBC,SACrE,KAAKzC,GAAiBM,gBACpB,MAAO,CAAC7e,WAAY+gB,YAAoB,GAAIpxB,MAAOoxB,YAAoBC,SACzE,KAAKzC,GAAiBO,cACpB,MAAO,CAAC9e,WAAY+gB,UAAkB,GAAIpxB,MAAOoxB,UAAkBC,SACrE,KAAKzC,GAAiBQ,WACpB,MAAO,CAAC/e,WAAY+gB,UAAkB,GAAIpxB,MAAOoxB,UAAkBC,SACrE,KAAKzC,GAAiBS,KACpB,MAAO,CAAChf,WAAY+gB,WAAmB,GAAIpxB,MAAOoxB,WAAmBC,SACvE,QACE,MAAO,CAAChhB,WAAY,GAAIrQ,MAAO,MAI/BsxB,EAAgB,CACpBjhB,WAAY,UACZkhB,MAAM,EACNvhB,SAAU,GACVwhB,MAAM,EACNC,WAAW,GAGb,OACE,gCACE,cAAC,IAAD,CAAQ9vB,KAAK,QAAQtF,KAAM,cAAC+vB,GAAA,EAAD,IAAoB1zB,KAAK,UAAU2H,QAzF5C,YAItB,SAAwBmH,GACtB,IACE,IAAIwZ,EAAUxZ,EAAUkqB,kBACpBrV,EAAO2E,EAAQ2Q,OAAO,GAAGtV,KACzBuV,GAAe,EACfC,EAAmB,GACvBxV,EAAKpP,SAAQ,SAACwH,GACK,WAAbA,EAAI/b,OACNk5B,EAAcnd,EAAIqd,MAAMxO,WAAU,SAACxrB,GAAD,MAAmB,WAAZA,EAAEyD,SAC3CkZ,EAAIqd,MAAM7kB,SAAQ,SAACnV,EAAGoF,GACpB,IAAIuyB,EAAQpmB,KAAO,GAAD,OAAIvR,EAAEyD,MAAN,SAAmB,cACjC8N,OAAS5Q,YACO4Q,OAASsL,KAAK8a,EAAO,SACrB,GAChBoC,EAAiBt5B,KAAK2E,QAKb,SAAbuX,EAAI/b,OACFk5B,GAAe,GAA4D,aAAvDl7B,OAAO+d,EAAIqd,MAAMF,GAAar2B,OAAOkS,eAAgCokB,EAAiBh3B,OAAS,GACrHg3B,EAAiB5kB,SAAQ,SAACnV,GACnB2c,EAAIqd,MAAMh6B,GAAGyD,QAChBkZ,EAAIqd,MAAMh6B,GAAGyD,MAAQ,WAI3BkZ,EAAIqd,MAAM7kB,SAAQ,SAAC8kB,GACjBA,EAAKx2B,MAAQw2B,EAAKx2B,MAAQ7E,OAAOq7B,EAAKx2B,OAAOkS,cAAgBskB,EAAKx2B,MAClEw2B,EAAK1hB,WAAa8gB,EAAWY,EAAKx2B,OAAO8U,WACzC0hB,EAAK/xB,MAAQmxB,EAAWY,EAAKx2B,OAAOyE,MACpC+xB,EAAKC,aAAe,CAAErwB,KAAM,GAC5BowB,EAAKE,WAAa,CAAEtwB,KAAM,GAC1BowB,EAAKG,YAAc,CAAEvwB,KAAM,GAC3BowB,EAAKI,UAAY,CAAExwB,KAAM,UAI/B6F,EAAU4qB,KAAKpR,GACf,MAAO1rB,GACPK,QAAQC,IAAIN,IA3Cd+8B,CAAepB,EAAYqB,UAwFzB,sBACA,eAAC,KAAD,CACEr9B,KAAMA,EAAK6F,KAAI,SAAChD,GAAD,mBAAC,eAAWA,GAAZ,IAAeL,MAAOF,OACrCg7B,SAAQ,qBAAgBh7B,EAAOwhB,cAAc2B,QAAQ,KAAM,KAAnD,YAA2DrR,OAASoK,OAAO,cAA3E,SACR+e,IAAKvB,EAHP,UAKE,cAAC,KAAD,CAAmBxoB,MAAM,kBAAkBpL,MAAM,SAASo1B,QAAQ,EAAM70B,MAAO,IAAK80B,kBAAmBpB,IACvG,cAAC,KAAD,CAAmB7oB,MAAM,qBAAqBpL,MAAM,YAAYo1B,QAAQ,EAAOC,kBAAmBpB,IAClG,cAAC,KAAD,CAAmB7oB,MAAM,iBAAiBpL,MAAM,SAASO,MAAO,GAAI80B,kBAAmBpB,IACvF,cAAC,KAAD,CAAmB7oB,MAAM,QAAQpL,MAAM,QAAQO,MAAO,GAAI80B,kBAAmBpB,IAC7E,cAAC,KAAD,CAAmB7oB,MAAM,iBAAiBpL,MAAM,UAAUO,MAAO,GAAI80B,kBAAmBpB,IAEtFxB,GAAQA,EAAKj1B,OAAS,EACpBi1B,EAAKh1B,KAAI,SAACkW,EAAG9T,GAAJ,OACP,cAAC,KAAD,CAEEuL,MAAK,UAAKuI,EAAL,WACL3T,MAAK,UAAK2T,GAAKpT,MAAO,GACtB80B,kBAAmBpB,EACnBqB,YAAa,CAAEpf,UAAW,WAJrBrW,MAMJ,YChGF1J,OAnBf,YAAmD,IAAnC0qB,EAAkC,EAAlCA,MAAkC,IAA3BjpB,YAA2B,MAAtB,GAAsB,MAAlB66B,YAAkB,MAAb,GAAa,EAATr4B,EAAS,EAATA,MACvC,OAAIymB,GAASA,GAASkD,GACb,cAAC,GAAD,CAAwBnsB,KAAMA,EAAM66B,KAAMA,EAAMv4B,OAAQE,IACtDymB,GAASA,IAAUkD,GACrB,cAAC,GAAD,CAAwBnsB,KAAMA,EAAM66B,KAAMA,EAAMv4B,OAAO,YACrD2mB,GAASA,IAAUkD,GACrB,cAAC,GAAD,CAA0BnsB,KAAMA,EAAM66B,KAAMA,EAAMv4B,OAAQE,IAE1D,MCEH0P,GAAWC,KAAXD,OACA2rB,GAAgBC,KAAhBD,YAyOOE,OAvOf,YAA+C,IAAD,IAAfr7B,cAAe,WACEyG,mBAAS,IADX,oBACrC60B,EADqC,KACpBC,EADoB,OAEN90B,mBAAS,IAFH,oBAErCigB,EAFqC,KAExBC,EAFwB,OAGMlgB,oBAAS,GAHf,oBAGrC+0B,EAHqC,KAGlBC,EAHkB,OAIFh1B,oBAAS,GAJP,oBAIrCmgB,EAJqC,KAItBC,EAJsB,OAKMpgB,oBAAS,GALf,oBAKrCuJ,EALqC,KAKlBC,EALkB,OAMMxJ,mBAAS,MANf,oBAMrCi1B,EANqC,KAMlBC,EANkB,OAOVl1B,mBAASiL,OAASkqB,QAAQ,SAPhB,oBAOrCC,EAPqC,KAO1BC,EAP0B,OAQhBr1B,mBAASiL,OAASqqB,MAAM,SARR,oBAQrCC,EARqC,KAQ7BC,EAR6B,OASVx1B,mBAAS,IATC,oBASrC8xB,EATqC,KAS1B2D,EAT0B,OAUZz1B,mBAAS,MAVG,oBAUrCoF,EAVqC,KAU3BswB,EAV2B,OAWN11B,oBAAS,GAXH,oBAWrCqgB,EAXqC,KAWxBC,GAXwB,QAYFtgB,oBAAS,GAZP,sBAYrC21B,GAZqC,MAYtBC,GAZsB,SAaJ51B,mBAAS,MAbL,sBAarC61B,GAbqC,MAavBC,GAbuB,SAcZ91B,mBAAS,IAdG,sBAcrC4xB,GAdqC,MAc3BmE,GAd2B,SAeF/1B,mBAAS,MAfP,sBAerCg2B,GAfqC,MAetBC,GAfsB,SAgBAj2B,mBAAS,IAhBT,sBAgBrC+xB,GAhBqC,MAgBrBmE,GAhBqB,SAiBEl2B,mBAAS,IAjBX,sBAiBrCgyB,GAjBqC,MAiBpBmE,GAjBoB,SAkBEn2B,mBAAS,IAlBX,sBAkBrCwnB,GAlBqC,MAkBpBC,GAlBoB,oDA0D5C,sBAAAxxB,EAAA,6DACEmqB,GAAiB,GADnB,SAEQX,IAAU,GACb7oB,MAAK,gBAAEC,EAAF,EAAEA,KAAF,OAAYqpB,EAAerpB,MAChCO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAC3B2S,SAAQ,kBAAMoW,GAAiB,MALpC,4CA1D4C,+BAkE7BgW,KAlE6B,8EAkE5C,sBAAAngC,EAAA,2DACMm/B,GAAaG,GAAUtV,EAAYxjB,OAAS,GADlD,uBAEIu4B,GAAqB,GAFzB,SAGUvF,GAAe,CACnBp2B,MAAQE,EAA8C,KAArC0mB,EAAYgV,GAAmBhrB,IAChDylB,YAAa0F,EAAUhR,SACvBuL,SAAU4F,EAAOnR,WAChBxtB,KAJG,uCAIE,6BAAAX,EAAA,6DAAOY,EAAP,EAAOA,KAAP,kBAAiBw/B,GACpB98B,EAAgDypB,GAAvC/C,EAAYgV,GAAmBnV,MACzCjpB,IAFI,2CAJF,uDAOHD,MAAK,SAAC0/B,GACHA,GAAaA,EAAU75B,OAAS,GAClCq4B,EAAmBwB,GACnBJ,GAAkBpR,GAAgBwR,EAAW,UAAU,IACvDH,GAAmBrR,GAAgBwR,EAAW,WAAW,IACzD7O,GAAmB3C,GAAgBwR,EAAW,YAAY,MAK1DxB,EAAmB,IACnB3+B,IAAU0B,KAAK,+BAAgC,CAAEvB,SAAU,kBAE5Dc,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAMgrB,GAAqB,MAvB3E,6BAyBI7+B,IAAU0B,KAAK,gDAAiD,CAAEvB,SAAU,cAzBhF,4CAlE4C,oEA+F5C,WAAoCmY,EAAQ4V,GAA5C,SAAApuB,EAAA,6DACEuT,GAAqB,GADvB,SAEesmB,GAAgB,CAC3BlrB,OAAQmB,GAAQK,sBAChBypB,WAAY,CACV5lB,IAAK4rB,GACLpnB,SAAQ4V,iBAETjtB,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAC3B2S,SAAQ,WACPR,GAAqB,GACrB8W,IAAe,GACf8V,QAZN,oFA/F4C,sBA+G5C,SAASG,GAAexb,EAAKyb,GACvBzb,GAAOA,EAAIte,OAAS,GACtBs5B,GAAYhb,GACZkb,GAAiBO,GACjBC,MAEAtgC,IAAU0B,KAAK,wDAAyD,CAAEvB,SAAU,cAjGxF8D,qBAAU,WACJb,GACF68B,KAEFM,GAAa,CAACzrB,OAASkqB,QAAQ,QAASlqB,OAASqqB,MAAM,UAxBb,oCAyB1CqB,KAEA,IAEFv8B,qBAAU,WACJ66B,GAAqBhV,EAAYxjB,OAAS,GAC5Ci5B,EAAYkB,GAAgB,CAC1B9W,MAAOG,EAAYgV,GAAmBnV,MACtC4R,KAAMI,EACNH,OAAQkF,GACRjF,SAAU2E,GACV1E,OAAQuE,GACR1J,QAAS,CAAEqF,kBAAgBC,mBAAiBxK,yBAIhD,CAACsK,EAAWmD,IAEd76B,qBAAU,WACJb,GACFm8B,EAAYkB,GAAgB,CAC1B9W,MAAOkD,GACP0O,KAAMI,EACNv4B,SACAo4B,OAAQkF,GACRjF,SAAU2E,GACV1E,OAAQuE,GACR1J,QAAS,CAAEqF,kBAAgBC,mBAAiBxK,yBAIhD,CAACqN,IAiEH,IAAMgC,GAAmB,SAACz9B,GACxBynB,KACAiV,GAAgB18B,IAGZynB,GAAmB,kBAAMP,IAAgBD,IACzCoW,GAAqB,kBAAMb,IAAkBD,KAE7Ce,GAAe,SAAChF,GACpB,GAAIA,GAAQA,EAAKj1B,OAAS,EAAG,CAC3B,IAAM8Z,EAAOtL,KAAOymB,EAAK,GAAGtN,UAAU7N,KAAKmb,EAAK,GAAGtN,SAAU,QAC7DiR,EAAa3D,EAAK,IAClB8D,EAAU9D,EAAK,IAEf,IADA,IAAIoF,EAAO,GACFh4B,EAAI,EAAGA,GAAKyX,EAAMzX,IACzBg4B,EAAK38B,KAAK8Q,KAAOymB,EAAK,GAAGtN,UAAU2S,IAAIj4B,EAAG,QAAQuW,OAAO,UAE3DogB,EAAaqB,QAEbzB,EAAapqB,OAASkqB,QAAQ,SAC9BK,EAAUvqB,OAASqqB,MAAM,UAI7B,OACE,gCACE,eAAC,IAAD,CAAK76B,MAAO,CAAEqI,OAAQ,WAAtB,UAEGvJ,EAmBQ,KAlBT,eAAC,IAAD,CAAKsB,GAAI,GAAIJ,MAAO,CAAEytB,aAAc,UAApC,UACE,oDACA,cAAC,KAAD,CACE3kB,KAAK,QACL1H,YAAY,oBACZzF,QAAS+pB,EACT1lB,MAAO,CAAE+E,MAAO,QAChBrC,MAAO83B,EACPvqB,SAAU,SAAChR,GAAD,OAAOw7B,EAAqBx7B,IACtCs9B,0BAAwB,EAP1B,SAUE/W,GAAeA,EAAYxjB,OAAS,EACpCwjB,EAAYvjB,KAAI,SAAChD,EAAEoF,GAAH,OACd,cAAC,GAAD,CAAgB3B,MAAO2B,EAAvB,SAA2BpF,EAAEP,QAAhB2F,MACZ,UAMP,eAAC,IAAD,CAAKjE,GAAI,GAAT,UACE,8DACA,cAAC65B,GAAD,CACEnxB,KAAK,QACL9I,MAAO,CAAEoH,YAAa,SACtB6I,SAAUgsB,GACVv5B,MAAO,CAAC8N,KAAOmqB,GAAYnqB,KAAOsqB,YAIxC,cAAC,IAAD,CACEj7B,KAAK,UACLiJ,KAAK,QACLkR,SAAUsgB,EACV92B,KAAM82B,EAAoB,cAACzV,GAAA,EAAD,IAAqB,cAAC2X,GAAA,EAAD,IAC/Cx8B,MAAO,CAAEmQ,aAAc,QACvB3I,QAASm0B,GANX,oBAUA,cAAC,KAAD,CACElkB,OAAO,MACP3O,KAAK,QACLnN,QAAS2+B,EACT5iB,QAAS/M,EACT1E,WAAYm0B,EACZ/d,OAAQ,CAAEC,EAAG,OAAQC,EAAG,QACxB5E,WAAY,CACV2W,gBAAiB,GACjBC,gBAAiB,CAAC,GAAG,IAAI,MAE3BtS,OAAQ,kBAAM,cAACwgB,GAAD,CACZpX,MAAOmV,GAAqBhV,EAAYxjB,OAAS,EAAIwjB,EAAYgV,GAAmBnV,MAAOkD,GAC3FnsB,KAAMg+B,EACNnD,KAAMI,EACNz4B,MAAO47B,GAAqBhV,EAAYxjB,OAAS,EAAIwjB,EAAYgV,GAAmB97B,OAAQ,UAIhG,cAAC,GAAD,CACE8G,QAASogB,EACTvK,MAAO+K,GACPtX,kBAAmBA,EACnB6nB,WAtNsC,iDAyNxC,cAAC,GAAD,CACEC,MAAO2E,GACPpE,SAAUA,GACV3xB,QAAS01B,GACT7f,MAAO2gB,SC9Of,IAaeU,GAbD,CACZ,CACEluB,KAAM9T,EACNgU,OAAO,EACPC,UdKW,WAAyB,IAAD,EACKpJ,mBAAS,IADd,oBAC9Bo3B,EAD8B,KACfC,EADe,OAESr3B,oBAAS,GAFlB,oBAE9BirB,EAF8B,KAEbqM,EAFa,OAGOt3B,mBAAS,IAHhB,oBAG9Bu3B,EAH8B,KAGdC,EAHc,OAIWx3B,oBAAS,GAJpB,oBAI9BmrB,EAJ8B,KAIZsM,EAJY,OAKaz3B,mBAAS,IALtB,oBAK9B03B,EAL8B,KAKXC,EALW,OAMiB33B,oBAAS,GAN1B,oBAM9BqrB,EAN8B,KAMTuM,EANS,iDAcrC,sBAAA3hC,EAAA,6DACEqhC,GAAmB,GADrB,SAEQ3yB,IAAa,EAAO,CAAEC,OAAQmB,GAAQkB,4BAA6BrQ,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAC3EA,GAAMwgC,EAAiB,GAAD,oBAAKxgC,GAAL,CAAW,CAAEoT,IAAK,IAAK9Q,OAAQ,IAAK0R,UAAW,UAEvEzT,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAMstB,GAAmB,MALvE,4CAdqC,kEAsBrC,sBAAArhC,EAAA,6DACEwhC,GAAoB,GADtB,SAEQ9yB,IAAa,EAAO,CAAEC,OAAQmB,GAAQgB,6BAA+BnQ,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAC7EA,GAAM2gC,EAAkB3gC,MAE1BO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAMytB,GAAoB,MALxE,4CAtBqC,kEA8BrC,sBAAAxhC,EAAA,6DACE2hC,GAAuB,GADzB,SAEQjzB,IAAa,EAAO,CAACC,OAAQmB,GAAQiB,gCAAgCpQ,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAC7EA,GAAM8gC,EAAqB9gC,MAE7BO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAM4tB,GAAuB,MAL3E,4CA9BqC,sBAsCrC,OA9BAx9B,qBAAU,YAR2B,mCASnCy9B,GATmC,mCAUnCC,GAVmC,mCAWnCC,KACA,IA2BA,gCACE,cAACpN,GAAD,CAAe7sB,OAAO,gBAAgB2G,UAAU,gBAChD,cAACT,GAAD,UACE,eAAC,KAAD,CAAMvJ,MAAO,CAACia,YAAa,QAASC,UAAU,EAA9C,UACE,cAAC,GAAD,CACEC,IACE,iCACE,cAACojB,GAAA,EAAD,IADF,sBAFJ,SASE,cAAC,GAAD,CACEtpB,SAAU0oB,EACVnM,gBAAiBA,EACjBC,UAAWqM,EACXpM,iBAAkBA,EAClBC,aAAcsM,EACdrM,oBAAqBA,KARnB,KAWN,cAAC,GAAD,CACEzW,IACE,iCACE,cAACqjB,GAAA,EAAD,IADF,oBAFJ,SASE,cAAC5J,GAAD,KAFI,ecvEd,CACEplB,KAAM9T,EACNgU,OAAO,EACPC,UCPW,WACb,OACE,gCACE,cAACuhB,GAAD,CAAe7sB,OAAO,iBAAiB2G,UAAU,cACjD,cAACT,GAAD,UACE,cAAC,GAAD,CAAsBzK,QAAQ,Y,sDCXzB4f,GAAU,CACrB,CACE+e,SAAU,SACVC,UAAW,YAEb,CACED,SAAU,SACVE,WAAY,YACZD,UAAW,wBAEb,CACED,SAAU,aACVC,UAAW,kBAEb,CACED,SAAU,eACVE,WAAY,cACZD,UAAW,mBAEb,CACED,SAAU,YACVC,UAAW,gBAEb,CACED,SAAU,SACVC,UAAW,kBAEb,CACED,SAAU,SACVC,UAAW,kBAEb,CACED,SAAU,SACVC,UAAW,cAEb,CACED,SAAU,YACVC,UAAW,mBAEb,CACED,SAAU,SACVC,UAAW,eAEb,CACED,SAAU,WACVC,UAAW,gBAEb,CACED,SAAU,aACVE,WAAY,YACZ/G,OAAO,EACP8G,UAAW,kBAEb,CACED,SAAU,UACVC,UAAW,iBAEb,CACED,SAAU,UACVC,UAAW,kBAEb,CACED,SAAU,YACVC,UAAW,sBAEb,CACED,SAAU,gBACVC,UAAW,mBAEb,CACED,SAAU,WACVE,WAAY,cACZD,UAAW,qBAEb,CACED,SAAU,kBACVC,UAAW,uBAEb,CACED,SAAU,YACVE,WAAY,YACZD,UAAW,oBAEb,CACED,SAAU,gBACVC,UAAW,oBAIFE,GAAmB,CAC9B,CACEH,SAAU,YACVI,QAAS,KAEX,CACEJ,SAAU,YACVI,QAAS,KAEX,CACEJ,SAAU,SACVI,QAAS,KAEX,CACEJ,SAAU,SACVI,QAAS,KAEX,CACEJ,SAAU,SACVI,QAAS,UAEX,CACEJ,SAAU,SACVI,QAAS,SAEX,CACEJ,SAAU,SACVI,QAAS,SAEX,CACEJ,SAAU,YACVI,QAAS,KAEX,CACEJ,SAAU,SACVI,QAAS,MAIArf,GAAQ,CACnB,CACEif,SAAU,SACVE,WAAY,WACZD,UAAW,YAEb,CACED,SAAU,SACVE,WAAY,SACZG,WAAY,gBACZJ,UAAW,wBAEb,CACED,SAAU,YACVC,UAAW,gBAEb,CACED,SAAU,SACVC,UAAW,kBAEb,CACED,SAAU,aACVE,WAAY,UACZD,UAAW,kBAEb,CACED,SAAU,eACVE,WAAY,cACZD,UAAW,mBAEb,CACED,SAAU,SACVC,UAAW,qBAEb,CACED,SAAU,SACVE,WAAY,SACZD,UAAW,cAEb,CACED,SAAU,YACVC,UAAW,mBAEb,CACED,SAAU,cACVC,UAAW,mBAEb,CACED,SAAU,SACVC,UAAW,sBAEb,CACED,SAAU,UACVC,UAAW,iBAEb,CACED,SAAU,UACVC,UAAW,kBAEb,CACED,SAAU,gBACVC,UAAW,mBAEb,CACED,SAAU,SACV7G,OAAO,EACP8G,UAAW,kBAEb,CACED,SAAU,aACVE,WAAY,UACZhqB,KAAM,UACNijB,OAAO,EACP8G,UAAW,kBAEb,CACED,SAAU,SACVC,UAAW,eAEb,CACED,SAAU,WACVC,UAAW,gBAEb,CACED,SAAU,SACVE,WAAY,aACZD,UAAW,iBAEb,CACED,SAAU,gBACVC,UAAW,qBAEb,CACED,SAAU,gBACVC,UAAW,mBAEb,CACED,SAAU,iBACVC,UAAW,mBAIFK,GAAgB,CAC3B,CACEN,SAAU,SACVE,WAAY,YACZG,WAAY,SACZJ,UAAW,wBAEb,CACED,SAAU,SACVE,WAAY,SACZD,UAAW,cAEb,CACED,SAAU,SACVC,UAAW,eAEb,CACED,SAAU,YACVC,UAAW,mBAEb,CACED,SAAU,aACVE,WAAY,YACZ/G,OAAO,EACP8G,UAAW,mBAEb,CACED,SAAU,SACVC,UAAW,eAEb,CACED,SAAU,YACVC,UAAW,oBAEb,CACED,SAAU,SACVC,UAAW,oBAEb,CACED,SAAU,SACVC,UAAW,qBAEb,CACED,SAAU,gBACVC,UAAW,yBAEb,CACED,SAAU,cACVC,UAAW,iCA+CFM,GAAe,CAC1B,CACEnrB,KAAM,kBACNnQ,MAAO,yBAET,CACEmQ,KAAM,kBACNnQ,MAAO,yBAET,CACEmQ,KAAM,aACNnQ,MAAO,0BAET,CACEmQ,KAAM,cACNnQ,MAAO,kBAET,CACEmQ,KAAM,eACNnQ,MAAO,uBAIEu7B,GACA,YADAA,GAED,WAFCA,GAGD,WAHCA,GAID,WAJCA,GAKA,YALAA,GAMC,aANDA,GAOA,YAPAA,GAQG,eARHA,GASH,SATGA,GAUL,OAVKA,GAWH,SAGGC,GAA6B,CACxC,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAChG,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KACvD,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,MAGtDC,GAA+B,CAC1C,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAClD,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAC7C,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,MAGnBC,GAAiC,CAC5C,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KACvD,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KACvD,KAAK,KAAK,M,UC1UGC,OAzCf,YAA8B,IAAVrqB,EAAS,EAATA,OAClB,OAAQnW,OAAOmW,GAAQkM,eACrB,IAAK,YACH,OAAO,cAAC,KAAD,UAAMzL,GAAYT,KAC3B,IAAK,aAEL,KAAKiqB,GACH,OAAO,cAAC,KAAD,CAAK92B,MAAM,UAAX,SAAsBsN,GAAYT,KAC3C,KAAKiqB,GACH,OAAO,cAAC,KAAD,CAAK92B,MAAM,OAAX,SAAmBsN,GAAYT,KACxC,KAAKiqB,GACH,OAAO,cAAC,KAAD,CAAK92B,MAAM,OAAX,SAAmBsN,GAAYT,KACxC,IAAK,WACH,OAAO,cAAC,KAAD,CAAK7M,MAAM,WAAX,SAAuBsN,GAAYT,KAC5C,IAAK,eACH,OAAO,cAAC,KAAD,CAAK7M,MAAM,UAAX,SAAsBsN,GAAYT,KAC3C,KAAKiqB,GACH,OAAO,cAAC,KAAD,CAAK92B,MAAM,SAAX,SAAqBsN,GAAYT,KAC1C,KAAKiqB,GAEL,KAAKA,GACH,OAAO,cAAC,KAAD,CAAK92B,MAAM,MAAX,SAAkBsN,GAAYT,KACvC,KAAKiqB,GAEL,KAAKA,GACH,OAAO,cAAC,KAAD,CAAK92B,MAAM,SAAX,SAAqBtJ,OAAOmW,GAAQY,gBAC7C,IAAK,WACH,OAAO,cAAC,KAAD,CAAKzN,MAAM,QAAX,SAAoBsN,GAAYT,KACzC,IAAK,aAEL,IAAK,UACH,OAAO,cAAC,KAAD,CAAK7M,MAAM,MAAX,SAAkBsN,GAAYT,KACvC,QACE,OAAO,cAAC,KAAD,kBCrCAsqB,GAAU,uCAAG,WAAO/gC,EAAP,gCAAA/B,EAAA,6DAAe2O,EAAf,EAAeA,OAAQoK,EAAvB,EAAuBA,KAAMgqB,EAA7B,EAA6BA,eAAgB5/B,EAA7C,EAA6CA,GAAImiB,EAAjD,EAAiDA,KAAM0d,EAAvD,EAAuDA,WAAYvJ,EAAnE,EAAmEA,YAAaC,EAAhF,EAAgFA,SAAhF,kBAA+F53B,EAAY,CACnIY,IAAK,UAAWC,OAAQ,MAAOiM,OAAQ,CAAED,SAAQoK,OAAMuM,OAAMyd,iBAAgB5/B,KAAI6/B,aAAYvJ,cAAaC,YAAY13B,QAAS,CAAE,eAAgB,qBAChJD,IAFuB,2CAAH,wDAWVkhC,GAAW,uCAAG,mCAAAjjC,EAAA,6DAAQ2O,EAAR,EAAQA,OAAQkB,EAAhB,EAAgBA,QAASqzB,EAAzB,EAAyBA,gBAAiBC,EAA1C,EAA0CA,MAA1C,kBAAqDrhC,EAAY,CAC1FY,IAAK,UAAWC,OAAQ,OAAQ/B,KAAM,CAAEiP,UAASqzB,kBAAiBv0B,SAAQw0B,WAC1E,IAFyB,2CAAH,sDAIXC,GAAU,uCAAG,+BAAApjC,EAAA,6DAAQ2O,EAAR,EAAQA,OAAQkB,EAAhB,EAAgBA,QAAhB,kBAA6B/N,EAAY,CACjEY,IAAK,UAAWC,OAAQ,MAAO/B,KAAM,CAAEiP,UAASlB,YAChD,IAFwB,2CAAH,sDAIV00B,GAAY,uCAAG,iDAAArjC,EAAA,6DAAQ2O,EAAR,EAAQA,OAAQxL,EAAhB,EAAgBA,GAAI0M,EAApB,EAAoBA,QAAS4M,EAA7B,EAA6BA,OAAQrN,EAArC,EAAqCA,QAASJ,EAA9C,EAA8CA,QAAS1L,EAAvD,EAAuDA,OAAQwZ,EAA/D,EAA+DA,SAAUwmB,EAAzE,EAAyEA,WAAY9qB,EAArF,EAAqFA,OAAQ4V,EAA7F,EAA6FA,YAA7F,kBAA8GtsB,EAAY,CACpJY,IAAK,UACLC,OAAQ,QACR/B,KAAM,CAAE+N,SAAQxL,KAAI0M,UAAS4M,SAAQrN,UAASJ,UAAS1L,SAAQwZ,WAAUwmB,aAAY9qB,SAAQ4V,iBAC7F,IAJ0B,2CAAH,sDAMZmV,GAAiB,uCAAG,WAAO3iC,GAAP,SAAAZ,EAAA,+EAAgB8B,EAAY,CAC3DY,IAAK,UACLC,OAAQ,QACR/B,OACAoB,QAAS,CAAE,eAAgB,yBAC1B,IAL8B,2CAAH,sDC+BfwhC,OAnDf,YAA+C,IAAtBpjB,EAAqB,EAArBA,IAAKqjB,EAAgB,EAAhBA,cAAgB,EACN15B,mBAAS,MADH,oBACrCqkB,EADqC,KACxBmF,EADwB,OAEdxpB,oBAAS,GAFK,oBAErCC,EAFqC,KAE5BC,EAF4B,iDAI5C,sBAAAjK,EAAA,0DACMouB,EADN,gCAEUiV,GAAa,CAAC10B,OAAQkB,GAA6B1M,GAAIid,EAAIpM,IAAKoa,gBACnEztB,MAAK,WACJ+iC,IACAD,OACCtiC,OAAM,SAACsC,GAAD,OAAOnC,QAAQC,IAAIkC,MANlC,6BAQIwG,GAAW,GARf,4CAJ4C,sBAgB5C,IAAMy5B,EAAc,WAClBnQ,EAAe,MACftpB,GAAW,IAGb,OACE,cAAC,KAAD,CACED,QAASA,EACTE,UAAU,UACVlB,MAAO,kBACL,gCACE,+CAAiB,iCAASoX,EAAIujB,0BAC9B,cAAC,IAAD,CACEz8B,MAAOknB,EACP3Z,SAAU,SAAChR,GAAD,OAAO8vB,EAAe9vB,EAAEoR,OAAO3N,QACzCtB,YAAY,cACZ0H,KAAK,QACL9I,MAAO,CAAE+E,MAAO,WAItBvB,KAAM,cAAC8gB,GAAA,EAAD,CAAaG,aAAa,YAChC2a,UAtCwC,2CAuCxCpjB,SAAUkjB,EAjBZ,SAmBE,cAAC5a,GAAA,EAAD,CAAatkB,MAAO,CAAEmX,SAAU,UAAYsN,aAAa,UAAUjd,QAAS,kBAAM/B,GAAYD,SCnBrF65B,OAvBf,YAA8C,IAA3BzI,EAA0B,EAA1BA,MAAOriB,EAAmB,EAAnBA,KAAMqK,EAAa,EAAbA,WAC1BtD,EAAQ9K,OAASsL,KAAK8a,EAAO,SACjC,OAAIhY,GAAcgY,EACT,cAAC,KAAD,CAAKzvB,MAAM,OAAX,SAAmBmU,KAChBsD,GAAcgY,EACpBriB,IAAS7B,GACJ,cAAC,KAAD,CAAKvL,MAAOmU,GAAS,GAAK,QAAUA,EAAQ,IAAMA,GAAS,GAAK,UAAYA,EAAQ,GAAK,UAAY,GAArG,SAA0GA,IACxG/G,IAAS7B,GACX,cAAC,KAAD,CAAKvL,MAAOmU,GAAS,GAAK,QAAUA,EAAQ,IAAMA,GAAS,GAAK,UAAYA,EAAQ,GAAK,UAAY,GAArG,SAA0GA,IAE1G,cAAC,KAAD,gBAGF,cAAC,KAAD,CAAKnU,MAAM,OAAX,gBCRHG,GAASuR,KAATvR,KAER,SAASg4B,GAAT,GAKI,IAAD,IAJDC,kBAIC,MAJU,GAIV,MAHDC,sBAGC,MAHc,GAGd,EAFDC,EAEC,EAFDA,cACAR,EACC,EADDA,cAGA,MAAO,CACL,CACEz6B,MAAO,IACPO,MAAO,GACPyoB,MAAO,OACPtY,OAAQ,SAACzE,EAAE+K,EAAGnX,GAAN,OAAYA,EAAE,IAExB,CACEG,MAAO,OACPuQ,UAAW,OACXhQ,MAAO,IACPyoB,MAAO,OACPH,QAASkS,GAA0B,GACnCjS,SAAU,SAACznB,EAAE4V,GAAH,OAA+B,IAAtBA,EAAElH,KAAKgZ,QAAQ1nB,IAClCqP,OAAQ,SAACC,GAAD,OAAOA,EAAIV,GAAYU,GAAK,MAEtC,CACE3Q,MAAO,gBACPuQ,UAAW,uBACXhQ,MAAO,IACPyoB,MAAO,OACPtY,OAAQ,SAACwqB,EAAK9jB,GACZ,OAAIA,EAAIpH,mBAAqBrC,GAAW5N,SAASqX,EAAIpH,mBAC5C,cAAC,GAAD,CAAMkH,UAAQ,EAACikB,QAAM,EAAC3/B,MAAO,CAAEmH,MAAO,WAAtC,SAAkD,cAAC,KAAD,CAAKA,MAAM,UAAUnH,MAAO,CAAEmX,SAAU,QAAxC,SAAmDuoB,MAErG,cAAC,GAAD,CAAMhkB,UAAQ,EAACikB,QAAM,EAArB,SAAuBD,MAIpC,CACEl7B,MAAO,iBACPuQ,UAAW,iBACXhQ,MAAO,IACPyoB,MAAO,OACPtY,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAGnC,CACEhhB,SAAS,EACTF,OAAO,EACPha,MAAO,YACPuQ,UAAW,cACXhQ,MAAO,IACPhF,MAAO,SACPytB,MAAO,QACPH,QAASmS,EAAiBA,EAAentB,QAAO,SAACpT,GAAD,OAAOA,EAAE4T,QAAQ,GACjEya,SAAU,SAACznB,EAAE4V,GACX,SAAIA,EAAEmkB,cAAe/5B,IACkB,IAA7B4V,EAAEmkB,YAAYrS,QAAQ1nB,IAKlCqP,OAAQ,SAAC2qB,GACP,OAAIA,EACK,cAAC,KAAD,CAAK14B,MAAM,OAAX,SAAmB04B,SAE1B,IAIN,CACEr7B,MAAO,QACPuQ,UAAW,iBACXhQ,MAAO,GACPhF,MAAO,SACPytB,MAAO,QACPpY,OAAQ,SAAC5Z,EAAG6Z,GACV,OAAI7E,OAASsL,KAAKtgB,EAAEskC,eAAgB,SAAWtvB,OAASsL,KAAKzG,EAAEyqB,eAAgB,UACrE,EAENtvB,OAASsL,KAAKtgB,EAAEskC,eAAgB,SAAWtvB,OAASsL,KAAKzG,EAAEyqB,eAAgB,SACtE,EAEF,GAET5qB,OAAQ,SAAC0hB,EAAOhb,GAAR,OAAgB,cAAC,GAAD,CAAUgb,MAAOA,EAAOriB,KAAMqH,EAAIrH,KAAMqK,WAAYhD,EAAIgkB,gBAElF,CACEp7B,MAAO,WACPuQ,UAAW,MACXhQ,MAAO,GACPhF,MAAO,SACPytB,MAAO,QACPtY,OAAQ,SAACvW,EAAIid,GAAL,OACN,gCACE,cAACmkB,GAAA,EAAD,CACE//B,MAAO,CAAEmX,SAAU,SAAU/P,YAAa,SAC1CI,QAAS,kBAAMi4B,EAAc9gC,MAE/B,cAAC,GAAD,CAAgBid,IAAKA,EAAKqjB,cAAeA,UAO5C,SAASe,GAAT,GAeH,IAAD,IAdDC,sBAcC,MAdc,GAcd,MAbDC,oBAaC,MAbY,GAaZ,MAZDC,uBAYC,MAZe,GAYf,MAXDC,0BAWC,MAXkB,GAWlB,MAVD3O,sBAUC,MAVc,GAUd,MATD4C,qBASC,MATa,GASb,MARDgM,6BAQC,MARqB,GAQrB,MAPDC,+BAOC,MAPuB,GAOvB,MANDC,4BAMC,MANoB,GAMpB,MALDC,iBAKC,MALS,GAKT,MAJDC,kBAIC,MAJU,GAIV,MAHDC,mBAGC,MAHW,GAGX,EAFDC,EAEC,EAFDA,eACAC,EACC,EADDA,cAGA,MAAO,CACL,CACEr9B,IAAK,qBACLiB,MAAO,YACPuQ,UAAW,qBACXhQ,MAAO,IACPhF,MAAO,SACPstB,QAASiT,GAAoD,GAC7DhT,SAAU,SAACznB,EAAE4V,GAAH,OAA6C,IAApCA,EAAEolB,mBAAmBtT,QAAQ1nB,KAElD,CACEtC,IAAK,kBACLiB,MAAO,aACPuQ,UAAW,kBACXhQ,MAAO,IACPsoB,QAASkT,GAA8C,GACvDjT,SAAU,SAACznB,EAAE4V,GAAH,OAA0C,IAAjCA,EAAEqlB,gBAAgBvT,QAAQ1nB,KAE/C,CACEtC,IAAK,iBACLiB,MAAO,gBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEn8B,IAAK,kBACLiB,MAAO,WACPuQ,UAAW,kBACXhQ,MAAO,IACPmQ,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEn8B,IAAK,aACLiB,MAAO,MACPuQ,UAAW,aACXhQ,MAAO,GACPsoB,QAASmT,GAAwB,GACjClT,SAAU,SAACznB,EAAE4V,GAAH,OAAqD,IAA5C5d,OAAO4d,EAAEslB,YAAYxT,QAAQ1vB,OAAOgI,MAEzD,CACEtC,IAAK,cACLiB,MAAO,OACPuQ,UAAW,cACXhQ,MAAO,GACPsoB,QAASoT,GAA0B,GACnCnT,SAAU,SAACznB,EAAE4V,GAAH,OAAsD,IAA7C5d,OAAO4d,EAAEulB,aAAazT,QAAQ1vB,OAAOgI,MAE1D,CACEtC,IAAK,eACLiB,MAAO,QACPuQ,UAAW,eACXhQ,MAAO,GACPsoB,QAASqT,GAA4B,GACrCpT,SAAU,SAACznB,EAAE4V,GAAH,OAAuD,IAA9C5d,OAAO4d,EAAEwlB,cAAc1T,QAAQ1vB,OAAOgI,KACzDuP,OAAQ,SAAC5Z,EAAG6Z,GACV,OAAI7Z,EAAEylC,aAAe5rB,EAAE4rB,cACb,EAENzlC,EAAEylC,aAAe5rB,EAAE4rB,aACd,EAEF,IAGX,CACE19B,IAAK,mBACLiB,MAAO,YACPuQ,UAAW,mBACXhQ,MAAO,IACPhF,MAAO,SACPqV,OAAQ,SAAC5Z,EAAE6Z,GAAH,OAAS7Z,EAAE0lC,iBAAmB7rB,EAAE6rB,kBACxChsB,OAAQ,SAACuG,EAAG6E,GACV,OAAI7E,GAAW,MAANA,GAAmB,MAANA,EACb,cAAC,KAAD,CAAKtU,MAAM,UAAUK,QAAS,kBAAMm5B,EAAergB,EAAIie,iBAAiBv+B,MAAO,CAAEwkB,OAAQ,WAAzF,SAAuG/I,IAEvG,MAIb,CACElY,IAAK,WACLiB,MAAO,WACPuQ,UAAW,WACXhQ,MAAO,IACPhF,MAAO,SACPstB,QAAS,CAAC,CAACxa,KAAM,KAAMnQ,OAAO,GAAO,CAACmQ,KAAM,KAAMnQ,OAAO,IACzD4qB,SAAU,SAACznB,EAAE4V,GACX,OAAI5V,EACK4V,EAAE0lB,UAED1lB,EAAE0lB,UAGdjsB,OAAQ,SAACksB,GACP,OAAIA,GAAOA,EAAIjC,qBACN,cAAC,KAAD,CAAKh4B,MAAM,OAAOK,QAAS,kBAAMo5B,EAAcQ,IAAMphC,MAAO,CAAEwkB,OAAQ,WAAtE,gBAEA,MAIb,CACEjhB,IAAK,WACLiB,MAAO,WACPuQ,UAAW,WACXhQ,MAAO,IACPsoB,QAAS4S,GAAkC,GAC3C3S,SAAU,SAACznB,EAAE4V,GAAH,OAAmC,IAA1BA,EAAE4lB,SAAS9T,QAAQ1nB,KAExC,CACEtC,IAAK,YACLiB,MAAO,eACPuQ,UAAW,YACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEbC,OAAQ,SAACosB,GAAD,OACN,cAAC,KAAD,CAAS57B,UAAU,UAAUlB,MAAO88B,EAApC,SACGA,MAKP,CACE/9B,IAAK,SACLiB,MAAO,SACPuQ,UAAW,SACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEboY,QAAS6S,GAA8B,GACvC5S,SAAU,SAACznB,EAAE4V,GAAH,OAAiC,IAAxBA,EAAExD,OAAOsV,QAAQ1nB,IACpCqP,OAAQ,SAACqsB,GAAD,OACN,cAAC,KAAD,CAAS77B,UAAU,UAAUlB,MAAO+8B,EAApC,SACGA,MAIP,CACEh+B,IAAK,aACLiB,MAAO,aACPuQ,UAAW,aACXhQ,MAAO,IACPhF,MAAO,SACPstB,QAAS8S,GAAoC,GAC7C7S,SAAU,SAACznB,EAAE4V,GAAH,OAAqC,IAA5BA,EAAEnJ,WAAWib,QAAQ1nB,IACxCqP,OAAQ,SAACjW,GAAD,OAAO,cAAC,GAAD,CAAW+U,OAAQ/U,MAEpC,CACEsE,IAAK,gBACLiB,MAAO,gBACPuQ,UAAW,gBACXhQ,MAAO,IACPhF,MAAO,SACPstB,QAAS+S,GAA0C,GACnD9S,SAAU,SAACznB,EAAE4V,GAAH,OAAwC,IAA/BA,EAAE+lB,cAAcjU,QAAQ1nB,IAC3CqP,OAAQ,SAACjW,GAAD,OAAO,cAAC,GAAD,CAAW+U,OAAQ/U,MAEpC,CACEsE,IAAK,WACLiB,MAAO,WACPuQ,UAAW,WACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEboY,QAASoE,GAAkC,GAC3CnE,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAEnD,cACcrb,IAAfwe,EAAEnD,UAC0B,IAA9BmD,EAAEnD,SAAS9I,IAAI+d,QAAQ1nB,IAKlCqP,OAAQ,SAACzQ,GAAD,OACN,cAAC,KAAD,CAASiB,UAAU,UAAUlB,MAAOC,EAAIA,EAAE/F,OAAO,IAAjD,SACG+F,EAAIA,EAAE/F,OAAO,QAIpB,CACE6E,IAAK,UACLiB,MAAO,cACPuQ,UAAW,UACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEboY,QAASgH,GAAgC,GACzC/G,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAE7Q,aACa3N,IAAdwe,EAAE7Q,SACyB,IAA7B6Q,EAAE7Q,QAAQ4E,IAAI+d,QAAQ1nB,IAKjCqP,OAAQ,SAACC,GAAD,OACN,cAAC,KAAD,CAASzP,UAAU,UAAUlB,MAAO2Q,EAAIA,EAAEzW,OAAO,IAAIyW,EAAE/E,UAAU,IAAjE,SACG+E,EAAIA,EAAEzW,OAAO,IAAIyW,EAAE/E,UAAU,QAIpC,CACE7M,IAAK,kBACLiB,MAAO,mBACPuQ,UAAW,kBACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEboY,QAASgT,GAAgD,GACzD/S,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAEgmB,qBACqBxkC,IAAtBwe,EAAEgmB,iBACiC,IAArChmB,EAAEgmB,gBAAgBjyB,IAAI+d,QAAQ1nB,IAKzCqP,OAAQ,SAACC,GAAD,OACN,cAAC,KAAD,CAASzP,UAAU,UAAUlB,MAAO2Q,EAAIA,EAAEzW,OAAO,IAAIyW,EAAE/E,UAAU,IAAjE,SACG+E,EAAIA,EAAEzW,OAAO,IAAIyW,EAAE/E,UAAU,QAIpC,CACE7M,IAAK,qBACLiB,MAAO,qBACPuQ,UAAW,qBACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEbC,OAAQ,SAACK,GAAD,OAAO,eAAC,KAAD,CAAS7P,UAAU,UAAUlB,MAAO+Q,EAApC,UAAwCA,EAAxC,SAEjB,CACEhS,IAAK,cACLiB,MAAO,YACPuQ,UAAW,cACXhQ,MAAO,KAET,CACExB,IAAK,aACLiB,MAAO,aACPuQ,UAAW,aACXhQ,MAAO,IACPmQ,OAAQ,SAAC0hB,GACP,OAAIA,EACKpmB,KAAOomB,GAAOhc,OAAO,YAErB,MAIb,CACErX,IAAK,iBACLiB,MAAO,iBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAAC0hB,GACP,OAAIA,EACKpmB,KAAOomB,GAAOhc,OAAO,kBAErB,MAIb,CACErX,IAAK,iBACLiB,MAAO,iBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAAC0hB,GACP,OAAIA,EACKpmB,KAAOomB,GAAOhc,OAAO,kBAErB,O,ICvZTtT,GAASuR,KAATvR,KC6GO8T,OA7Gf,YAA2D,IAA/B5V,EAA8B,EAA9BA,QAAS6V,EAAqB,EAArBA,MAAOsjB,EAAc,EAAdA,MAAOpqB,EAAO,EAAPA,KAAO,EAChBhP,mBAAS,IADO,oBACjDm8B,EADiD,KACnCC,EADmC,OAEZp8B,oBAAS,GAFG,oBAEjDq8B,EAFiD,KAEjCC,EAFiC,iDAWxD,sBAAArmC,EAAA,6DACEqmC,GAAkB,GADpB,SAEevD,IAAW,EAAO,CAAEn0B,OAAQkB,GAAwB1M,GAAIggC,IAClExiC,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAEJulC,EADEvlC,GAGc,OAEjBO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAMsyB,GAAkB,MATxE,oFAXwD,sBAuBxD,OAnBAliC,qBAAU,WACJ9B,OAAO8gC,GAAO38B,OAAS,GAL2B,mCAMpD8/B,KAGD,CAACnD,IAcApqB,IAAS7B,GAET,cAAC,KAAD,CACElO,MAAM,gBACNgB,QAASA,EACTwW,SAAUX,EACVU,KAAMV,EACNtW,MAAM,OACNwe,gBAAc,EACdrH,UAAQ,EAPV,SAUI0lB,EACA,cAAC,KAAD,CAAMh5B,UAAQ,IAEd,eAAC,KAAD,CACEwT,UAAQ,EACRtT,KAAK,QAFP,UAIE,cAAC,KAAajI,KAAd,CAAmB4S,MAAM,gBAAzB,SAA0CiuB,GAAgBA,EAAavC,qBAAuBuC,EAAavC,qBAAuB,MAClI,cAAC,KAAat+B,KAAd,CAAmB4S,MAAM,iBAAzB,SAA2CiuB,GAAgBA,EAAanD,eAAiBmD,EAAanD,eAAiB,MACvH,cAAC,KAAa19B,KAAd,CAAmB4S,MAAM,OAAzB,SAAiCiuB,GAAgBA,EAAaV,YAAcU,EAAaV,YAAc,MACvG,cAAC,KAAangC,KAAd,CAAmB4S,MAAM,WAAzB,SAAqCiuB,GAAgBA,EAAaL,SAAWK,EAAaL,SAAW,KACrG,cAAC,KAAaxgC,KAAd,CAAmB4S,MAAM,WAAzB,SAAqCiuB,GAAgBA,EAAaK,kBAAoBL,EAAaK,kBAAoB,KACvH,cAAC,KAAalhC,KAAd,CAAmB4S,MAAM,aAAzB,SAAuCiuB,GAAgBA,EAAaM,oBAAsBN,EAAaM,oBAAsB,KAC7H,cAAC,KAAanhC,KAAd,CAAmB4S,MAAM,gBAAzB,SAAuCiuB,GAAgBA,EAAaZ,gBAAkBY,EAAaZ,gBAAkB,KACrH,cAAC,KAAajgC,KAAd,CAAmB4S,MAAM,aAAzB,SAAuCiuB,GAAgBA,EAAa5C,WAAatuB,KAAOkxB,EAAa5C,YAAYlkB,OAAO,YAAc,MACtI,cAAC,KAAa/Z,KAAd,CAAmB4S,MAAM,iBAAzB,SAA2CiuB,GAAgBA,EAAa5B,eAAiBtvB,KAAOkxB,EAAa5B,gBAAgBllB,OAAO,kBAAoB,MACxJ,cAAC,KAAa/Z,KAAd,CAAmB4S,MAAM,QAAzB,SACGiuB,GAAgBA,EAAa5B,eAC9B,cAAC,GAAD,CAAUlJ,MAAO8K,EAAa5B,eAAgBvrB,KAAMmtB,EAAantB,KAAMqK,WAAY8iB,EAAa9B,cAC9F,MAEJ,cAAC,KAAa/+B,KAAd,CAAmB4S,MAAM,UAAUhK,KAAM,EAAzC,SAA6Ci4B,GAAgBA,EAAaO,eAAiBP,EAAaO,eAAiB,KACzH,cAAC,KAAaphC,KAAd,CAAmB4S,MAAM,eAAYhK,KAAM,EAA3C,SAA+Ci4B,GAAgBA,EAAaJ,UAAYI,EAAaJ,UAAY,KACjH,cAAC,KAAazgC,KAAd,CAAmB4S,MAAM,kBAAkBhK,KAAM,EAAjD,SAAqDi4B,GAAgBA,EAAaQ,gBAAkBR,EAAaQ,gBAAkB,KACnI,cAAC,KAAarhC,KAAd,CAAmB4S,MAAM,qBAAqBhK,KAAM,EAApD,SAAwDi4B,GAAgBA,EAAaS,mBAAqBT,EAAaS,mBAAqB,KAC5I,cAAC,KAAathC,KAAd,CAAmB4S,MAAM,kBAAkBhK,KAAM,EAAjD,SAAqDi4B,GAAgBA,EAAaU,gBAAkBV,EAAaU,gBAAkB,UAOzI,cAAC,KAAD,CACE59B,MAAM,gBACNgB,QAASA,EACTwW,SAAUX,EACVU,KAAMV,EACNtW,MAAM,OACNwe,gBAAc,EACdrH,UAAQ,EAPV,SAUI0lB,EACA,cAAC,KAAD,CAAMh5B,UAAQ,IAEd,eAAC,KAAD,CACEwT,UAAQ,EACRtT,KAAK,QAFP,UAIE,cAAC,KAAajI,KAAd,CAAmB4S,MAAM,gBAAzB,SAA0CiuB,GAAgBA,EAAavC,qBAAuBuC,EAAavC,qBAAuB,MAClI,cAAC,KAAat+B,KAAd,CAAmB4S,MAAM,iBAAzB,SAA2CiuB,GAAgBA,EAAanD,eAAiBmD,EAAanD,eAAiB,MACvH,cAAC,KAAa19B,KAAd,CAAmB4S,MAAM,kBAAzB,SAA4CiuB,GAAgBA,EAAaW,gBAAkBX,EAAaW,gBAAkB,MAC1H,cAAC,KAAaxhC,KAAd,CAAmB4S,MAAM,gBAAzB,SAA0CiuB,GAAgBA,EAAaY,eAAiBZ,EAAaY,eAAiB,MACtH,cAAC,KAAazhC,KAAd,CAAmB4S,MAAM,oBAAzB,SAA8CiuB,GAAgBA,EAAaltB,kBAAoBktB,EAAaltB,kBAAoB,MAChI,cAAC,KAAa3T,KAAd,CAAmB4S,MAAM,gBAAzB,SAAuCiuB,GAAgBA,EAAaZ,gBAAkBY,EAAaZ,gBAAkB,KACrH,cAAC,KAAajgC,KAAd,CAAmB4S,MAAM,aAAzB,SAAuCiuB,GAAgBA,EAAa5C,WAAatuB,KAAOkxB,EAAa5C,YAAYlkB,OAAO,YAAc,MACtI,cAAC,KAAa/Z,KAAd,CAAmB4S,MAAM,UAAUhK,KAAM,EAAzC,SAA6Ci4B,GAAgBA,EAAaO,eAAiBP,EAAaO,eAAiB,KACzH,cAAC,KAAaphC,KAAd,CAAmB4S,MAAM,kBAAkBhK,KAAM,EAAjD,SAAqDi4B,GAAgBA,EAAaQ,gBAAkBR,EAAaQ,gBAAkB,KACnI,cAAC,KAAarhC,KAAd,CAAmB4S,MAAM,qBAAqBhK,KAAM,EAApD,SAAwDi4B,GAAgBA,EAAaS,mBAAqBT,EAAaS,mBAAqB,KAC5I,cAAC,KAAathC,KAAd,CAAmB4S,MAAM,kBAAkBhK,KAAM,EAAjD,SAAqDi4B,GAAgBA,EAAaU,gBAAkBV,EAAaU,gBAAkB,W,UCvDhIG,OA9Cf,YAAqF,IAA7D/8B,EAA4D,EAA5DA,QAAS6V,EAAmD,EAAnDA,MAAOmnB,EAA4C,EAA5CA,aAA4C,IAA9BC,uBAA8B,MAAd,GAAc,EAAVtf,EAAU,EAAVA,QAAU,EACxB5d,mBAAS,IADe,oBAC3Em9B,EAD2E,KACpDC,EADoD,KAGlFhjC,qBAAU,WACH8iC,GAAmBA,EAAgBzgC,OAAS,GAC/C2gC,EAAyBF,KAE1B,CAACA,IAEJ,IAAMG,EAAoB,uCAAG,sBAAApnC,EAAA,sDAC3B2nB,EAAQuf,GADmB,2CAAH,qDAI1B,OACE,eAAC,KAAD,CACEl+B,MAAM,sBACNgB,QAASA,EACTT,MAAO,IACPiX,SAAUX,EACVU,KAAM6mB,EACN1mB,UAAQ,EANV,UAQE,qDACA,cAAC,KAAD,CACEjW,WAAYu8B,EACZK,WAAYH,EACZI,OAAQ,CAAC,cAAe,WACxBC,UAAW,CACTh+B,MAAO,IACP7E,OAAQ,KAEV+P,SAAU,SAAChR,GAAD,OAAO0jC,EAAyB1jC,IAC1CiW,OAAQ,SAAA7O,GAAI,OAAIA,EAAK7B,aC0Kdw+B,OAjMf,YAAuK,IAAD,IAA9IC,iBAA8I,SAA7H7mC,EAA6H,EAA7HA,KAAMT,EAAuH,EAAvHA,QAASunC,EAA8G,EAA9GA,qBAAsBC,EAAwF,EAAxFA,wBAAyBxC,EAA+D,EAA/DA,eAAgBC,EAA+C,EAA/CA,cAAenB,EAAgC,EAAhCA,cAAeR,EAAiB,EAAjBA,cAAiB,EACtH15B,mBAAS,IAD6G,oBAC7Jk9B,EAD6J,KAC5IW,EAD4I,OAExH79B,mBAAS,IAF+G,oBAE7J06B,EAF6J,KAE7IoD,EAF6I,OAG5H99B,mBAAS,IAHmH,oBAG7J26B,EAH6J,KAG/IoD,EAH+I,OAItH/9B,mBAAS,IAJ6G,oBAI7J46B,EAJ6J,KAI5IoD,EAJ4I,OAKhHh+B,mBAAS,IALuG,oBAK7J66B,EAL6J,KAKzIoD,EALyI,OAMxHj+B,mBAAS,IAN+G,oBAM7JksB,EAN6J,KAM7IC,EAN6I,OAO1HnsB,mBAAS,IAPiH,oBAO7J8uB,EAP6J,KAO9IC,EAP8I,OAQ1G/uB,mBAAS,IARiG,oBAQ7J86B,EAR6J,KAQtIoD,EARsI,OAShIl+B,mBAAS,IATuH,oBAS7Jg6B,EAT6J,KASjJmE,EATiJ,OAUtGn+B,mBAAS,IAV6F,oBAU7J+6B,GAV6J,KAUpIqD,GAVoI,QAW5Gp+B,mBAAS,IAXmG,sBAW7Jg7B,GAX6J,MAWvIqD,GAXuI,SAYlIr+B,mBAAS,IAZyH,sBAY7Ji7B,GAZ6J,MAYlJqD,GAZkJ,SAahIt+B,mBAAS,IAbuH,sBAa7Jk7B,GAb6J,MAajJqD,GAbiJ,SAc9Hv+B,mBAAS,IAdqH,sBAc7Jm7B,GAd6J,MAchJqD,GAdgJ,SAexHx+B,mBAAS,IAf+G,sBAe7Ji6B,GAf6J,MAe7IwE,GAf6I,SAgBxHz+B,mBAAS,MAhB+G,sBAgB7J0+B,GAhB6J,MAgB7IC,GAhB6I,SAiB5H3+B,oBAAS,GAjBmH,sBAiB7JmX,GAjB6J,MAiB/IC,GAjB+I,SAkB1HpX,oBAAS,GAlBiH,sBAkB7J4+B,GAlB6J,MAkB9IC,GAlB8I,SAmB5I7+B,mBAAS,MAnBmI,sBAmB7JgP,GAnB6J,MAmBvJ8vB,GAnBuJ,eAoCrJC,KApCqJ,8EAoCpK,sBAAA9oC,EAAA,sEACe0O,IAAa,EAAMoB,GAAQuB,2BACrC1Q,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACFA,GAAQA,EAAKuO,UACfy4B,EAAmBhnC,EAAKuO,aAEzBhO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MANlC,oFApCoK,oEA6CpK,WAAqCO,GAArC,SAAA3B,EAAA,6DACE4oC,IAAiB,GADnB,SAEe/5B,IAAe,EAAM,CAAEM,SAAUxN,EAAMgN,OAAQmB,GAAQwB,gCACjE3Q,MAAK,kBAAMmoC,QAHhB,oFA7CoK,sBAqBpK3kC,qBAAU,WACR2kC,OACA,IAEF3kC,qBAAU,WACJ8iC,GAAmBA,EAAgBzgC,OAAS,GAC9Cm6B,OAGF,CAACsG,IAEH9iC,qBAAU,WACR4kC,GAAkBnoC,KAClB,CAACA,IAiBH,IAAM4gB,GAAoB,kBAAML,IAAiBD,KAC3C8nB,GAAqB,kBAAMJ,IAAkBD,KAQ7CI,GAAoB,SAACnoC,GACrBA,GAAQA,EAAK4F,OAAS,IACxBqhC,EAAkB3Y,GAAoBtuB,EAAM,aAC5CknC,EAAgB5Y,GAAoBtuB,EAAM,WAC1CmnC,EAAmB7Y,GAAoBtuB,EAAM,eAC7ConC,EAAsB9Y,GAAoBtuB,EAAM,kBAChDunC,GAA2BjZ,GAAoBtuB,EAAM,uBACrDwnC,GAAwBlZ,GAAoBtuB,EAAM,oBAClDynC,GAAanZ,GAAoBtuB,EAAM,eACvC0nC,GAAcpZ,GAAoBtuB,EAAM,gBACxC2nC,GAAerZ,GAAoBtuB,EAAM,iBACzC4nC,GAAkBtZ,GAAoBtuB,EAAM,gBAC5Cs1B,EAAkBrH,GAAgBjuB,EAAM,aACxCk4B,EAAiBjK,GAAgBjuB,EAAM,YACvCqnC,EAAyBpZ,GAAgBjuB,EAAM,oBAC/CsnC,EAAchZ,GAAoBtuB,EAAM,QAAQ,MAI9C+/B,GAAkB,WACtB,OAAK8G,EJ4UF,WAmBH,IAnBkCR,EAmBnC,uDAnBmD,GAmBnD,6CAlBDlD,kBAkBC,MAlBU,GAkBV,MAjBDU,sBAiBC,MAjBc,GAiBd,MAhBDC,oBAgBC,MAhBY,GAgBZ,MAfDC,uBAeC,MAfe,GAef,MAdDC,0BAcC,MAdkB,GAclB,MAbD3O,sBAaC,MAbc,GAad,MAZD4C,qBAYC,MAZa,GAYb,MAXDgM,6BAWC,MAXqB,GAWrB,MAVDC,+BAUC,MAVuB,GAUvB,MATDC,4BASC,MAToB,GASpB,MARDC,iBAQC,MARS,GAQT,MAPDC,kBAOC,MAPU,GAOV,MANDC,mBAMC,MANW,GAMX,MALDlB,sBAKC,MALc,GAKd,EAJDmB,EAIC,EAJDA,eACAC,EAGC,EAHDA,cACAnB,EAEC,EAFDA,cACAR,EACC,EADDA,cAEA,GAAIwD,GAAmBA,EAAgBzgC,OAAS,EAAG,CACjD,IAAIyiC,EAAc,GAClBhC,EAAgBruB,SAAQ,SAAC7Q,GACvB,IAAImhC,EAAQ1E,GAAyB,CAAEC,iBAAgBC,eAAcC,kBAAiBC,qBAAoB3O,iBAAgB4C,gBAAegM,wBACvIC,0BAAyBC,uBAAqBC,YAAWC,aAAYC,cAAaC,iBAAgBC,kBAAiBnW,WAAU,SAACxrB,GAAD,OAAOA,EAAE8V,YAAcxR,KAClJmhC,GAAS,GACXD,EAAY/kC,KAAKsgC,GAAyB,CAAEC,iBAAgBC,eAAcC,kBAAiBC,qBAAoB3O,iBAAgB4C,gBAAegM,wBAC5IC,0BAAyBC,uBAAqBC,YAAWC,aAAYC,cAAaC,iBAAgBC,kBAAiB8D,OAGzH,IAAIC,EAAaF,EAAYpyB,QAAO,SAACpT,GAAD,OAAOA,KACvC2lC,EAAOtF,GAAmB,CAACC,aAAYC,iBAAgBC,gBAAeR,kBAE1E,OADA2F,EAAKlN,OAAL,MAAAkN,EAAI,CAAQ,EAAG,GAAX,oBAAiBD,KACdC,EAEP,IAAIA,EAAOtF,GAAmB,CAACC,aAAYC,iBAAgBC,gBAAeR,kBAkB1E,OAjBA2F,EAAKlN,OAAL,MAAAkN,EAAI,CAAQ,EAAG,GAAX,oBAAiB5E,GAAyB,CAC5CC,iBACAC,eACAC,kBACAC,qBACA3O,iBACA4C,gBACAgM,wBACAC,0BACAC,uBACAC,YACAC,aACAC,cACAC,iBACAC,qBAGKgE,EI3WEC,CAAsBpC,EAAiB,CAC5CxC,iBACAV,aACAW,eACAC,kBACAC,qBACA3O,iBACA4C,gBACAgM,wBACAC,2BACAC,wBACAC,aACAC,cACAjB,kBACAkB,eACAC,iBACAC,gBACAnB,gBACAR,kBHxHO,WAmBZ,IALDO,EAKA,0DALe,GACfmB,EAIA,yCAHAC,EAGA,yCAFAnB,EAEA,yCADAR,EACA,yCAEA,MAAO,CACL,CACEz6B,MAAO,IACPO,MAAO,GACPyoB,MAAO,OACPtY,OAAQ,SAACzE,EAAE+K,EAAGnX,GAAN,OAAYA,EAAE,IAExB,CACEG,MAAO,OACPuQ,UAAW,OACXhQ,MAAO,IACPyoB,MAAO,OACPH,SAdJ,uDAjBW,KA+B4B,GACnCC,SAAU,SAACznB,EAAE4V,GAAH,OAA+B,IAAtBA,EAAElH,KAAKgZ,QAAQ1nB,IAClCqP,OAAQ,SAACC,GAAD,OAAOA,EAAIV,GAAYU,GAAK,MAEtC,CACE3Q,MAAO,gBACPuQ,UAAW,uBACXhQ,MAAO,IACPyoB,MAAO,OACPtY,OAAQ,SAACwqB,EAAK9jB,GACZ,OAAIA,EAAIpH,mBAAqBrC,GAAW5N,SAASqX,EAAIpH,mBAC5C,CACLpS,MAAO,CACLpC,MAAO,CAAEwX,WAAY,YAEvB7U,SAAU,cAAC,GAAD,CAAM+Y,UAAQ,EAACikB,QAAM,EAAC3/B,MAAO,CAAEmH,MAAO,WAAtC,SAAmDu4B,KAGxD,cAAC,GAAD,CAAMhkB,UAAQ,EAACikB,QAAM,EAArB,SAAuBD,MAIpC,CACEl7B,MAAO,iBACPuQ,UAAW,iBACXhQ,MAAO,IACPyoB,MAAO,OACPtY,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEl7B,MAAO,YACPuQ,UAAW,qBACXhQ,MAAO,IACPhF,MAAO,SACPstB,SAhDJ,uDAVwB,KA0DyC,GAC7DC,SAAU,SAACznB,EAAE4V,GAAH,OAA6C,IAApCA,EAAEolB,mBAAmBtT,QAAQ1nB,KAElD,CACErB,MAAO,aACPuQ,UAAW,kBACXhQ,MAAO,IACPsoB,SAvDJ,uDATqB,KAgEsC,GACvDC,SAAU,SAACznB,EAAE4V,GAAH,OAA0C,IAAjCA,EAAEqlB,gBAAgBvT,QAAQ1nB,KAE/C,CACErB,MAAO,gBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEl7B,MAAO,WACPuQ,UAAW,kBACXhQ,MAAO,IACPmQ,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEl7B,MAAO,MACPuQ,UAAW,aACXhQ,MAAO,GACPsoB,SA1EJ,0DARU,KAkF2B,GACjCC,SAAU,SAACznB,EAAE4V,GAAH,OAAqD,IAA5C5d,OAAO4d,EAAEslB,YAAYxT,QAAQ1vB,OAAOgI,MAEzD,CACErB,MAAO,OACPuQ,UAAW,cACXhQ,MAAO,GACPsoB,SAjFJ,0DAPW,KAwF4B,GACnCC,SAAU,SAACznB,EAAE4V,GAAH,OAAsD,IAA7C5d,OAAO4d,EAAEulB,aAAazT,QAAQ1vB,OAAOgI,MAE1D,CACErB,MAAO,QACPuQ,UAAW,eACXhQ,MAAO,GACPsoB,SAxFJ,0DANY,KA8F6B,GACrCC,SAAU,SAACznB,EAAE4V,GAAH,OAAuD,IAA9C5d,OAAO4d,EAAEwlB,cAAc1T,QAAQ1vB,OAAOgI,KACzDuP,OAAQ,SAAC5Z,EAAG6Z,GACV,OAAI7Z,EAAEylC,aAAe5rB,EAAE4rB,cACb,EAENzlC,EAAEylC,aAAe5rB,EAAE4rB,aACd,EAEF,IAGX,CACEz8B,MAAO,YACPuQ,UAAW,mBACXhQ,MAAO,IACPhF,MAAO,SACPqV,OAAQ,SAAC5Z,EAAE6Z,GAAH,OAAS7Z,EAAE0lC,iBAAmB7rB,EAAE6rB,kBACxChsB,OAAQ,SAACuG,EAAG6E,GACV,OAAI7E,GAAW,MAANA,GAAmB,MAANA,EACb,cAAC,KAAD,CAAKtU,MAAM,UAAUK,QAAS,kBAAMm5B,EAAergB,EAAIie,iBAAiBv+B,MAAO,CAAEwkB,OAAQ,WAAzF,SAAuG/I,IAEvG,MAIb,CACEjX,MAAO,WACPuQ,UAAW,WACXhQ,MAAO,IACPhF,MAAO,SACPstB,QAAS,CAAC,CAACxa,KAAM,KAAMnQ,OAAO,GAAO,CAACmQ,KAAM,KAAMnQ,OAAO,IACzD4qB,SAAU,SAACznB,EAAE4V,GACX,OAAI5V,EACK4V,EAAE0lB,UAED1lB,EAAE0lB,UAGdjsB,OAAQ,SAACksB,GACP,OAAIA,GAAOA,EAAIjC,qBACN,cAAC,KAAD,CAAKh4B,MAAM,OAAOK,QAAS,kBAAMo5B,EAAcQ,IAAMphC,MAAO,CAAEwkB,OAAQ,WAAtE,gBAEA,MAIb,CACEhgB,MAAO,WACPuQ,UAAW,WACXhQ,MAAO,IACPsoB,SA3IJ,uDAlBe,KA6JgC,GAC3CC,SAAU,SAACznB,EAAE4V,GAAH,OAAmC,IAA1BA,EAAE4lB,SAAS9T,QAAQ1nB,KAExC,CACErB,MAAO,SACPuQ,UAAW,SACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEboY,SArJJ,uDAhBa,KAqK8B,GACvCC,SAAU,SAACznB,EAAE4V,GAAH,OAAiC,IAAxBA,EAAExD,OAAOsV,QAAQ1nB,IACpCqP,OAAQ,SAACqsB,GAAD,OACN,cAAC,KAAD,CAAS77B,UAAU,UAAUlB,MAAO+8B,EAApC,SACGA,MAIP,CACE/8B,MAAO,aACPuQ,UAAW,aACXhQ,MAAO,IACPhF,MAAO,SACPstB,SAlKJ,uDAfgB,KAiLiC,GAC7CC,SAAU,SAACznB,EAAE4V,GAAH,OAAqC,IAA5BA,EAAEnJ,WAAWib,QAAQ1nB,IACxCqP,OAAQ,SAACjW,GAAD,OAAO,cAAC,GAAD,CAAW+U,OAAQ/U,MAEpC,CACEuF,MAAO,gBACPuQ,UAAW,gBACXhQ,MAAO,IACPhF,MAAO,SACPstB,SA3KJ,uDAdmB,KAyLoC,GACnDC,SAAU,SAACznB,EAAE4V,GAAH,OAAwC,IAA/BA,EAAE+lB,cAAcjU,QAAQ1nB,IAC3CqP,OAAQ,SAACjW,GAAD,OAAO,cAAC,GAAD,CAAW+U,OAAQ/U,MAEpC,CACEuF,MAAO,WACPuQ,UAAW,WACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEboY,SAtLJ,uDAbe,KAmMgC,GAC3CC,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAEnD,cACcrb,IAAfwe,EAAEnD,UAC0B,IAA9BmD,EAAEnD,SAAS9I,IAAI+d,QAAQ1nB,IAKlCqP,OAAQ,SAACzQ,GAAD,OACN,cAAC,KAAD,CAASiB,UAAU,UAAUlB,MAAOC,EAAIA,EAAE/F,OAAO,IAAjD,SACG+F,EAAIA,EAAE/F,OAAO,QAIpB,CACE8F,MAAO,cACPuQ,UAAW,UACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEboY,SA7MJ,uDAZc,KAyN+B,GACzCC,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAE7Q,aACa3N,IAAdwe,EAAE7Q,SACyB,IAA7B6Q,EAAE7Q,QAAQ4E,IAAI+d,QAAQ1nB,IAKjCqP,OAAQ,SAACC,GAAD,OACN,cAAC,KAAD,CAASzP,UAAU,UAAUlB,MAAO2Q,EAAIA,EAAEzW,OAAO,IAAIyW,EAAE/E,UAAU,IAAjE,SACG+E,EAAIA,EAAEzW,OAAO,IAAIyW,EAAE/E,UAAU,QAIpC,CACE5L,MAAO,mBACPuQ,UAAW,kBACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEboY,SApOJ,uDAXsB,KA+OuC,GACzDC,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAEgmB,qBACqBxkC,IAAtBwe,EAAEgmB,iBACiC,IAArChmB,EAAEgmB,gBAAgBjyB,IAAI+d,QAAQ1nB,IAKzCqP,OAAQ,SAACC,GAAD,OACN,cAAC,KAAD,CAASzP,UAAU,UAAUlB,MAAO2Q,EAAIA,EAAEzW,OAAO,IAAIyW,EAAE/E,UAAU,IAAjE,SACG+E,EAAIA,EAAEzW,OAAO,IAAIyW,EAAE/E,UAAU,QAIpC,CACE5L,MAAO,qBACPuQ,UAAW,qBACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEbC,OAAQ,SAACK,GAAD,OAAO,eAAC,KAAD,CAAS7P,UAAU,UAAUlB,MAAO+Q,EAApC,UAAwCA,EAAxC,SAEjB,CACE/Q,MAAO,aACPuQ,UAAW,aACXhQ,MAAO,IACPmQ,OAAQ,SAAC0hB,GACP,OAAIA,EACKpmB,KAAOomB,GAAOhc,OAAO,YAErB,MAIb,CACEpW,MAAO,iBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAAC0hB,GACP,OAAIA,EACKpmB,KAAOomB,GAAOhc,OAAO,kBAErB,MAIb,CACEpW,MAAO,iBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAAC0hB,GACP,OAAIA,EACKpmB,KAAOomB,GAAOhc,OAAO,kBAErB,MAIb,CACEpW,MAAO,YACPuQ,UAAW,cACXhQ,MAAO,IACPhF,MAAO,SACPytB,MAAO,QACPH,QAASmS,EAAiBA,EAAentB,QAAO,SAACpT,GAAD,OAAOA,EAAE4T,QAAQ,GACjEya,SAAU,SAACznB,EAAE4V,GACX,SAAIA,EAAEmkB,cAAe/5B,IACkB,IAA7B4V,EAAEmkB,YAAYrS,QAAQ1nB,IAKlCqP,OAAQ,SAAC2qB,GACP,OAAIA,EACK,cAAC,KAAD,CAAK14B,MAAM,OAAX,SAAmB04B,SAE1B,IAIN,CACEr7B,MAAO,QACPuQ,UAAW,iBACXhQ,MAAO,GACPhF,MAAO,SACPytB,MAAO,QACPpY,OAAQ,SAAC5Z,EAAG6Z,GACV,OAAI7E,OAASsL,KAAKtgB,EAAEskC,eAAgB,SAAWtvB,OAASsL,KAAKzG,EAAEyqB,eAAgB,UACrE,EAENtvB,OAASsL,KAAKtgB,EAAEskC,eAAgB,SAAWtvB,OAASsL,KAAKzG,EAAEyqB,eAAgB,SACtE,EAEF,GAET5qB,OAAQ,SAAC0hB,EAAOhb,GAAR,OAAgB,cAAC,GAAD,CAAUgb,MAAOA,EAAOriB,KAAMqH,EAAIrH,KAAMqK,WAAYhD,EAAIgkB,gBAElF,CACEp7B,MAAO,WACPuQ,UAAW,MACXhQ,MAAO,GACPhF,MAAO,SACPytB,MAAO,QACPtY,OAAQ,SAACvW,EAAIid,GAAL,OACN,gCACE,cAACmkB,GAAA,EAAD,CACE//B,MAAO,CAAEmX,SAAU,SAAU/P,YAAa,SAC1CI,QAAS,kBAAMi4B,EAAc9gC,MAE/B,cAAC,GAAD,CAAgBid,IAAKA,EAAKqjB,cAAeA,UGtRtC6F,CACL7E,EACAV,EACAW,EACAC,EACAC,EACA3O,EACA4C,EACAgM,EACAC,GACAC,GACAC,GACAC,GACAC,GACAlB,GACAmB,EACAC,EACAnB,EACAR,IA0BN,OACE,gCACE,cAAC,KAAD,CACExnB,OAAO,MACPmW,MAAO,SAACC,GACN,MAAO,CACLC,cAAe,kBA7EJ,SAACnvB,EAAI4V,GACxB2vB,GAAkBvlC,GAClB0lC,GAAQ9vB,GACRyI,KA0E6BO,CAAasQ,EAAOre,IAAKqe,EAAOtZ,SAGzD6e,aAAc,CACZC,YAAa,GACbC,gBAAiB4P,EACjBjzB,SAAU,SAAChR,GAAD,OAAOkkC,EAAwBlkC,KAE3CyY,QAASykB,KACTl2B,WAAY7J,EACZT,QAASA,EACTmN,KAAK,QACLuT,OAAQ,CAAEC,EAAG,QACb3E,WAAY,CACV2W,gBAAiB,GACjBC,gBAAiB,CAAC,GAAG,IAAI,MAE3BtS,OAAQ,WACN,OAAIgnB,EACK,cAAC,IAAD,CAAQz/B,KAAM,cAAC+D,GAAA,EAAD,IAAoBC,QAASg9B,GAAoB3kC,KAAK,UAApE,0BACO,QAIpB,cAAC,GAAD,CAAmB2F,QAASkX,GAAcrB,MAAO2B,GAAmB2hB,MAAOsF,GAAgB1vB,KAAMA,KAEjG,cAAC,GAAD,CACE/O,QAAS2+B,GACT9oB,MAAOmpB,GACPhC,aAAcxC,GAAyB,CACrCvO,iBACA2O,qBACAD,kBACAD,eACAD,iBACAO,aACAC,cACAC,eACArM,gBACAgM,wBACAC,2BACAC,0BAEFkC,gBAAiBA,EACjBtf,QA/K8J,mD,UC+GvJ+G,OAnHf,YAA6D,IAAtC1kB,EAAqC,EAArCA,QAAS6V,EAA4B,EAA5BA,MAAO1f,EAAqB,EAArBA,QAASopC,EAAY,EAAZA,UAAY,EAEdx/B,oBAAS,GAFK,oBAEnDy/B,EAFmD,KAEnCC,EAFmC,OAGlB1/B,mBAAS,IAHS,oBAGnD2/B,EAHmD,KAGrCC,EAHqC,KAQpDC,EAAa,uCAAG,WAAOlnC,GAAP,SAAA1C,EAAA,sDAChB0C,IACF+mC,GAAkB,GAClBE,EAAgBjnC,IAHE,2CAAH,sDAObyM,EAAW,CACf,CACEnG,MAAO,IACPO,MAAO,GACPmQ,OAAQ,SAACzE,EAAE+K,EAAGnX,GAAN,OAAYA,EAAE,IAExB,CACEG,MAAO,UACPuQ,UAAW,kBACXhQ,MAAO,IACPmQ,OAAQ,SAACkY,GAAD,OAAOA,EAAIA,EAAE1uB,OAAS,IAAM0uB,EAAEhd,UAAY,MAEpD,CACE5L,MAAO,eACPuQ,UAAW,eACXhQ,MAAO,IACPmQ,OAAQ,SAACjW,GAAD,OAAO,cAAC,GAAD,CAAW+U,OAAQ/U,MAEpC,CACEuF,MAAO,sBACPuQ,UAAW,sBACXhQ,MAAO,IACPmQ,OAAQ,SAACkY,GAAD,OAAOA,EAAIA,EAAE1uB,OAAS,IAAM0uB,EAAEhd,UAAY,MAEpD,CACE5L,MAAO,gBACPuQ,UAAW,sBACXhQ,MAAO,IACPmQ,OAAQ,SAACkY,GAAD,OAAOA,GAAKA,EAAErmB,SAAWqmB,EAAErmB,QAAQnI,MAAQ,cAACgqB,GAAD,CAAUhqB,MAAOwuB,EAAErmB,QAAQnI,QAAY,MAE5F,CACE4F,MAAO,sBACPuQ,UAAW,sBACXhQ,MAAO,IACPmQ,OAAQ,SAACzQ,GAAD,OAAOA,EAAIA,EAAE/F,OAAS,MAEhC,CACE8F,MAAO,cACPuQ,UAAW,cACXhQ,MAAO,KAET,CACEP,MAAO,gBACPuQ,UAAW,gBACXhQ,MAAO,IACPmQ,OAAQ,SAACyG,GAAD,OAAOA,EAAInL,KAAOmL,GAAGf,OAAO,oBAAsB,MAE5D,CACEpW,MAAO,WACPuQ,UAAW,WACXhQ,MAAO,IACPmQ,OAAQ,SAACrE,GACP,GAAIA,GAAOA,EAAI7O,OAAS,EACtB,OACE6O,EAAI5O,KAAI,SAAChD,EAAEoF,GAAH,OACN,cAACghC,GAAA,EAAD,CAEE79B,QAAS,kBAAM49B,EAAcnmC,EAAEf,MAC/B8B,MAAO,CAAEoH,YAAa,QAAS+I,aAAc,QAASgH,SAAU,WAF3D9S,SAWnB,OACE,eAAC,KAAD,CACEG,MAAM,qBACNgB,QAASA,EACTwW,SAAUX,EACVU,KAAMV,EACNtW,MAAM,OACNwe,gBAAc,EACdrH,UAAQ,EAPV,UASE,cAAC,KAAD,CACEzE,OAAO,MACPC,QAAS/M,EACT1E,WAAY8+B,EACZppC,QAASA,EACTmN,KAAK,QACL6O,YAAY,EACZ0E,OAAQ,CAAEE,EAAG,UAEf,cAAC,KAAD,CAAO/W,QAASw/B,EAAgB/oB,OAAQ,KAAMD,SAhG7B,kBAAMipB,GAAmBD,IAgG1C,SACE,qBAAK7/B,IAAI,UAAUnF,MAAO,CAAE+E,MAAO,QAAUK,IAAK8/B,UCxGlD59B,GAASuR,KAATvR,KAoFOg+B,OAlFf,YAA0D,IAAlC9/B,EAAiC,EAAjCA,QAAS6V,EAAwB,EAAxBA,MAAO1f,EAAiB,EAAjBA,QAASgjC,EAAQ,EAARA,MAEzCh0B,EAAW,CACf,CACEnG,MAAO,gBACPuQ,UAAW,uBACXhQ,MAAO,IACPmQ,OAAQ,SAACkY,GAAD,OAAOA,EAAI,cAAC,GAAD,CAAM1R,UAAQ,EAAd,SAAgB0R,IAAY,MAEjD,CACE5oB,MAAO,MACPuQ,UAAW,aACXhQ,MAAO,IAET,CACEP,MAAO,UACPuQ,UAAW,oBACXhQ,MAAO,IACPmQ,OAAQ,SAACkY,EAAGxR,GAAJ,OAAYwR,EAAIA,EAAE1uB,OAAS,IAAM0uB,EAAEhd,UAAYwL,EAAI2pB,iBAAmB3pB,EAAI2pB,iBAAmB,MAEvG,CACE/gC,MAAO,SACPuQ,UAAW,oBACXhQ,MAAO,IACPmQ,OAAQ,SAACkY,GAAD,OAAOA,EAAI,cAAC,GAAD,CAAM1R,UAAQ,EAAd,SAAgB0R,EAAEjE,SAAiB,MAExD,CACE3kB,MAAO,SACPuQ,UAAW,oBACXhQ,MAAO,IACPmQ,OAAQ,SAACkY,GAAD,OAAOA,GAAKA,EAAEtuB,QAAUsuB,EAAEtuB,OAAOJ,OAAS0uB,EAAEtuB,OAAOJ,OAAS,IAAM0uB,EAAEtuB,OAAOsR,UAAY,MAEjG,CACE5L,MAAO,gBACPuQ,UAAW,gBACXhQ,MAAO,IACPmQ,OAAQ,SAACjW,GAAD,OAAO,cAAC,GAAD,CAAW+U,OAAQ/U,MAEpC,CACEuF,MAAO,iBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAACyG,GAAD,OAAOA,EAAInL,KAAOmL,GAAGf,OAAO,oBAAsB,MAE5D,CACEpW,MAAO,kBACPuQ,UAAW,kBACXhQ,MAAO,IACPmQ,OAAQ,SAACyG,GAAD,OAAOA,EAAInL,KAAOmL,GAAGf,OAAO,oBAAsB,OAI9D,OACE,cAAC,KAAD,CACEpW,MAAM,oBACNgB,QAASA,EACTwW,SAAUX,EACVU,KAAMV,EACNtW,MAAM,OACNwe,gBAAc,EACdrH,UAAQ,EAPV,SASE,cAAC,KAAD,CACEzE,OAAO,MACPC,QAAS/M,EACT1E,WAAY04B,EACZhjC,QAASA,EACTmN,KAAK,QACL6O,YAAY,EACZ0E,OAAQ,CAAEE,EAAG,aCrEbjV,GAASuR,KAATvR,KAsKOk+B,OApKf,YAA2D,IAAlCnqB,EAAiC,EAAjCA,MAAO7V,EAA0B,EAA1BA,QAAS+4B,EAAiB,EAAjBA,eAAiB,EAC1Bh5B,oBAAS,GADiB,oBACjD5J,EADiD,KACxC8gB,EADwC,OAElBlX,mBAAS,IAFS,oBAEjDkgC,EAFiD,KAEpCC,EAFoC,iDAWxD,sBAAAlqC,EAAA,6DACEihB,GAAW,GADb,SAEQ6hB,IAAW,EAAM,CAAEn0B,OAAQkB,GAA0BkzB,mBAAkBpiC,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAC9EA,GACFspC,EAAetpC,MAEhBO,OAAM,SAACsC,GAAD,OAAOnC,QAAQC,IAAIkC,MAAIsQ,SAAQ,kBAAMkN,GAAW,MAN3D,4CAXwD,sBAIxD9c,qBAAU,WACJ4+B,GALkD,mCAMpDoH,KAGF,CAACpH,IAWH,IAAM5zB,EAAW,CACf,CACEnG,MAAO,IACPO,MAAO,GACPmQ,OAAQ,SAACzE,EAAE+K,EAAGnX,GAAN,OAAYA,EAAE,IAExB,CACEG,MAAO,gBACPuQ,UAAW,uBACXhQ,MAAO,IACPmQ,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEl7B,MAAO,MACPuQ,UAAW,aACXhQ,MAAO,IAET,CACEP,MAAO,kBACPuQ,UAAW,kBACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEbC,OAAQ,SAAC0wB,GAAD,OACN,cAAC,KAAD,CAASlgC,UAAU,UAAUlB,MAAOohC,EAApC,SACGA,MAIP,CACEphC,MAAO,UACPuQ,UAAW,iBACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEbC,OAAQ,SAAC0wB,GAAD,OACN,cAAC,KAAD,CAASlgC,UAAU,UAAUlB,MAAOohC,EAApC,SACGA,MAIP,CACEphC,MAAO,WACPuQ,UAAW,oBACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEbC,OAAQ,SAACC,GAAD,OACN,cAAC,KAAD,CAASzP,UAAU,UAAUlB,MAAO2Q,GAAKA,EAAEmD,SAAWnD,EAAEmD,SAAS5Z,OAAO,IAAxE,SACGyW,GAAKA,EAAEmD,SAAWnD,EAAEmD,SAAS5Z,OAAO,QAI3C,CACE8F,MAAO,SACPuQ,UAAW,oBACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEbC,OAAQ,SAACC,GAAD,OACN,cAAC,KAAD,CAASzP,UAAU,UAAUlB,MAAO2Q,GAAKA,EAAErW,OAASqW,EAAErW,OAAOJ,OAAO,IAAIyW,EAAErW,OAAOsR,UAAU,IAA3F,SACG+E,EAAIA,EAAErW,OAAOJ,OAAO,IAAIyW,EAAErW,OAAOsR,UAAU,QAIlD,CACE5L,MAAO,UACPuQ,UAAW,oBACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEbC,OAAQ,SAACC,GAAD,OACN,cAAC,KAAD,CAASzP,UAAU,UAAUlB,MAAO2Q,EAAIA,EAAEzW,OAAO,IAAIyW,EAAE/E,UAAU,IAAjE,SACG+E,EAAIA,EAAEzW,OAAO,IAAIyW,EAAE/E,UAAU,QAIpC,CACE5L,MAAO,iBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAAC0hB,GACP,OAAIA,EACKpmB,KAAOomB,GAAOhc,OAAO,kBAErB,MAIb,CACEpW,MAAO,oBACPuQ,UAAW,kBACXhQ,MAAO,IACPmQ,OAAQ,SAAC0hB,GACP,OAAIA,EACKpmB,KAAOomB,GAAOhc,OAAO,kBAErB,MAIb,CACEpW,MAAO,mBACPuQ,UAAW,mBACXhQ,MAAO,IACPmQ,OAAQ,SAAClB,GAAD,OAAY,cAAC,GAAD,CAAWA,OAAQA,OAI3C,OACE,cAAC,KAAD,CACExP,MAAM,sBACNgB,QAASA,EACTwW,SAAUX,EACVU,KAAMV,EACNtW,MAAM,OACNmX,UAAQ,EANV,SAQE,cAAC,KAAD,CACEzE,OAAO,MACPxR,WAAYw/B,EACZ/tB,QAAS/M,EACThP,QAASA,EACTmN,KAAK,QACLuT,OAAQ,CAAEC,EAAG,QACb3E,WAAY,CACV2W,gBAAiB,S,oBClKZ,SAASuX,GAAUC,GAChC,OAAO,IAAIzsB,SAAQ,SAACC,EAASysB,GAC3B,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,cAAcJ,GACrBE,EAAOG,OAAS,kBAAM7sB,EAAQ0sB,EAAOI,SACrCJ,EAAOK,QAAU,SAAA5pC,GAAK,OAAIspC,EAAOtpC,O,ICI7B6R,GAAWC,KAAXD,OACA0U,GAAaC,IAAbD,SA0GO+H,OAxGf,YAA0D,IAApCvlB,EAAmC,EAAnCA,QAAS6V,EAA0B,EAA1BA,MAAOirB,EAAmB,EAAnBA,iBAAmB,EACH/gC,mBAAS,MADN,oBAChDuxB,EADgD,KAC5BC,EAD4B,OAEjBxxB,mBAAS,MAFQ,oBAEhDqkB,EAFgD,KAEnCmF,EAFmC,OAGvBxpB,mBAAS,IAHc,oBAGhDghC,EAHgD,KAGtCC,EAHsC,OAKXjhC,oBAAS,GALE,oBAKhDy/B,EALgD,KAKhCC,EALgC,OAMf1/B,mBAAS,IANM,oBAMhD2/B,EANgD,KAMlCC,EANkC,iDAcvD,sBAAA3pC,EAAA,sEACQ8qC,EAAiBxP,EAAoBlN,EAAa2c,GAD1D,4CAduD,sBAQvD5mC,qBAAU,WACRo3B,EAAsB,MACtBhI,EAAe,MACfyX,EAAY,MACX,IAoBH,IAGMpB,EAAa,uCAAG,WAAOU,GAAP,eAAAtqC,EAAA,+EAEIirC,GAAgBX,EAAKY,eAFzB,OAEZC,EAFY,OAGlB1B,GAAkB,GAClBE,EAAgBwB,GAJE,gDAMlB7pC,QAAQC,IAAR,MANkB,iEAAH,sDAUnB,OACE,eAAC,KAAD,CACEyH,MAAM,4BACNgB,QAASA,EACTuW,KAjDmD,2CAkDnDC,SAAUX,EACVtW,MAAO,IACPwe,gBAAc,EACdrH,UAAQ,EAPV,UASE,eAAC,KAAD,CACE9a,YAAY,qBACZ0pB,aAAcgM,EACd7mB,SAAU,SAAAhR,GAAC,OAAI83B,EAAsB93B,IACrCe,MAAO,CAAE+E,MAAO,IAAKoL,aAAc,SAJrC,UAME,cAAC,GAAD,CAAQzN,MAAOu7B,GAAf,SAA8CxpB,GAAYwpB,MAC1D,cAAC,GAAD,CAAQv7B,MAAOu7B,GAAf,SAA6CxpB,GAAYwpB,MACzD,cAAC,GAAD,CAAQv7B,MAAOu7B,GAAf,SAA6CxpB,GAAYwpB,MACzD,cAAC,GAAD,CAAQv7B,MAAOu7B,GAAf,SAA6CxpB,GAAYwpB,MACzD,cAAC,GAAD,CAAQv7B,MAAOu7B,GAAf,SAA8CxpB,GAAYwpB,MAC1D,cAAC,GAAD,CAAQv7B,MAAOu7B,GAAf,SAA+CxpB,GAAYwpB,MAC3D,cAAC,GAAD,CAAQv7B,MAAOu7B,GAAf,SAA8CxpB,GAAYwpB,MAC1D,cAAC,GAAD,CAAQv7B,MAAOu7B,GAAf,SAAiDxpB,GAAYwpB,MAC7D,cAAC,GAAD,CAAQv7B,MAAOu7B,GAAf,SAAyCxpB,GAAYwpB,MACrD,cAAC,GAAD,CAAQv7B,MAAOu7B,GAAf,SAA2CxpB,GAAYwpB,SAEzD,cAAC,GAAD,CACE78B,YAAY,cACZ0pB,aAAclB,EACdpG,KAAM,EACNvT,SAAU,SAAChR,GAAD,OAAO8vB,EAAe9vB,EAAEoR,OAAO3N,QACzC1C,MAAO,CAAEmQ,aAAc,WAEzB,qBAAKnQ,MAAO,CAAEmQ,aAAc,SAA5B,mCACA,eAAC,KAAD,CACEy2B,OAAO,kBACPC,SAAS,eACTC,aAhEN,SAAwBhB,GACtB,IAAIiB,EAAQR,EAIZ,OAHAT,EAAKloC,OAAS,OACdmpC,EAAMrnC,KAAKomC,GACXU,EAAYO,IACL,GA4DHC,SAzDN,SAAyBxrC,GACvB,IAAIyrC,EAAaV,EAASl0B,QAAO,SAACsJ,GAAD,OAAOA,EAAEurB,MAAQ1rC,EAAE0rC,OACpDV,EAAYS,IAwDRE,UAAW/B,EACXgC,UAAU,EANZ,UAQE,cAACC,GAAA,EAAD,IARF,gBAWA,cAAC,KAAD,CAAO7hC,QAASw/B,EAAgB/oB,OAAQ,KAAMD,SA3D7B,kBAAMipB,GAAmBD,IA2D1C,SACE,qBAAK7/B,IAAI,UAAUnF,MAAO,CAAE+E,MAAO,QAAUK,IAAK8/B,UCpGlD52B,GAAWC,KAAXD,OACA0U,GAAaC,IAAbD,SA4GOskB,OA1Gf,YAAkF,IAApD9hC,EAAmD,EAAnDA,QAAS6V,EAA0C,EAA1CA,MAA0C,IAAnCvD,eAAmC,MAA3B,GAA2B,MAAvBjN,gBAAuB,MAAd,GAAc,EAAV08B,EAAU,EAAVA,QAAU,EAC3BhiC,mBAAS,MADkB,oBACxEiiC,EADwE,KACpDC,EADoD,OAEvBliC,mBAAS,MAFc,oBAExE0b,EAFwE,KAElDC,EAFkD,OAGzB3b,mBAAS,MAHgB,oBAGxEkuB,EAHwE,KAGnDC,EAHmD,OAI7CnuB,mBAAS,MAJoC,oBAIxEmiC,EAJwE,KAI7DC,EAJ6D,OAKzCpiC,mBAAS,MALgC,oBAKxEqkB,EALwE,KAK3DmF,EAL2D,OAMnCxpB,oBAAS,GAN0B,oBAMxEqiC,EANwE,KAMxDC,EANwD,KAQ/EloC,qBAAU,WACR8nC,EAAsB,MACtBvmB,EAAwB,MACxBwS,EAAuB,MACvBiU,EAAa,MACb5Y,EAAe,QACd,IAEH,IAAM+Y,EAAY,uCAAG,sBAAAtsC,EAAA,6DACnBqsC,GAAkB,GADC,SAEbN,EAAQC,EAAoBvmB,EAAsBwS,EAAqBiU,EAAW9d,GAFrE,OAGnBie,GAAkB,GAClBxsB,IAJmB,2CAAH,qDAYlB,OACE,eAAC,KAAD,CACE7W,MAAM,gBACNO,MAAO,IACPS,QAASA,EACTwW,SAAUX,EACVU,KAAM+rB,EACNC,gBAAc,EACdxkB,gBAAc,EACdrH,UAAQ,EACRD,OAAQ,CACN,cAAC,IAAD,CAAmBzU,QAAS6T,EAA5B,qBAAY,QAGZ,cAAC,IAAD,CAAqBxb,KAAK,UAAUlE,QAASisC,EAAgBpgC,QAASsgC,EAAtE,oBAAY,WAbhB,UAkBE,cAAC,KAAD,CACE1mC,YAAY,qBACZpB,MAAO,CAAE+E,MAAO,IAAKoL,aAAc,SACnCF,SAAU,SAAChR,GAAD,OAAOwoC,EAAsBxoC,IACvC6rB,aAAc0c,EAJhB,SAOE1vB,GAAWA,EAAQ9V,OAAS,EAC5B8V,EAAQ7V,KAAI,SAACoT,EAAGhR,GAAJ,OACV,cAAC,GAAD,CAAQ3B,MAAO2S,EAAE3S,MAAjB,SAAiC2S,EAAExC,MAANxO,MAG/B,cAAC,GAAD,yBAGF,cAAC,KAAD,CACEyuB,YAAU,EACV1xB,YAAY,sBACZpB,MAAO,CAAE+E,MAAO,IAAKoL,aAAc,SACnCF,SAAU,SAAChR,GAAD,OA1CdiiB,EAAwBrW,EADExG,EA2CcpF,GA1CJqZ,SAAS9I,UAC7CkkB,EAAuB7oB,EAASxG,GAAGmL,KAFV,IAACnL,GA4CtBymB,aAAc2I,EACdV,aAAc,SAACC,EAAOC,GACpB,OAAOA,EAAOtwB,SAASud,cAAcqN,QAAQyF,EAAM9S,gBAAkB,GAPzE,SAYErV,GAAYA,EAAS7I,OAAS,EAC9B6I,EAAS5I,KAAI,SAACoT,EAAGhR,GAAJ,OACX,cAAC,GAAD,CAAQ3B,MAAO2B,EAAf,SAA2BgR,GAAKA,EAAE3W,OAAS,IAAM2W,EAAEjF,WAA5B/L,MAGzB,cAAC,GAAD,yBAGF,cAAC,KAAD,CACEjD,YAAY,4BACZpB,MAAO,CAAE+E,MAAO,IAAKoL,aAAc,SACnCF,SAAU,SAAChR,GAAD,OAAO0oC,EAAa1oC,EAAEgwB,MAAMrU,OAAO,wBAE/C,cAAC,GAAD,CACE4I,KAAM,EACNxjB,MAAO,CAAE+E,MAAO,KAChB+lB,aAAclB,EACdxoB,YAAY,cACZ6O,SAAU,SAAChR,GAAD,OAAO8vB,EAAe9vB,EAAEoR,OAAO3N,c,UC9FzC4L,GAAWC,KAAXD,OACA0U,GAAaC,IAAbD,SAiPOwQ,OA/Of,YAAsG,IAAD,IAA9Ejf,YAA8E,SAAlE/O,EAAkE,EAAlEA,QAAS6V,EAAyD,EAAzDA,MAAyD,IAAlDhD,iBAAkD,MAAxC,GAAwC,MAApCpE,gBAAoC,MAA3B,GAA2B,MAAvBpJ,gBAAuB,MAAd,GAAc,EAAVm9B,EAAU,EAAVA,QAAU,EAC3CziC,mBAAS,MADkC,oBAC5F0b,EAD4F,KACtEC,EADsE,OAE/C3b,mBAAS,MAFsC,oBAE5F0iC,EAF4F,KAExEC,EAFwE,OAGnC3iC,mBAAS,MAH0B,oBAG5F4iC,EAH4F,KAGlEC,EAHkE,OAIzC7iC,mBAAS,IAJgC,oBAI5F8iC,EAJ4F,KAIrEC,EAJqE,OAK7D/iC,mBAAS,MALoD,oBAK5FqkB,EAL4F,KAK/EmF,EAL+E,OAM7DxpB,mBAAS,GANoD,oBAM5FgjC,EAN4F,KAM/EC,EAN+E,KAQnG7oC,qBAAU,WACR8oC,MAEC,CAAC59B,IAEJlL,qBAAU,WACRuoC,EAAsB,MACtBE,EAA4B,QAC5B,IAEFzoC,qBAAU,WACTuoC,EAAsB,MACtBE,EAA4B,QAC1B,CAACG,IAEJ,IAAMG,EAAY,uCAAG,kCAAAltC,EAAA,0DACf+Y,EADe,oBAEG,IAAhBg0B,IAAqBN,EAFR,gCAGTD,EAAQ,CAAClpC,OAAQmpC,EAAoBre,gBAH5B,mCAIU,IAAhB2e,GAAkD,OAA7BJ,QAAkElrC,IAA7BkrC,GAA0Ct9B,EAAS7I,OAAS,GAAKmmC,GAA4B,GAJjJ,wBAMTvmB,EAAM,CACVhX,QAASC,EAFL65B,EAAQyD,GAEet9B,EAAS65B,GAAOl1B,IAAK,KAChDhF,QAASK,EAAS65B,IAAU75B,EAAS65B,GAAOl6B,QAAUK,EAAS65B,GAAOl6B,QAAQgF,IAAM,KACpF1Q,OAAQ+L,EAAS65B,IAAU75B,EAAS65B,GAAO5lC,OAAS+L,EAAS65B,GAAO5lC,OAAO0Q,IAAM,KACjF8I,SAAUzN,EAAS65B,IAAU75B,EAAS65B,GAAOpsB,SAAWzN,EAAS65B,GAAOpsB,SAAS9I,IAAM,KACvFoa,eAXa,UAaToe,EAAQpmB,GAbC,gCAeflmB,IAAU0B,KAAK,oCAAqC,CAAEvB,SAAU,cAfjD,mCAkBG,IAAhB0sC,IAAqBtnB,EAlBR,kCAmBT+mB,EAAQ,CAAC1vB,SAAU2I,EAAsB2I,gBAnBhC,mCAoBU,IAAhB2e,IAAqBN,EApBf,kCAqBTD,EAAQ,CAAClpC,OAAQmpC,EAAoBre,gBArB5B,qCAsBU,IAAhB2e,GAAqBJ,GAA4Bt9B,EAAS7I,OAAS,GAAKmmC,GAA4B,GAtB9F,wBAwBTvmB,EAAM,CACV6f,gBAAiB52B,EAFb65B,EAAQyD,GAEuBt9B,EAAS65B,GAAOl1B,IAAK,KACxDhF,QAASK,EAAS65B,IAAU75B,EAAS65B,GAAOl6B,QAAUK,EAAS65B,GAAOl6B,QAAQgF,IAAM,KACpFm5B,eAAgB99B,EAAS65B,IAAU75B,EAAS65B,GAAO5lC,OAAS+L,EAAS65B,GAAO5lC,OAAO0Q,IAAM,KACzF8I,SAAUzN,EAAS65B,IAAU75B,EAAS65B,GAAOpsB,SAAWzN,EAAS65B,GAAOpsB,SAAS9I,IAAM,KACvFoa,eA7Ba,UA+BToe,EAAQpmB,GA/BC,gCAiCflmB,IAAU0B,KAAK,mCAAoC,CAAEvB,SAAU,cAjChD,4CAAH,qDAsCZ4sC,EAAuB,WAC3B,GAAI59B,GAAYA,EAAS7I,OAAS,EAAG,CACnC,IAAIiS,EAAW,GACXgzB,EAAa,GACjBp8B,EAASuJ,SAAQ,SAACe,GACZA,GAAKA,EAAErW,QAAUqW,EAAErW,OAAOJ,SAAWuV,EAAS1P,SAAS4Q,EAAErW,OAAOJ,OAAO,IAAIyW,EAAErW,OAAOsR,YACtF6D,EAASvU,KAAKyV,EAAErW,OAAOJ,OAAO,IAAIyW,EAAErW,OAAOsR,cAG/C6D,EAAS5B,QAAO,SAACpT,GAAD,OAAOA,KAAGmV,SAAQ,SAACmE,GACjC,IAAIqwB,EAAiB/9B,EAASwH,QAAO,SAAC8C,GAAD,OAAOA,EAAErW,QAAUqW,EAAErW,OAAOJ,QAAWyW,EAAErW,OAAOJ,OAAO,IAAIyW,EAAErW,OAAOsR,YAAemI,KACxH0uB,EAAWvnC,KAAK,CACdgD,MAAO6V,EACP9E,MAAO8E,EACP5V,SAAUimC,EAAe3mC,KAAI,SAACkT,GAAD,MAAQ,CAACzS,MAAOmI,EAAS4f,WAAU,SAAAxrB,GAAC,OAAIA,EAAEuQ,MAAQ2F,EAAE3F,OAAMiE,MAAO0B,EAAEzW,OAAO,IAAIyW,EAAE/E,mBAGjHk4B,EAAyBrB,EAAW50B,QAAO,SAACpT,GAAD,OAAOA,QAQtD,OAAIsV,EAEA,eAAC,KAAD,CACE/P,MAAM,gBACNgB,QAASA,EACTwW,SAAUX,EACVU,KAAM2sB,EACN3jC,MAAO,IACPwe,gBAAc,EACdrH,UAAQ,EAPV,UASE,iEACA,eAAC,KAAMtL,MAAP,CAAaX,SAAU,SAAChR,GAAD,OAAOupC,EAAevpC,EAAEoR,OAAO3N,QAAQooB,aAAcyd,EAAavoC,MAAO,CAAEmQ,aAAc,QAAhH,UACE,cAAC,KAAD,CAAOzN,MAAO,EAAd,oBACA,cAAC,KAAD,CAAOA,MAAO,EAAd,wBAEe,IAAhB6lC,EACE,cAAC,KAAD,CACCzV,YAAU,EACVpwB,MAAOulC,EACP7mC,YAAY,qBACZpB,MAAO,CAAE+E,MAAO,IAAKoL,aAAc,SACnCF,SAAU,SAAChR,GAAD,OAAOipC,EAAsBjpC,IACvC8zB,aAAc,SAACC,EAAOC,GACpB,OAAOA,EAAOtwB,SAASud,cAAcqN,QAAQyF,EAAM9S,gBAAkB,GAPxE,SAYGjM,GAAYA,EAASjS,OAAS,EAC9BiS,EAAShS,KAAI,SAACsW,GAAD,OACX,cAAC,GAAD,CAAQ7V,MAAO6V,EAAE/I,IAAjB,mBAAsC+I,EAAE7Z,OAAxC,YAAkD6Z,EAAEnI,YAAzBmI,EAAE/I,QAE9B,cAAC,GAAD,wBAIJ,cAAC,KAAD,CACC2Y,QAASkgB,EACTp4B,SAAU,SAACQ,EAAG0E,GAAJ,OAAUizB,EAA4BjzB,GAAKA,EAAE,GAAKA,EAAE,GAAGzS,MAAQ,OACzEtB,YAAY,sBACZpB,MAAO,CAAE+E,MAAO,IAAKoL,aAAc,SACnC2iB,WAAY,CAAEzgB,OA9CxB,SAAgBw2B,EAAYr6B,GAC1B,OAAOA,EAAKlK,MAAK,SAAA2uB,GAAM,OAAIA,EAAOxf,MAAMyM,cAAcqN,QAAQsb,EAAW3oB,gBAAkB,SAgDvF,cAAC,GAAD,CACE9e,YAAY,iBACZ6O,SAAU,SAAChR,GAAD,OAAO8vB,EAAe9vB,EAAEoR,OAAO3N,QACzC8gB,KAAM,EACNxjB,MAAO,CAAE+E,MAAO,UAMpB,eAAC,KAAD,CACEP,MAAM,gBACNgB,QAASA,EACTwW,SAAUX,EACVU,KAAM2sB,EACN3jC,MAAO,IACPwe,gBAAc,EACdrH,UAAQ,EAPV,UASE,2EACA,eAAC,KAAMtL,MAAP,CAAaX,SAAU,SAAChR,GAAD,OAAOupC,EAAevpC,EAAEoR,OAAO3N,QAAQooB,aAAcyd,EAAavoC,MAAO,CAAEmQ,aAAc,QAAhH,UACE,cAAC,KAAD,CAAOzN,MAAO,EAAd,sBACA,cAAC,KAAD,CAAOA,MAAO,EAAd,oBACA,cAAC,KAAD,CAAOA,MAAO,EAAd,wBAGgB,IAAhB6lC,EACC,cAAC,KAAD,CACCzV,YAAU,EACVpwB,MAAOue,EACP7f,YAAY,uBACZpB,MAAO,CAAE+E,MAAO,IAAKoL,aAAc,SACnCF,SAAU,SAAChR,GAAD,OAAOiiB,EAAwBjiB,IACzC8zB,aAAc,SAACC,EAAOC,GACpB,OAAOA,EAAOtwB,SAASud,cAAcqN,QAAQyF,EAAM9S,gBAAkB,GAPxE,SAYG7H,GAAaA,EAAUrW,OAAS,EAChCqW,EAAUpW,KAAI,SAACsW,GAAD,OACZ,cAAC,GAAD,CAAQ7V,MAAO6V,EAAE/I,IAAjB,SAAmC+I,EAAE7Z,QAAV6Z,EAAE/I,QAE9B,cAAC,GAAD,wBAGa,IAAhB+4B,EACD,cAAC,KAAD,CACCzV,YAAU,EACVpwB,MAAOulC,EACP7mC,YAAY,qBACZpB,MAAO,CAAE+E,MAAO,IAAKoL,aAAc,SACnCF,SAAU,SAAChR,GAAD,OAAOipC,EAAsBjpC,IACvC8zB,aAAc,SAACC,EAAOC,GACpB,OAAOA,EAAOtwB,SAASud,cAAcqN,QAAQyF,EAAM9S,gBAAkB,GAPxE,SAYGjM,GAAYA,EAASjS,OAAS,EAC9BiS,EAAShS,KAAI,SAACsW,GAAD,OACX,cAAC,GAAD,CAAQ7V,MAAO6V,EAAE/I,IAAjB,mBAAsC+I,EAAE7Z,OAAxC,YAAkD6Z,EAAEnI,YAAzBmI,EAAE/I,QAE9B,cAAC,GAAD,wBAIJ,cAAC,KAAD,CACCsjB,YAAU,EACVpwB,MAAOylC,EACP/mC,YAAY,sBACZpB,MAAO,CAAE+E,MAAO,IAAKoL,aAAc,SACnCF,SAAU,SAAChR,GAAD,OAAOmpC,EAA4BnpC,IAC7C8zB,aAAc,SAACC,EAAOC,GACpB,OAAOA,EAAOtwB,SAASud,cAAcqN,QAAQyF,EAAM9S,gBAAkB,GAPxE,SAYGrV,GAAYA,EAAS7I,OAAS,EAC9B6I,EAAS5I,KAAI,SAACkT,EAAE9Q,GAAH,OACX,cAAC,GAAD,CAAQ3B,MAAO2B,EAAf,mBAAkC8Q,EAAEzW,OAApC,YAA8CyW,EAAE/E,YAAzB+E,EAAE3F,QAE1B,cAAC,GAAD,wBAIP,cAAC,GAAD,CACEpO,YAAY,iBACZ6O,SAAU,SAAChR,GAAD,OAAO8vB,EAAe9vB,EAAEoR,OAAO3N,QACzC8gB,KAAM,EACNxjB,MAAO,CAAE+E,MAAO,WCjOb+jC,GAAc,SAAC90B,GAC1B,OAAQA,GACN,IAAK,YACH,MAAO,CAACwD,WAAY+gB,QAAgB,GAAIpxB,MAAOoxB,QAAgBC,SACjE,IAAK,aAEL,KAAKyF,GACH,MAAO,CAACzmB,WAAY+gB,SAAiB,GAAIpxB,MAAOoxB,SAAiBC,SACnE,KAAKyF,GACH,MAAO,CAACzmB,WAAY+gB,QAAgB,GAAIpxB,MAAOoxB,QAAgBC,SACjE,KAAKyF,GACH,MAAO,CAACzmB,WAAY+gB,QAAgB,GAAIpxB,MAAOoxB,QAAgBC,SACjE,IAAK,WACH,MAAO,CAAChhB,WAAY+gB,YAAoB,GAAIpxB,MAAOoxB,YAAoBC,SACzE,IAAK,eACH,MAAO,CAAChhB,WAAY+gB,WAAmB,GAAIpxB,MAAOoxB,WAAmBC,SACvE,KAAKyF,GACH,MAAO,CAACzmB,WAAY+gB,UAAkB,GAAIpxB,MAAOoxB,UAAkBC,SACrE,KAAKyF,GAEL,KAAKA,GACH,MAAO,CAACzmB,WAAY+gB,OAAe,GAAIpxB,MAAOoxB,OAAeC,SAC/D,KAAKyF,GAEL,KAAKA,GACH,MAAO,CAACzmB,WAAY+gB,UAAkB,GAAIpxB,MAAOoxB,UAAkBC,SACrE,IAAK,WACH,MAAO,CAAChhB,WAAY+gB,SAAiB,GAAIpxB,MAAOoxB,SAAiBC,SACnE,IAAK,aACH,MAAO,CAAChhB,WAAY+gB,OAAe,GAAIpxB,MAAOoxB,OAAeC,SAC/D,IAAK,iBACH,MAAO,CAAChhB,WAAY,UAAWrQ,MAAOoxB,QAAgBC,SACxD,QACE,MAAO,CAAChhB,WAAY,GAAIrQ,MAAO,MAIxB4hC,GAAY,SAACp1B,EAAMY,EAAMmzB,GACpC,OAAIA,GAA2B,MAAdA,EACR,CAAClwB,WAAY+gB,QAAgB,GAAIpxB,MAAOoxB,QAAgBC,SAE3DjkB,IAAS7B,GACPs2B,OAAOr1B,GAAQ,GACV,CAAC6D,WAAY+gB,SAAiB,GAAIpxB,MAAOoxB,SAAiBC,SACxDwQ,OAAOr1B,IAAS,IAAMq1B,OAAOr1B,GAAQ,GACvC,CAAC6D,WAAY+gB,UAAkB,GAAIpxB,MAAOoxB,UAAkBC,SAC1DwQ,OAAOr1B,IAAS,GAClB,CAAC6D,WAAY+gB,OAAe,GAAIpxB,MAAOoxB,OAAeC,SAEtD,CAAChhB,WAAY,GAAIrQ,MAAO,IAEvBoN,IAAS7B,GACfs2B,OAAOr1B,GAAQ,GACV,CAAC6D,WAAY+gB,SAAiB,GAAIpxB,MAAOoxB,SAAiBC,SACxDwQ,OAAOr1B,IAAS,IAAMq1B,OAAOr1B,GAAQ,GACvC,CAAC6D,WAAY+gB,UAAkB,GAAIpxB,MAAOoxB,UAAkBC,SAC1DwQ,OAAOr1B,IAAS,GAClB,CAAC6D,WAAY+gB,OAAe,GAAIpxB,MAAOoxB,OAAeC,SAEtD,CAAChhB,WAAY,GAAIrQ,MAAO,IAG1B,CAACqQ,WAAY,GAAIrQ,MAAO,KAKxB8hC,GAAW,SAAClN,EAAK2L,GAC5B,OAAIA,GAA2B,MAAdA,EACR,CAAClwB,WAAY+gB,QAAgB,GAAIpxB,MAAOoxB,QAAgBC,SAE3DwQ,OAAOjN,GAAO,EACT,CAACvkB,WAAY+gB,SAAiB,GAAIpxB,MAAOoxB,SAAiBC,SACxDwQ,OAAOjN,IAAQ,GAAKiN,OAAOjN,GAAO,EACpC,CAACvkB,WAAY+gB,UAAkB,GAAIpxB,MAAOoxB,UAAkBC,SAC1DwQ,OAAOjN,IAAQ,EACjB,CAACvkB,WAAY+gB,OAAe,GAAIpxB,MAAOoxB,OAAeC,SAEtD,CAAChhB,WAAY,GAAIrQ,MAAO,KC8FtB+hC,OAtKf,YAAuF,IAArD/+B,EAAoD,EAApDA,OAAQoK,EAA4C,EAA5CA,KAAMkI,EAAsC,EAAtCA,WAAsC,IAA1BymB,4BAA0B,MAAL,GAAK,IAC9C39B,mBAAS,IADqC,oBAC7EkgC,EAD6E,KAChEC,EADgE,KAEhFtN,EAAcC,iBAAO,MAF2D,SAUrE8Q,EAVqE,8EAUpF,WAA6BroB,GAA7B,SAAAtlB,EAAA,yDACOslB,KAAQoiB,EAAqBlhC,QAAU,GAD9C,wDAEEya,GAAW,GAFb,SAGe6hB,IAAW,EAAM,CAC5Bn0B,OAAQA,EAAQ2W,OAAMvM,OAAMiqB,WAAY0E,IACvC/mC,KAFU,uCAEL,6BAAAX,EAAA,4DAAOY,EAAP,EAAOA,OACDA,EAAK4F,OAAS,GADpB,gCAES0jC,EAAetpC,EAAK6F,KAAI,SAACkW,GAAD,mBAAC,eACjCA,GADgC,IAEnCixB,kBAAmBjxB,EAAEgpB,UAAYhpB,EAAEgpB,SAASrB,eAAiBtvB,KAAO2H,EAAEgpB,SAASrB,gBAAgBllB,OAAO,kBAAmB,IACzHyuB,mBAAoBlxB,EAAEgpB,UAAYhpB,EAAEgpB,SAASmI,gBAAkB94B,KAAO2H,EAAEgpB,SAASmI,iBAAiB1uB,OAAO,kBAAmB,IAC5HkkB,WAAY3mB,EAAE2mB,WAAatuB,KAAO2H,EAAE2mB,YAAYlkB,OAAO,YAAY,IACnEklB,eAAgB3nB,EAAE2nB,eAAiBtvB,KAAO2H,EAAE2nB,gBAAgBllB,OAAO,kBAAkB,IACrF2uB,eAAgBpxB,EAAEoxB,eAAiB/4B,KAAO2H,EAAEoxB,gBAAgB3uB,OAAO,kBAAkB,IACrF4uB,eAAgBrxB,EAAE2nB,eAAiBtvB,OAASsL,KAAK3D,EAAE2nB,eAAgB,SAAW,IAC9E2J,eAAgBtxB,EAAEoxB,eAAiB/4B,OAASsL,KAAK3D,EAAEoxB,eAAgB,SAAW,IAC9EG,cAAevxB,EAAEoxB,eAAiB/4B,OAASsL,KAAK3D,EAAEoxB,eAAgB,QAAU,UAX1E,mFAFK,uDAgBV5sC,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAC3B2S,SAAQ,kBAAMkN,GAAW,MApB9B,oFAVoF,sBAIpF9c,qBAAU,WACJ8lC,GAAeA,EAAYzjC,OAAS,GA4B1C,SAAwB2M,GACtB,IACE,IAAIwZ,EAAUxZ,EAAUkqB,kBACpBrV,EAAO2E,EAAQ2Q,OAAO,GAAGtV,KACzBmmB,GAAa,EACb5Q,GAAe,EACf6Q,GAAqB,EACrBC,GAAqB,EACrBC,GAAqB,EACrBC,GAAoB,EACpBC,GAAkB,EACtBxmB,EAAKpP,SAAQ,SAACwH,GACK,WAAbA,EAAI/b,OACN8pC,EAAY/tB,EAAIqd,MAAMxO,WAAU,SAACxrB,GAAD,MAAmB,YAAZA,EAAEyD,SACzCq2B,EAAcnd,EAAIqd,MAAMxO,WAAU,SAACxrB,GAAD,MAAmB,eAAZA,EAAEyD,SAC3CknC,EAAoBhuB,EAAIqd,MAAMxO,WAAU,SAACxrB,GAAD,MAAmB,kBAAZA,EAAEyD,SACjDmnC,EAAoBjuB,EAAIqd,MAAMxO,WAAU,SAACxrB,GAAD,MAAmB,mBAAZA,EAAEyD,SACjDonC,EAAoBluB,EAAIqd,MAAMxO,WAAU,SAACxrB,GAAD,MAAmB,mBAAZA,EAAEyD,SACjDqnC,EAAmBnuB,EAAIqd,MAAMxO,WAAU,SAACxrB,GAAD,MAAmB,kBAAZA,EAAEyD,SAChDsnC,EAAiBpuB,EAAIqd,MAAMxO,WAAU,SAACxrB,GAAD,MAAmB,cAAZA,EAAEyD,UAE/B,SAAbkZ,EAAI/b,OACN+b,EAAIqd,MAAM7kB,SAAQ,SAAC8kB,GACjBA,EAAKC,aAAe,CAAErwB,KAAM,IAC5BowB,EAAKE,WAAa,CAAEtwB,KAAM,IAC1BowB,EAAKG,YAAc,CAAEvwB,KAAM,IAC3BowB,EAAKI,UAAY,CAAExwB,KAAM,OAEvBiwB,GAAe,IACjBnd,EAAIqd,MAAMF,GAAavhB,WAAasxB,GAAYltB,EAAIqd,MAAMF,GAAar2B,OAAO8U,WAC9EoE,EAAIqd,MAAMF,GAAa5xB,MAAQ2hC,GAAYltB,EAAIqd,MAAMF,GAAar2B,OAAOyE,MACzEyU,EAAIqd,MAAMF,GAAar2B,MAAQ+R,GAAYmH,EAAIqd,MAAMF,GAAar2B,OAClEkZ,EAAIqd,MAAMF,GAAare,UAAY,UAEjCkvB,GAAqB,IACvBhuB,EAAIqd,MAAM2Q,GAAmBpyB,WAAasxB,GAAYltB,EAAIqd,MAAM2Q,GAAmBlnC,OAAO8U,WAC1FoE,EAAIqd,MAAM2Q,GAAmBziC,MAAQ2hC,GAAYltB,EAAIqd,MAAM2Q,GAAmBlnC,OAAOyE,MACrFyU,EAAIqd,MAAM2Q,GAAmBlnC,MAAQ+R,GAAYmH,EAAIqd,MAAM2Q,GAAmBlnC,OAC9EkZ,EAAIqd,MAAM2Q,GAAmBlvB,UAAY,UAEvCmvB,GAAqB,GAAKG,GAAkB,GAAKL,GAAa,IAChE/tB,EAAIqd,MAAM4Q,GAAmBryB,WAAauxB,GAAUntB,EAAIqd,MAAM4Q,GAAmBnnC,MAAOkZ,EAAIqd,MAAM0Q,GAAWjnC,MAAOkZ,EAAIqd,MAAM+Q,GAAgBtnC,OAAO8U,WACrJoE,EAAIqd,MAAM4Q,GAAmB1iC,MAAQ4hC,GAAUntB,EAAIqd,MAAM4Q,GAAmBnnC,MAAOkZ,EAAIqd,MAAM0Q,GAAWjnC,MAAOkZ,EAAIqd,MAAM+Q,GAAgBtnC,OAAOyE,MAChJyU,EAAIqd,MAAM4Q,GAAmBnvB,UAAY,UAEvCovB,GAAqB,GAAKE,GAAkB,GAAKL,GAAa,IAChE/tB,EAAIqd,MAAM6Q,GAAmBtyB,WAAauxB,GAAUntB,EAAIqd,MAAM6Q,GAAmBpnC,MAAOkZ,EAAIqd,MAAM0Q,GAAWjnC,MAAOkZ,EAAIqd,MAAM+Q,GAAgBtnC,OAAO8U,WACrJoE,EAAIqd,MAAM6Q,GAAmB3iC,MAAQ4hC,GAAUntB,EAAIqd,MAAM6Q,GAAmBpnC,MAAOkZ,EAAIqd,MAAM0Q,GAAWjnC,MAAOkZ,EAAIqd,MAAM+Q,GAAgBtnC,OAAOyE,MAChJyU,EAAIqd,MAAM6Q,GAAmBpvB,UAAY,UAEvCqvB,GAAoB,GAAKC,GAAkB,IAC7CpuB,EAAIqd,MAAM8Q,GAAkBvyB,WAAayxB,GAASrtB,EAAIqd,MAAM8Q,GAAkBrnC,MAAOkZ,EAAIqd,MAAM+Q,GAAgBtnC,OAAO8U,WACtHoE,EAAIqd,MAAM8Q,GAAkB5iC,MAAQ8hC,GAASrtB,EAAIqd,MAAM8Q,GAAkBrnC,MAAOkZ,EAAIqd,MAAM+Q,GAAgBtnC,OAAOyE,MACjHyU,EAAIqd,MAAM8Q,GAAkBrvB,UAAY,cAI9C/L,EAAU4qB,KAAKpR,GACf,MAAO1rB,GACPK,QAAQC,IAAIN,IAtFZ+8B,CAAepB,EAAYqB,WAE7B,CAACgM,IAwFH,IAAMhN,EAAgB,CACpBjhB,WAAY,UACZkhB,MAAM,EACNvhB,SAAU,GACVyhB,WAAW,GAGb,OACE,eAAC,KAAD,WACE,cAAC,KAAK/3B,KAAN,CAAWb,MAAO,CAAEqI,OAAQ,EAAG4hC,OAAQ,UAAoBziC,QAAS,kBAAM2hC,GAAc,IAAxF,iBAAwD,GACxD,cAAC,KAAKtoC,KAAN,CAAWb,MAAO,CAAEqI,OAAQ,EAAG4hC,OAAQ,UAAoBziC,QAAS,kBAAM2hC,GAAc,IAAxF,yBAAwD,GACxD,eAAC,KAAD,CACE/sC,KAAMqpC,EACN/L,SAAQ,qBAAgBnlB,EAAhB,YAAwB/D,OAASoK,OAAO,cAAxC,SACR+e,IAAKvB,EAHP,UAKY,WAAT7jB,EAAoB,cAAC,KAAD,CAAmB3E,MAAM,OAAOpL,MAAM,UAAUo1B,QAAQ,EAAM70B,MAAO,GAAI80B,kBAAmBpB,IAAoB,KACrI,cAAC,KAAD,CAAmB7oB,MAAM,uBAAuBpL,MAAM,gBAAgBo1B,QAAQ,EAAM70B,MAAO,GAAI80B,kBAAmBpB,IAClH,cAAC,KAAD,CAAmB7oB,MAAM,iBAAiBpL,MAAM,iBAAiBq1B,kBAAmBpB,IACpF,cAAC,KAAD,CAAmB7oB,MAAM,iBAAiBpL,MAAM,UAAUO,MAAO,IAAK80B,kBAAmBpB,IAC/E,WAATlkB,GAAqBA,IAAS7B,GAAoB,cAAC,KAAD,CAAmB9C,MAAM,iBAAiBpL,MAAM,gBAAgBO,MAAO,GAAI80B,kBAAmBpB,IAAoB,KAC3J,WAATlkB,GAAqBA,IAAS7B,GAAoB,cAAC,KAAD,CAAmB9C,MAAM,kBAAkBpL,MAAM,cAAWO,MAAO,GAAI80B,kBAAmBpB,IAAoB,KACvJ,WAATlkB,GAAqBA,IAAS7B,GAAoB,cAAC,KAAD,CAAmB9C,MAAM,qBAAqBpL,MAAM,YAAYO,MAAO,GAAI80B,kBAAmBpB,IAAoB,KACrK,cAAC,KAAD,CAAmB7oB,MAAM,kBAAkBpL,MAAM,gBAAaO,MAAO,GAAI80B,kBAAmBpB,IAClF,WAATlkB,GAAqBA,IAAS7B,GAAoB,cAAC,KAAD,CAAmB9C,MAAM,gBAAgBpL,MAAM,MAAMO,MAAO,GAAI80B,kBAAmBpB,IAAoB,KAC1J,cAAC,KAAD,CAAmB7oB,MAAM,aAAapL,MAAM,MAAMO,MAAO,GAAI80B,kBAAmBpB,IAChF,cAAC,KAAD,CAAmB7oB,MAAM,cAAcpL,MAAM,OAAOO,MAAO,GAAI80B,kBAAmBpB,IAClF,cAAC,KAAD,CAAmB7oB,MAAM,eAAepL,MAAM,QAAQO,MAAO,GAAI80B,kBAAmBpB,IACpF,cAAC,KAAD,CAAmB7oB,MAAM,oBAAoBpL,MAAM,oBAAoBO,MAAO,IAAK80B,kBAAmBpB,IAC5F,WAATlkB,GAAqBA,IAAS7B,GAAsB,cAAC,KAAD,CAAmB9C,MAAM,mBAAmBpL,MAAM,YAAYO,MAAO,GAAI80B,kBAAmBpB,IAAoB,KAC3J,WAATlkB,GAAqBA,IAAS7B,GAAsB,cAAC,KAAD,CAAmB9C,MAAM,gCAAgCpL,MAAM,gBAAgBO,MAAO,GAAI80B,kBAAmBpB,IAAoB,KAC5K,WAATlkB,GAAqBA,IAAS7B,GAAsB,cAAC,KAAD,CAAmB9C,MAAM,sBAAsBpL,MAAM,eAAeO,MAAO,IAAK80B,kBAAmBpB,IAAoB,KAClK,WAATlkB,GAAqBA,IAAS7B,GAAsB,cAAC,KAAD,CAAmB9C,MAAM,uCAAuCpL,MAAM,mBAAmBO,MAAO,IAAK80B,kBAAmBpB,IAAoB,KACvL,WAATlkB,GAAqBA,IAAS7B,GAAsB,cAAC,KAAD,CAAmB9C,MAAM,oCAAoCpL,MAAM,kBAAkBO,MAAO,IAAK80B,kBAAmBpB,IAAoB,KACnL,WAATlkB,GAAqBA,IAAS7B,GAAsB,cAAC,KAAD,CAAmB9C,MAAM,oBAAoBpL,MAAM,oBAAoBO,MAAO,IAAK80B,kBAAmBpB,IAAoB,KACrK,WAATlkB,GAAqBA,IAAS7B,GAAsB,cAAC,KAAD,CAAmB9C,MAAM,qBAAqBpL,MAAM,qBAAqBO,MAAO,IAAK80B,kBAAmBpB,IAAoB,KACjL,cAAC,KAAD,CAAmB7oB,MAAM,WAAWpL,MAAM,WAAWO,MAAO,IAAK80B,kBAAmBpB,IACpF,cAAC,KAAD,CAAmB7oB,MAAM,YAAYpL,MAAM,eAAYO,MAAO,IAAK80B,kBAAmBpB,IACtF,cAAC,KAAD,CAAmB7oB,MAAM,SAASpL,MAAM,SAASO,MAAO,IAAK80B,kBAAmBpB,IAChF,cAAC,KAAD,CAAmB7oB,MAAM,kBAAkBpL,MAAM,WAAWO,MAAO,IAAK80B,kBAAmBpB,IAC3F,cAAC,KAAD,CAAmB7oB,MAAM,wBAAwBpL,MAAM,kBAAkBO,MAAO,IAAK80B,kBAAmBpB,IACxG,cAAC,KAAD,CAAmB7oB,MAAM,iBAAiBpL,MAAM,UAAUO,MAAO,IAAK80B,kBAAmBpB,IACzF,cAAC,KAAD,CAAmB7oB,MAAM,iBAAiBpL,MAAM,iBAAiBO,MAAO,IAAK80B,kBAAmBpB,IAChG,cAAC,KAAD,CAAmB7oB,MAAM,oBAAoBpL,MAAM,oBAAoBO,MAAO,IAAK80B,kBAAmBpB,IACtG,cAAC,KAAD,CAAmB7oB,MAAM,iBAAiBpL,MAAM,iBAAiBO,MAAO,IAAK80B,kBAAmBpB,IAChG,cAAC,KAAD,CAAmB7oB,MAAM,aAAapL,MAAM,aAAaO,MAAO,IAAK80B,kBAAmBpB,IACxF,cAAC,KAAD,CAAmB7oB,MAAM,gBAAgBpL,MAAM,gBAAgBO,MAAO,IAAK80B,kBAAmBpB,IAC9F,cAAC,KAAD,CAAmB7oB,MAAM,cAAcpL,MAAM,YAAYO,MAAO,IAAK80B,kBAAmBpB,IACxF,cAAC,KAAD,CAAmB7oB,MAAM,aAAapL,MAAM,aAAaO,MAAO,IAAK80B,kBAAmBpB,IACxF,cAAC,KAAD,CAAmB7oB,MAAM,iBAAiBpL,MAAM,iBAAiBO,MAAO,IAAK80B,kBAAmBpB,IACtF,WAATlkB,GAAqBA,IAAS7B,GAAqB,cAAC,KAAD,CAAmB9C,MAAM,iBAAiBpL,MAAM,iBAAiBO,MAAO,IAAK80B,kBAAmBpB,IAAmB,KAC7J,WAATlkB,GAAqBA,IAAS7B,GAAuB,cAAC,KAAD,CAAmB9C,MAAM,iBAAiBpL,MAAM,iBAAiBO,MAAO,GAAI80B,kBAAmBpB,IAAmB,KAC9J,WAATlkB,GAAqBA,IAAS7B,GAAqB,cAAC,KAAD,CAAmB9C,MAAM,iBAAiBpL,MAAM,iBAAiBO,MAAO,GAAI80B,kBAAmBpB,IAAmB,KAC5J,WAATlkB,GAAqBA,IAAS7B,GAAqB,cAAC,KAAD,CAAmB9C,MAAM,gBAAgBpL,MAAM,gBAAgBO,MAAO,GAAI80B,kBAAmBpB,IAAmB,KACpK,cAAC,KAAD,CAAmB7oB,MAAM,kBAAkBpL,MAAM,mBAAmBO,MAAO,IAAK80B,kBAAmBpB,IACnG,cAAC,KAAD,CAAmB7oB,MAAM,qBAAqBpL,MAAM,qBAAqBO,MAAO,IAAK80B,kBAAmBpB,IACxG,cAAC,KAAD,CAAmB7oB,MAAM,kBAAkBpL,MAAM,kBAAkBO,MAAO,IAAK80B,kBAAmBpB,IACxF,WAATlkB,EAAoB,cAAC,KAAD,CAAmB3E,MAAM,OAAOpL,MAAM,UAAUo1B,QAAQ,EAAM70B,MAAO,GAAI80B,kBAAmBpB,IAAoB,YClJrInQ,GAAWrF,IAAXqF,OAoNO4hB,OAlNf,YAA8D,IAAD,IAA3Bj2B,gBAA2B,MAAlB,GAAkB,MAAdpJ,gBAAc,MAAL,GAAK,IACnBtF,mBAAS,IADU,oBACpD4kC,EADoD,KACtCC,EADsC,OAErB7kC,mBAAS,IAFY,oBAEpDkgC,EAFoD,KAEvCC,EAFuC,OAGfngC,oBAAS,GAHM,oBAGpD8kC,EAHoD,KAGpCC,EAHoC,OAIjB/kC,mBAAS,IAJQ,oBAIpDglC,EAJoD,KAIrCC,EAJqC,OAKnBjlC,mBAAS,IALU,oBAKpDklC,EALoD,KAKtCC,EALsC,OAMHnlC,mBAAS,IANN,oBAMpD29B,EANoD,KAM9BC,EAN8B,OAOf59B,oBAAS,GAPM,oBAOpDqiC,EAPoD,KAOpCC,EAPoC,OAQjBtiC,oBAAS,GARQ,oBAQpDolC,EARoD,KAQrCC,EARqC,OASbrlC,oBAAS,GATI,oBASpDslC,EAToD,KASnCC,EATmC,OAUfvlC,oBAAS,GAVM,oBAUpD4rB,EAVoD,KAUpCC,EAVoC,OAWb7rB,oBAAS,GAXI,oBAWpDwlC,GAXoD,KAWnCC,GAXmC,QAYnBzlC,oBAAS,GAZU,sBAYpD0lC,GAZoD,MAYtCC,GAZsC,SAaf3lC,oBAAS,GAbM,sBAapD4lC,GAboD,MAapCC,GAboC,SAcjB7lC,oBAAS,GAdQ,sBAcpD8lC,GAdoD,MAcrCC,GAdqC,SAerB/lC,oBAAS,GAfY,sBAepDgmC,GAfoD,MAevCC,GAfuC,SAgBjBjmC,oBAAS,GAhBQ,sBAgBpD21B,GAhBoD,MAgBrCC,GAhBqC,SAiBnB51B,oBAAS,GAjBU,sBAiBpDgvB,GAjBoD,MAiBtCC,GAjBsC,SAkBjBjvB,mBAAS,MAlBQ,sBAkBpDkmC,GAlBoD,MAkBrCC,GAlBqC,eA+B5CzM,KA/B4C,8EA+B3D,sBAAAzjC,EAAA,6DACE8uC,GAAkB,GADpB,SAEehM,IAAW,EAAM,CAAEn0B,OAAQwhC,GAAkC7qB,MAAM,IAC7E3kB,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACHA,GAAMguC,EAAgBhuC,MACxBO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAM+6B,GAAkB,MALxE,oFA/B2D,+BAuC5CsB,GAvC4C,iFAuC3D,WAA8BzK,GAA9B,SAAA3lC,EAAA,sDACEkvC,EAAgB,CAACvJ,IADnB,4CAvC2D,+BA2C5C0K,GA3C4C,iFA2C3D,WAA8BC,GAA9B,SAAAtwC,EAAA,6DACEsvC,GAAmB,GADrB,SAEQxM,IAAY,EAAM,CAAEn0B,OAAQwhC,GAAgChtC,GAAImtC,IACnE3vC,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACFA,GAAQA,EAAK4F,OAAS,GACxBwoC,EAAiBpuC,MAElBO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAMu7B,GAAmB,MAPzE,4CA3C2D,oEAqD3D,WAA8BtD,EAAoBvmB,EAAsBwS,EAAqBiU,EAAW9d,GAAxG,SAAApuB,EAAA,2DACM0nC,GAAwBA,EAAqBlhC,OAAS,GAD5D,uBAEI6lC,GAAkB,GAFtB,SAGUhJ,GAAa,CACjB10B,OAAQwhC,GACRtgC,QAAS63B,EACTjrB,OAAQuvB,EACRlvB,SAAU2I,EACVrW,QAAS6oB,EACTqL,WAAY4I,EACZ9d,gBACCztB,KARG,sBAQE,sBAAAX,EAAA,sEAAiByjC,KAAjB,oFAAkCtiC,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAMs4B,GAAkB,MAX/G,4CArD2D,oEAoE3D,WAAgC7zB,EAAQ4V,GAAxC,6BAAApuB,EAAA,yDAAqDuwC,EAArD,+BAA2D,KACrD7I,GAAwBA,EAAqBlhC,OAAS,GAD5D,wBAEQgqC,EAAe,IAAIC,UACVC,OAAO,SAAUP,IAC9BK,EAAaE,OAAO,UAAW3pB,KAAK4pB,UAAUjJ,IAC9C8I,EAAaE,OAAO,SAAUl4B,GAC9Bg4B,EAAaE,OAAO,cAAetiB,GACnCmiB,EAAM33B,SAAQ,SAACuH,GACbqwB,EAAaE,OAAO,QAASvwB,MAG/BivB,GAAiB,GACjBwB,KAZJ,UAaUrN,GAAkBiN,GACrB7vC,KADG,sBACE,sBAAAX,EAAA,sEAAiByjC,KAAjB,oFACLtiC,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAC3B2S,SAAQ,kBAAMq7B,GAAiB,MAhBtC,6CApE2D,sBAoB3DjrC,qBAAU,WACRs/B,OACC,IAEHt/B,qBAAU,WACJwqC,EAAanoC,OAAO,GACtB0jC,EAAeyE,KAGjB,CAACA,IAmEH,IAAMkC,GAAoB,kBAAMnB,IAAiBD,KAC3CqB,GAAsB,kBAAMlB,IAAmBD,KAC/CoB,GAAqB,kBAAMjB,IAAkBD,KAC7Ce,GAAmB,kBAAMZ,IAAgBD,KACzCvP,GAAqB,kBAAMb,IAAkBD,KAC7CrG,GAAoB,kBAAML,IAAiBD,KAO3CqM,GAAa,uCAAG,WAAOjiC,GAAP,SAAAnD,EAAA,6DACpB+wC,KADoB,SAEdX,GAAejtC,GAFD,2CAAH,sDAKb8gC,GAAa,uCAAG,WAAO9gC,GAAP,SAAAnD,EAAA,6DACpBwgC,KADoB,SAEd6P,GAAeltC,GAFD,2CAAH,sDAjHwC,8CAsH3D,WAA8BvC,GAA9B,eAAAZ,EAAA,2DACM0nC,GAAwBA,EAAqBlhC,OAAS,GAD5D,uBAEUwqC,EAAUpwC,EAChBg1B,GAAkB,GAClByD,KAJJ,SAKUgK,GAAa,aACjB10B,OAAQkB,GAAuBA,QAAS63B,GAAyBsJ,IAChErwC,KAFG,sBAEE,sBAAAX,EAAA,sEAAiByjC,KAAjB,oFAAkCtiC,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAM6hB,GAAkB,MAP/G,6BASI11B,IAAU0B,KAAK,gCAAiC,CAAEvB,SAAU,cAThE,4CAtH2D,sBAmI3D,OACE,sBAAKmE,MAAO,CAAEmQ,aAAc,QAAS9G,UAAW,QAAhD,UACE,gCACE,cAAC,IAAD,CACExJ,KAAK,UACL2D,KAAM6mC,EAAiB,cAACxlB,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAAC6kC,GAAA,EAAD,IAC/CzsC,MAAO,CAAEmQ,aAAc,OAAQ/I,YAAa,SAC5CI,QAASy3B,GAJX,wBAMA,cAAC,IAAD,CACEz7B,KAAMokC,EAAiB,cAAC/iB,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAAC7D,GAAA,EAAD,IAC/C/D,MAAO,CAAEmQ,aAAc,OAAQ/I,YAAa,SAC5C4S,SAA0C,IAAhCkpB,EAAqBlhC,OAC/BwF,QAAS6kC,GAJX,qBAMA,cAAC,IAAD,CACE7oC,KAAM2tB,EAAiB,cAACtM,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAAC8kC,GAAA,EAAD,IAC/C1sC,MAAO,CAAEmQ,aAAc,OAAQ/I,YAAa,SAC5C4S,SAA0C,IAAhCkpB,EAAqBlhC,OAC/BwF,QAASqtB,GAJX,qBAMA,cAAC,IAAD,CACErxB,KAAMmnC,EAAgB,cAAC9lB,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAAC+kC,GAAA,EAAD,IAC9C3sC,MAAO,CAAEmQ,aAAc,OAAQ/I,YAAa,SAC5C4S,SAA0C,IAAhCkpB,EAAqBlhC,OAC/BwF,QAAS4kC,GAJX,oBAMA,cAAC,GAAD,CACEhrC,YAAY,mBACZwrC,SAxER,SAA6B3tC,GACvBA,GAAKA,EAAE+C,OAAS,EAClB0jC,EAAeyE,EAAa93B,QAAO,SAACkD,GAAD,OAAO1X,OAAO0X,EAAE4pB,sBAAsB56B,SAAStF,OAElFymC,EAAeyE,IAqEXnqC,MAAO,CAAE+E,MAAO,IAAKqC,YAAa,SAClC8mB,YAAU,IAEZ,cAAC,KAAD,CACEyJ,QAAS,cAAC,GAAD,CAAwBxtB,OAAQkB,GAAoCkJ,KAAK,SAASkI,WAAYuuB,GAAoB9H,qBAAsBA,IACjJx9B,UAAU,aACVT,QAAS,CAAC,SACV4nC,OAAK,EAJP,SAME,cAAC,IAAD,CACErpC,KAAMunC,GAAkB,cAAClmB,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAAC2rB,GAAA,EAAD,IAChDvzB,MAAO,CAAEmQ,aAAc,OAAQ/I,YAAa,SAF9C,2BAQJ,cAAC,GAAD,CACE67B,WAAW,EACX7mC,KAAMqpC,EACN9pC,QAAS0uC,EACTnH,qBAAsBA,EACtBC,wBAAyBA,EACzBxC,eAjFiB,SAACl8B,GACtBinC,GAAiBjnC,GACjB6nC,MAgFI1L,cAAeA,GACfnB,cAAeA,KAGjB,cAAC,GAAD,CAAclrB,MAAM,EAAM/O,QAAS+uB,GAAclZ,MAAOwZ,GAAmB5gB,SAAUA,EAAUpJ,SAAUA,EAAUm9B,QA7L5D,+CA+LvD,cAAC,GAAD,CAAqBxiC,QAASylC,GAAc5vB,MAAOgxB,GAAmBv0B,QAASkmB,GAAcnzB,SAAUA,EAAU08B,QA/L1D,uDAiMvD,cAAC,GAAD,CAAa/hC,QAAS+lC,GAAalwB,MAAO+wB,GAAkB9F,iBAjML,iDAmMvD,cAAC,GAAD,CAAgB9gC,QAAS2lC,GAAgB9vB,MAAOixB,GAAqB/N,eAAgBkN,KAErF,cAAC,GAAD,CAAejmC,QAAS6lC,GAAehwB,MAAOkxB,GAAoB5wC,SAAS,EAAOgjC,MAAO8L,IAEzF,cAACqC,GAAD,CAAetnC,QAAS01B,GAAe7f,MAAO2gB,GAAoBrgC,QAASkvC,EAAiB9F,UAAWwF,QCjNrGjjC,GAASuR,KAATvR,KCoLOylC,OAjLf,YAAsG,IAApEx4B,EAAmE,EAAnEA,KAAMkI,EAA6D,EAA7DA,WAA6D,IAAjDymB,4BAAiD,MAA5B,GAA4B,EAAxBjO,EAAwB,EAAxBA,YAAaC,EAAW,EAAXA,SAAW,EAC7D3vB,mBAAS,IADoD,oBAC5FkgC,EAD4F,KAC/EC,EAD+E,KAE/FtN,EAAcC,iBAAO,MAF0E,SAIpF8Q,EAJoF,8EAInG,WAA6B6D,GAA7B,SAAAxxC,EAAA,2DACiB,IAAXwxC,GAAgB9J,EAAqBlhC,QAAU,GADrD,yCAEWtG,IAAU0B,KAAK,6CAA8C,CAAEvB,SAAU,eAFpF,UAGwB,IAAXmxC,GAAiB/X,EAH9B,yCAIWv5B,IAAU0B,KAAK,wCAAyC,CAAEvB,SAAU,eAJ/E,UAKwB,IAAXmxC,GAAiB9X,EAL9B,0CAMWx5B,IAAU0B,KAAK,qCAAsC,CAAEvB,SAAU,eAN5E,eAQI4gB,GAAW,GARf,UASiB6hB,IAAW,EAAM,CAC5Bn0B,OAAQkB,GACRyV,KAAiB,IAAXksB,EACNz4B,OACAiqB,WAAY0E,EACZjO,YAAwB,IAAX+X,EAAe/X,EAAc,KAC1CC,SAAqB,IAAX8X,EAAe9X,EAAW,OACnC/4B,KAPU,uCAOL,6BAAAX,EAAA,6DAAOY,EAAP,EAAOA,KAAP,SAAuB6wC,EAAqB7wC,GAA5C,mFAPK,uDAQVD,MAAK,kBAAMq9B,EAAepB,EAAYqB,YACtC98B,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAC3B2S,SAAQ,kBAAMkN,GAAW,MAnBhC,8FAJmG,sBA2BnG,SAAS+c,EAAe7qB,GACtB,IACE,IAAIwZ,EAAUxZ,EAAUkqB,kBACpBrV,EAAO2E,EAAQ2Q,OAAO,GAAGtV,KACzBmmB,GAAa,EACb5Q,GAAe,EACf6Q,GAAqB,EACrBsD,GAAwB,EACxBrD,GAAqB,EACrBC,GAAqB,EACrBE,GAAkB,EACtBxmB,EAAKpP,SAAQ,SAACwH,GACK,WAAbA,EAAI/b,OACN8pC,EAAY/tB,EAAIqd,MAAMxO,WAAU,SAACxrB,GAAD,MAAmB,YAAZA,EAAEyD,SACzCq2B,EAAcnd,EAAIqd,MAAMxO,WAAU,SAACxrB,GAAD,MAAmB,eAAZA,EAAEyD,SAC3CknC,EAAoBhuB,EAAIqd,MAAMxO,WAAU,SAACxrB,GAAD,MAAmB,kBAAZA,EAAEyD,SACjDwqC,EAAuBtxB,EAAIqd,MAAMxO,WAAU,SAACxrB,GAAD,MAAmB,qBAAZA,EAAEyD,SACpDmnC,EAAoBjuB,EAAIqd,MAAMxO,WAAU,SAACxrB,GAAD,MAAmB,mBAAZA,EAAEyD,SACjDonC,EAAoBluB,EAAIqd,MAAMxO,WAAU,SAACxrB,GAAD,MAAmB,mBAAZA,EAAEyD,SACjDsnC,EAAiBpuB,EAAIqd,MAAMxO,WAAU,SAACxrB,GAAD,MAAmB,cAAZA,EAAEyD,UAE/B,SAAbkZ,EAAI/b,OACN+b,EAAIqd,MAAM7kB,SAAQ,SAAC8kB,GACjBA,EAAKC,aAAe,CAAErwB,KAAM,IAC5BowB,EAAKE,WAAa,CAAEtwB,KAAM,IAC1BowB,EAAKG,YAAc,CAAEvwB,KAAM,IAC3BowB,EAAKI,UAAY,CAAExwB,KAAM,OAEvBiwB,GAAe,IACjBnd,EAAIqd,MAAMF,GAAavhB,WAAasxB,GAAYltB,EAAIqd,MAAMF,GAAar2B,OAAO8U,WAC9EoE,EAAIqd,MAAMF,GAAa5xB,MAAQ2hC,GAAYltB,EAAIqd,MAAMF,GAAar2B,OAAOyE,MACzEyU,EAAIqd,MAAMF,GAAar2B,MAAQ+R,GAAYmH,EAAIqd,MAAMF,GAAar2B,OAClEkZ,EAAIqd,MAAMF,GAAare,UAAY,UAEjCkvB,GAAqB,IACvBhuB,EAAIqd,MAAM2Q,GAAmBpyB,WAAasxB,GAAYltB,EAAIqd,MAAM2Q,GAAmBlnC,OAAO8U,WAC1FoE,EAAIqd,MAAM2Q,GAAmBziC,MAAQ2hC,GAAYltB,EAAIqd,MAAM2Q,GAAmBlnC,OAAOyE,MACrFyU,EAAIqd,MAAM2Q,GAAmBlnC,MAAQ+R,GAAYmH,EAAIqd,MAAM2Q,GAAmBlnC,OAC9EkZ,EAAIqd,MAAM2Q,GAAmBlvB,UAAY,UAEvCwyB,GAAwB,IAC1BtxB,EAAIqd,MAAMiU,GAAsB11B,WAAasxB,GAAYltB,EAAIqd,MAAMiU,GAAsBxqC,OAAO8U,WAChGoE,EAAIqd,MAAMiU,GAAsB/lC,MAAQ2hC,GAAYltB,EAAIqd,MAAMiU,GAAsBxqC,OAAOyE,MAC3FyU,EAAIqd,MAAMiU,GAAsBxqC,MAAQ+R,GAAYmH,EAAIqd,MAAMiU,GAAsBxqC,OACpFkZ,EAAIqd,MAAMiU,GAAsBxyB,UAAY,UAE1CmvB,GAAqB,GAAKG,GAAkB,GAAKL,GAAa,IAChE/tB,EAAIqd,MAAM4Q,GAAmBryB,WAAauxB,GAAUntB,EAAIqd,MAAM4Q,GAAmBnnC,MAAOkZ,EAAIqd,MAAM0Q,GAAWjnC,MAAOkZ,EAAIqd,MAAM+Q,GAAgBtnC,OAAO8U,WACrJoE,EAAIqd,MAAM4Q,GAAmB1iC,MAAQ4hC,GAAUntB,EAAIqd,MAAM4Q,GAAmBnnC,MAAOkZ,EAAIqd,MAAM0Q,GAAWjnC,MAAOkZ,EAAIqd,MAAM+Q,GAAgBtnC,OAAOyE,MAChJyU,EAAIqd,MAAM4Q,GAAmBnvB,UAAY,UAEvCovB,GAAqB,GAAKE,GAAkB,GAAKL,GAAa,IAChE/tB,EAAIqd,MAAM6Q,GAAmBtyB,WAAauxB,GAAUntB,EAAIqd,MAAM6Q,GAAmBpnC,MAAOkZ,EAAIqd,MAAM0Q,GAAWjnC,MAAOkZ,EAAIqd,MAAM+Q,GAAgBtnC,OAAO8U,WACrJoE,EAAIqd,MAAM6Q,GAAmB3iC,MAAQ4hC,GAAUntB,EAAIqd,MAAM6Q,GAAmBpnC,MAAOkZ,EAAIqd,MAAM0Q,GAAWjnC,MAAOkZ,EAAIqd,MAAM+Q,GAAgBtnC,OAAOyE,MAChJyU,EAAIqd,MAAM6Q,GAAmBpvB,UAAY,cAI/C/L,EAAU4qB,KAAKpR,GACf,MAAO1rB,GACPK,QAAQC,IAAIN,IAvFmF,SA2FpFwwC,EA3FoF,8EA2FnG,WAAqC7wC,GAArC,SAAAZ,EAAA,2DACMY,GAAQA,EAAK4F,OAAS,GAD5B,gCAEiB0jC,EAAetpC,EAAK6F,KAAI,SAACkW,GAAD,mBAAC,eACjCA,GADgC,IAEnC2mB,WAAY3mB,EAAE2mB,WAAatuB,KAAO2H,EAAE2mB,YAAYlkB,OAAO,YAAY,IACnEklB,eAAgB3nB,EAAE2nB,eAAiBtvB,KAAO2H,EAAE2nB,gBAAgBllB,OAAO,kBAAkB,IACrF2uB,eAAgBpxB,EAAEoxB,eAAiB/4B,KAAO2H,EAAEoxB,gBAAgB3uB,OAAO,kBAAkB,IACrF0uB,gBAAiBnxB,EAAEmxB,gBAAkB94B,KAAO2H,EAAEmxB,iBAAiB1uB,OAAO,kBAAkB,IACxF4uB,eAAgBrxB,EAAE2nB,eAAiBtvB,KAAO2H,EAAEmxB,iBAAiBxtB,KAAK3D,EAAE2nB,eAAgB,SAAW,IAC/F2J,eAAgBtxB,EAAEoxB,eAAiB/4B,KAAO2H,EAAEmxB,iBAAiBxtB,KAAK3D,EAAEoxB,eAAgB,SAAW,UATrG,+CAYI7D,EAAe,IAZnB,4CA3FmG,sBA2GnG,IAAMjN,EAAgB,CACpBjhB,WAAY,UACZkhB,MAAM,EACNvhB,SAAU,GACVyhB,WAAW,GAGb,OACE,eAAC,KAAD,WACE,cAAC,KAAK/3B,KAAN,CAAWb,MAAO,CAAEqI,OAAQ,EAAG4hC,OAAQ,UAAoBziC,QAAS,kBAAM2hC,EAAc,IAAxF,gBAAwD,GACxD,cAAC,KAAKtoC,KAAN,CAAWb,MAAO,CAAEqI,OAAQ,EAAG4hC,OAAQ,UAAoBziC,QAAS,kBAAM2hC,EAAc,IAAxF,yBAAwD,GACxD,cAAC,KAAKtoC,KAAN,CAAWb,MAAO,CAAEqI,OAAQ,EAAG4hC,OAAQ,UAAoBziC,QAAS,kBAAM2hC,EAAc,IAAxF,mBAAwD,GACxD,eAAC,KAAD,CACE/sC,KAAMqpC,EACN/L,SAAQ,qBAAgBnlB,EAAhB,YAAwB/D,OAASoK,OAAO,cAAxC,SACR+e,IAAKvB,EAHP,UAKY,WAAT7jB,EAAoB,cAAC,KAAD,CAAmB3E,MAAM,OAAOpL,MAAM,UAAUo1B,QAAQ,EAAM70B,MAAO,GAAI80B,kBAAmBpB,IAAoB,KACrI,cAAC,KAAD,CAAmB7oB,MAAM,uBAAuBpL,MAAM,gBAAgBo1B,QAAQ,EAAM70B,MAAO,GAAI80B,kBAAmBpB,IAClH,cAAC,KAAD,CAAmB7oB,MAAM,cAAcpL,MAAM,cAAco1B,QAAQ,EAAM70B,MAAO,GAAI80B,kBAAmBpB,IACvG,cAAC,KAAD,CAAmB7oB,MAAM,iBAAiBpL,MAAM,iBAAiBq1B,kBAAmBpB,IACpF,cAAC,KAAD,CAAmB7oB,MAAM,iBAAiBpL,MAAM,UAAUO,MAAO,IAAK80B,kBAAmBpB,IAC/E,WAATlkB,GAAqBA,IAAS7B,GAAoB,cAAC,KAAD,CAAmB9C,MAAM,iBAAiBpL,MAAM,gBAAgBO,MAAO,GAAI80B,kBAAmBpB,IAAoB,KAC3J,WAATlkB,GAAqBA,IAAS7B,GAAoB,cAAC,KAAD,CAAmB9C,MAAM,kBAAkBpL,MAAM,cAAWO,MAAO,GAAI80B,kBAAmBpB,IAAoB,KACvJ,WAATlkB,GAAqBA,IAAS7B,GAAoB,cAAC,KAAD,CAAmB9C,MAAM,qBAAqBpL,MAAM,YAAYO,MAAO,GAAI80B,kBAAmBpB,IAAoB,KACrK,cAAC,KAAD,CAAmB7oB,MAAM,kBAAkBpL,MAAM,gBAAaO,MAAO,GAAI80B,kBAAmBpB,IAClF,WAATlkB,GAAqBA,IAAS7B,GAAoB,cAAC,KAAD,CAAmB9C,MAAM,gBAAgBpL,MAAM,MAAMO,MAAO,GAAI80B,kBAAmBpB,IAAoB,KAC1J,cAAC,KAAD,CAAmB7oB,MAAM,aAAapL,MAAM,MAAMO,MAAO,GAAI80B,kBAAmBpB,IAChF,cAAC,KAAD,CAAmB7oB,MAAM,cAAcpL,MAAM,OAAOO,MAAO,GAAI80B,kBAAmBpB,IAClF,cAAC,KAAD,CAAmB7oB,MAAM,eAAepL,MAAM,QAAQO,MAAO,GAAI80B,kBAAmBpB,IACpF,cAAC,KAAD,CAAmB7oB,MAAM,oBAAoBpL,MAAM,oBAAoBO,MAAO,IAAK80B,kBAAmBpB,IAC5F,WAATlkB,GAAqBA,IAAS7B,GAAsB,cAAC,KAAD,CAAmB9C,MAAM,mBAAmBpL,MAAM,YAAYO,MAAO,GAAI80B,kBAAmBpB,IAAoB,KAC3J,WAATlkB,GAAqBA,IAAS7B,GAAsB,cAAC,KAAD,CAAmB9C,MAAM,gCAAgCpL,MAAM,gBAAgBO,MAAO,GAAI80B,kBAAmBpB,IAAoB,KAC5K,WAATlkB,GAAqBA,IAAS7B,GAAsB,cAAC,KAAD,CAAmB9C,MAAM,sBAAsBpL,MAAM,eAAeO,MAAO,IAAK80B,kBAAmBpB,IAAoB,KAC5K,cAAC,KAAD,CAAmB7oB,MAAM,WAAWpL,MAAM,WAAWO,MAAO,IAAK80B,kBAAmBpB,IACpF,cAAC,KAAD,CAAmB7oB,MAAM,SAASpL,MAAM,SAASO,MAAO,IAAK80B,kBAAmBpB,IAChF,cAAC,KAAD,CAAmB7oB,MAAM,kBAAkBpL,MAAM,WAAWO,MAAO,IAAK80B,kBAAmBpB,IAC3F,cAAC,KAAD,CAAmB7oB,MAAM,gBAAgBpL,MAAM,SAASO,MAAO,IAAK80B,kBAAmBpB,IACvF,cAAC,KAAD,CAAmB7oB,MAAM,iBAAiBpL,MAAM,UAAUO,MAAO,IAAK80B,kBAAmBpB,IACzF,cAAC,KAAD,CAAmB7oB,MAAM,iBAAiBpL,MAAM,iBAAiBO,MAAO,IAAK80B,kBAAmBpB,IAChG,cAAC,KAAD,CAAmB7oB,MAAM,oBAAoBpL,MAAM,oBAAoBO,MAAO,IAAK80B,kBAAmBpB,IACtG,cAAC,KAAD,CAAmB7oB,MAAM,iBAAiBpL,MAAM,iBAAiBO,MAAO,IAAK80B,kBAAmBpB,IAChG,cAAC,KAAD,CAAmB7oB,MAAM,aAAapL,MAAM,aAAaO,MAAO,IAAK80B,kBAAmBpB,IACxF,cAAC,KAAD,CAAmB7oB,MAAM,gBAAgBpL,MAAM,gBAAgBO,MAAO,IAAK80B,kBAAmBpB,IAC9F,cAAC,KAAD,CAAmB7oB,MAAM,mBAAmBpL,MAAM,mBAAmBO,MAAO,IAAK80B,kBAAmBpB,IACpG,cAAC,KAAD,CAAmB7oB,MAAM,cAAcpL,MAAM,YAAYO,MAAO,IAAK80B,kBAAmBpB,IACxF,cAAC,KAAD,CAAmB7oB,MAAM,aAAapL,MAAM,aAAaO,MAAO,IAAK80B,kBAAmBpB,IACxF,cAAC,KAAD,CAAmB7oB,MAAM,iBAAiBpL,MAAM,iBAAiBO,MAAO,IAAK80B,kBAAmBpB,IAChG,cAAC,KAAD,CAAmB7oB,MAAM,kBAAkBpL,MAAM,kBAAkBO,MAAO,IAAK80B,kBAAmBpB,IACxF,WAATlkB,GAAqBA,IAAS7B,GAAqB,cAAC,KAAD,CAAmB9C,MAAM,iBAAiBpL,MAAM,iBAAiBO,MAAO,IAAK80B,kBAAmBpB,IAAmB,KAC7J,WAATlkB,GAAqBA,IAAS7B,GAAuB,cAAC,KAAD,CAAmB9C,MAAM,iBAAiBpL,MAAM,iBAAiBO,MAAO,GAAI80B,kBAAmBpB,IAAmB,KAC9J,WAATlkB,GAAqBA,IAAS7B,GAAqB,cAAC,KAAD,CAAmB9C,MAAM,iBAAiBpL,MAAM,iBAAiBO,MAAO,GAAI80B,kBAAmBpB,IAAmB,KACtK,cAAC,KAAD,CAAmB7oB,MAAM,qBAAqBpL,MAAM,qBAAqBO,MAAO,IAAK80B,kBAAmBpB,IACxG,cAAC,KAAD,CAAmB7oB,MAAM,kBAAkBpL,MAAM,kBAAkBO,MAAO,IAAK80B,kBAAmBpB,IAClG,cAAC,KAAD,CAAmB7oB,MAAM,wBAAwBpL,MAAM,wBAAwBO,MAAO,IAAK80B,kBAAmBpB,IAC9G,cAAC,KAAD,CAAmB7oB,MAAM,+BAA+BpL,MAAM,2BAAwBO,MAAO,IAAK80B,kBAAmBpB,IAC3G,WAATlkB,EAAoB,cAAC,KAAD,CAAmB3E,MAAM,OAAOpL,MAAM,UAAUo1B,QAAQ,EAAM70B,MAAO,GAAI80B,kBAAmBpB,IAAoB,YCvKrInxB,GAASuR,KAATvR,K,ICKA2yB,GAAgBC,KAAhBD,YA2MOkT,OAzMf,YAA4C,IAAhB54B,EAAe,EAAfA,KAAMzV,EAAS,EAATA,OAAS,EACHyG,mBAAS,IADN,oBAClCkgC,EADkC,KACrBC,EADqB,OAECngC,mBAAS,IAFV,oBAElCglC,EAFkC,KAEnBC,EAFmB,OAGejlC,mBAAS,IAHxB,oBAGlC29B,EAHkC,KAGZC,EAHY,OAIS59B,oBAAS,GAJlB,oBAIlCuJ,EAJkC,KAIfC,EAJe,OAKGxJ,oBAAS,GALZ,oBAKlC8kC,EALkC,KAKlBC,EALkB,OAMC/kC,oBAAS,GANV,oBAMlC6nC,EANkC,KAMnBC,EANmB,OAOK9nC,oBAAS,GAPd,oBAOlCwlC,EAPkC,KAOjBC,EAPiB,OAQKzlC,oBAAS,GARd,oBAQlCslC,EARkC,KAQjBC,EARiB,OASGvlC,mBAAS,IATZ,oBASlC06B,EATkC,KASlBoD,EATkB,OAUK99B,mBAAS,IAVd,oBAUlC46B,EAVkC,KAUjBoD,EAViB,OAWWh+B,mBAAS,IAXpB,oBAWlC66B,EAXkC,KAWdoD,EAXc,OAYGj+B,mBAAS,IAZZ,qBAYlCksB,GAZkC,MAYlBC,GAZkB,SAaDnsB,mBAAS,IAbR,sBAalCosB,GAbkC,MAapBC,GAboB,SAcCrsB,mBAAS,IAdV,sBAclC8uB,GAdkC,MAcnBC,GAdmB,SAeO/uB,mBAAS,IAfhB,sBAelCiU,GAfkC,MAehB8zB,GAfgB,SAgBL/nC,mBAAS,IAhBJ,sBAgBlCk7B,GAhBkC,MAgBtBqD,GAhBsB,SAiBPv+B,mBAAS,IAjBF,sBAiBlCi7B,GAjBkC,MAiBvBqD,GAjBuB,SAkBGt+B,mBAAS,IAlBZ,sBAkBlCi6B,GAlBkC,MAkBlBwE,GAlBkB,SAmBCz+B,oBAAS,GAnBV,sBAmBlC21B,GAnBkC,MAmBnBC,GAnBmB,SAoBH51B,mBAAS,MApBN,sBAoBlC0vB,GApBkC,MAoBrBsY,GApBqB,SAqBThoC,mBAAS,MArBA,sBAqBlC2vB,GArBkC,MAqBxBsY,GArBwB,eA4B1BvO,KA5B0B,8EA4BzC,sBAAAzjC,EAAA,6DACE8uC,GAAkB,GAClBv7B,GAAqB,GACrBo0B,EAAwB,IAH1B,SAIQ7E,IAAW,EAAM,CAAEn0B,OAAQmB,GAAQmC,2BAA4B8G,OAAM0gB,YAAa,KAAMC,SAAU,OACrG/4B,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACFA,GAAQA,EAAK4F,OAAS,EACxBwwB,GAAep2B,GACR4yB,QACRryB,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,WAAO+6B,GAAkB,GAAQv7B,GAAqB,MATtG,4CA5ByC,oEAwCzC,sBAAAvT,EAAA,0DACMy5B,KAAeC,GADrB,uBAEIoV,GAAkB,GAClB+C,GAAiB,GACjBlK,EAAwB,IAJ5B,SAKU7E,IAAW,EAAM,CAAEn0B,OAAQmB,GAAQmC,2BAA4B8G,OAAM0gB,eAAaC,cACrF/4B,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACFA,GAAQA,EAAK4F,OAAS,EACxBwwB,GAAep2B,GACR4yB,QACRryB,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,WAAO+6B,GAAkB,GAAQ+C,GAAiB,MAVpG,6BAYI3xC,IAAU0B,KAAK,wCAAyC,CAAEvB,SAAU,cAZxE,oDAxCyC,sBAuBzC8D,qBAAU,WACRs/B,OAEA,IA8BF,IAAMjD,GAAqB,kBAAMb,IAAkBD,KAxDV,SA0D1B2Q,GA1D0B,iFA0DzC,WAA8BC,GAA9B,SAAAtwC,EAAA,6DACEsvC,GAAmB,GADrB,SAEQxM,IAAY,EAAM,CAAEn0B,OAAQ,KAAMxL,GAAImtC,IACzC3vC,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACFA,GAAQA,EAAK4F,OAAS,GACxBwoC,EAAiBpuC,MAElBO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAMu7B,GAAmB,MAPzE,4CA1DyC,sBAoEzC,IAAMrL,GAAa,uCAAG,WAAO9gC,GAAP,SAAAnD,EAAA,6DACpBwgC,KADoB,SAEd6P,GAAeltC,GAFD,2CAAH,sDAebqwB,GAAiB,WACrB0W,EAAe,IACfrC,EAAkB,IAClBE,EAAmB,IACnBC,EAAsB,IACtB8J,GAAoB,IACpBxJ,GAAc,IACdpS,GAAkB,KAGdc,GAAiB,SAACp2B,GACtBspC,EAAetpC,GACfinC,EAAkB3Y,GAAoBtuB,EAAM,aAC5CmnC,EAAmB7Y,GAAoBtuB,EAAM,eAC7ConC,EAAsB9Y,GAAoBtuB,EAAM,kBAChDkxC,GAAoB5iB,GAAoBtuB,EAAM,oBAC9C0nC,GAAcpZ,GAAoBtuB,EAAM,gBACxCynC,GAAanZ,GAAoBtuB,EAAM,eACvC4nC,GAAkBtZ,GAAoBtuB,EAAM,gBAC5Cs1B,GAAkBrH,GAAgBjuB,EAAM,aACxCw1B,GAAgBvH,GAAgBjuB,EAAM,UAAU,IAChDk4B,GAAiBjK,GAAgBjuB,EAAM,uBAmCzC,OACE,gCACE,gCACE,cAAC,IAAD,CACEyD,KAAK,UACL2D,KAAMsL,EAAoB,cAAC+V,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAAC6kC,GAAA,EAAD,IAClDzyB,SAAUlL,EACV9O,MAAO,CAAEmQ,aAAc,OAAQ/I,YAAa,SAC5CI,QAASy3B,GALX,wBAOA,cAAC,KAAD,CACEtH,QAAS,cAAC,GAAD,CAAwBpjB,KAAMzV,EAAS,SAAWyV,EAAMkI,WAAYuuB,EAAoB9H,qBAAsBA,EAAsBjO,YAAaA,GAAaC,SAAUA,KACjLxvB,UAAU,aACVT,QAAS,CAAC,SACV4nC,OAAK,EAJP,SAME,cAAC,IAAD,CACErpC,KAAMunC,EAAkB,cAAClmB,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAAC2rB,GAAA,EAAD,IAChDvzB,MAAO,CAAEmQ,aAAc,OAAQ/I,YAAa,SAC5C4S,SAAU+wB,EAHZ,wBAQF,cAAC,GAAD,CAAa96B,SA1FO,SAAChR,GACrBA,GACFsuC,GAAetuC,EAAE,GAAG2b,OAAO,eAC3B4yB,GAAYvuC,EAAE,GAAG2b,OAAO,iBAExB2yB,GAAe,MACfC,GAAY,QAoFgCxtC,MAAO,CAAEmQ,aAAc,OAAQ/I,YAAa,WACtF,cAAC,IAAD,CACEvH,KAAK,UACL2D,KAAM4pC,EAAgB,cAACvoB,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAAC40B,GAAA,EAAD,IAC9CxiB,SAAUozB,EACV5lC,QAxKiC,4CAoKnC,uBASF,cAAC,KAAD,CACEiQ,OAAO,MACP2b,aAAc,CACZC,YAAa,GACbC,gBAAiB4P,EACjBjzB,SAAU,SAAChR,GAAD,OAAOkkC,EAAwBlkC,KAE3CyY,QAxEA5Y,EDjHO,WAYZ,IAHD0gC,EAGA,uDAHe,GACfC,EAEA,uCADAR,EACA,yCAEA,MAAO,CACL,CACEz6B,MAAO,IACPO,MAAO,GACPyoB,MAAO,OACPtY,OAAQ,SAACzE,EAAE+K,EAAGnX,GAAN,OAAYA,EAAE,IAExB,CACEG,MAAO,UACPuQ,UAAW,OACXhQ,MAAO,IACPyoB,MAAO,QAET,CACEhpB,MAAO,gBACPuQ,UAAW,uBACXhQ,MAAO,IACPyoB,MAAO,OACPtY,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEl7B,MAAO,iBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEl7B,MAAO,aACPuQ,UAAW,kBACXhV,MAAO,SACPgF,MAAO,IACPsoB,SAjCJ,uDAPiB,KAwCkC,GAC/CC,SAAU,SAACznB,EAAE4V,GAAH,OAA0C,IAAjCA,EAAEqlB,gBAAgBvT,QAAQ1nB,KAE/C,CACErB,MAAO,MACPuQ,UAAW,aACXhQ,MAAO,GACPsoB,SAxCJ,uDALU,KA6C2B,GACjCC,SAAU,SAACznB,EAAE4V,GAAH,OAAqD,IAA5C5d,OAAO4d,EAAEslB,YAAYxT,QAAQ1vB,OAAOgI,MAEzD,CACErB,MAAO,OACPuQ,UAAW,cACXhQ,MAAO,GACPsoB,SA/CJ,uDANW,KAqD4B,GACnCC,SAAU,SAACznB,EAAE4V,GAAH,OAAsC,IAA7BA,EAAEulB,YAAYzT,QAAQ1nB,KAE3C,CACErB,MAAO,QACPuQ,UAAW,eACXhQ,MAAO,GACPqQ,OAAQ,SAAC5Z,EAAG6Z,GACV,OAAI7Z,EAAEylC,aAAe5rB,EAAE4rB,cACb,EAENzlC,EAAEylC,aAAe5rB,EAAE4rB,aACd,EAEF,IAGX,CACEz8B,MAAO,WACPuQ,UAAW,WACXhQ,MAAO,IACPsoB,SApEJ,uDAXe,KA+EgC,GAC3CC,SAAU,SAACznB,EAAE4V,GAAH,OAAmC,IAA1BA,EAAE4lB,SAAS9T,QAAQ1nB,KAExC,CACErB,MAAO,aACPuQ,UAAW,aACXhQ,MAAO,IACPhF,MAAO,SACPstB,SA5EJ,uDAVgB,KAsFiC,GAC7CC,SAAU,SAACznB,EAAE4V,GAAH,OAAqC,IAA5BA,EAAEnJ,WAAWib,QAAQ1nB,IACxCqP,OAAQ,SAACjW,GAAD,OAAO,cAAC,GAAD,CAAW+U,OAAQ/U,MAEpC,CACEuF,MAAO,gBACPuQ,UAAW,gBACXhQ,MAAO,IACPhF,MAAO,SACPstB,SArFJ,uDATmB,KA8FoC,GACnDC,SAAU,SAACznB,EAAE4V,GAAH,OAAwC,IAA/BA,EAAE+lB,cAAcjU,QAAQ1nB,IAC3CqP,OAAQ,SAACjW,GAAD,OAAO,cAAC,GAAD,CAAW+U,OAAQ/U,MAEpC,CACEuF,MAAO,mBACPuQ,UAAW,mBACXhQ,MAAO,IACPhF,MAAO,SACPmV,OAAQ,SAACjW,GAAD,OAAO,cAAC,GAAD,CAAW+U,OAAQ/U,MAEpC,CACEuF,MAAO,WACPuQ,UAAW,WACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEboY,SAvGJ,uDARe,KA+GgC,GAC3CC,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAEnD,cACcrb,IAAfwe,EAAEnD,UAC0B,IAA9BmD,EAAEnD,SAAS9I,IAAI+d,QAAQ1nB,IAKlCqP,OAAQ,SAACzQ,GAAD,OACN,cAAC,KAAD,CAASiB,UAAU,UAAUlB,MAAOC,EAAIA,EAAE/F,OAAO,IAAjD,SACG+F,EAAIA,EAAE/F,OAAO,QAIpB,CACE8F,MAAO,oBACPuQ,UAAW,oBACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEboY,SA9HJ,uDAJc,KAkI+B,GACzCC,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAEgyB,oBACDhyB,EAAEgyB,mBACmC,IAAvChyB,EAAEgyB,kBAAkBj+B,IAAI+d,QAAQ1nB,IAK3CqP,OAAQ,SAACC,GAAD,OACN,cAAC,KAAD,CAASzP,UAAU,UAAUlB,MAAO2Q,EAAIA,EAAEzW,OAAO,IAAIyW,EAAE/E,UAAU,IAAjE,SACG+E,EAAIA,EAAEzW,OAAO,IAAIyW,EAAE/E,UAAU,QAIpC,CACE5L,MAAO,oBACPuQ,UAAW,2BACXhQ,MAAO,KAET,CACEP,MAAO,cACPuQ,UAAW,cACXhQ,MAAO,KAET,CACEP,MAAO,2BACPuQ,UAAW,+BACXhQ,MAAO,KAET,CACEP,MAAO,wBACPuQ,UAAW,qBACXhQ,MAAO,KAET,CACEP,MAAO,2BACPuQ,UAAW,wBACXhQ,MAAO,KAET,CACEP,MAAO,iBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAAC0hB,GACP,OAAIA,EACKpmB,KAAOomB,GAAOhc,OAAO,kBAErB,MAIb,CACEpW,MAAO,kBACPuQ,UAAW,kBACXhQ,MAAO,IACPmQ,OAAQ,SAAC0hB,GACP,OAAIA,EACKpmB,KAAOomB,GAAOhc,OAAO,kBAErB,MAIb,CACEpW,MAAO,YACPuQ,UAAW,cACXhQ,MAAO,IACPhF,MAAO,SACPytB,MAAO,QACPH,QAASmS,EAAiBA,EAAentB,QAAO,SAACpT,GAAD,OAAOA,EAAE4T,QAAQ,GACjEya,SAAU,SAACznB,EAAE4V,GACX,SAAIA,EAAEmkB,cAAe/5B,IACkB,IAA7B4V,EAAEmkB,YAAYrS,QAAQ1nB,IAKlCqP,OAAQ,SAAC2qB,GACP,OAAIA,EACK,cAAC,KAAD,CAAK14B,MAAM,OAAX,SAAmB04B,SAE1B,IAIN,CACEr7B,MAAO,QACPuQ,UAAW,iBACXhQ,MAAO,GACPhF,MAAO,SACPytB,MAAO,QACPpY,OAAQ,SAAC5Z,EAAG6Z,GACV,OAAI7E,OAASsL,KAAKtgB,EAAEskC,eAAgB,SAAWtvB,OAASsL,KAAKzG,EAAEyqB,eAAgB,UACrE,EAENtvB,OAASsL,KAAKtgB,EAAEskC,eAAgB,SAAWtvB,OAASsL,KAAKzG,EAAEyqB,eAAgB,SACtE,EAEF,GAET5qB,OAAQ,SAAC0hB,EAAOhb,GACd,IAAKA,EAAIkjB,YAAclI,EAAO,CAC5B,GAAIhb,EAAIrH,OAAS7B,IAAqBkJ,EAAI2tB,eAAgB,CACxD,IAAIjuB,EAAQ9K,OAASsL,KAAKF,EAAI2tB,eAAgB,SAC9C,OAAO,cAAC,KAAD,CAAKpiC,MAAOmU,GAAS,GAAK,QAAUA,EAAQ,IAAMA,GAAS,GAAK,UAAYA,EAAQ,GAAK,UAAY,GAArG,SAA0GA,IAC5G,GAAIM,EAAIrH,OAAS7B,GAAqB,CAC3C,IAAI4I,EAAQ9K,OAASsL,KAAK8a,EAAO,SACjC,OAAO,cAAC,KAAD,CAAKzvB,MAAOmU,GAAS,GAAK,QAAUA,EAAQ,IAAMA,GAAS,GAAK,UAAYA,EAAQ,GAAK,UAAY,GAArG,SAA0GA,IAEjH,OAAO,cAAC,KAAD,gBAGT,OAAO,cAAC,KAAD,CAAKnU,MAAM,OAAX,SAAmBqJ,OAASsL,KAAK8a,EAAO,aAIrD,CACEpyB,MAAO,WACPuQ,UAAW,MACXhQ,MAAO,IACPhF,MAAO,SACPytB,MAAO,QACPtY,OAAQ,SAACvW,EAAIid,GAAL,OACN,gCACE,cAACmkB,GAAA,EAAD,CACE//B,MAAO,CAAEmX,SAAU,SAAU/P,YAAa,SAC1CI,QAAS,kBAAMi4B,EAAc9gC,MAE/B,cAAC,GAAD,CAAgBid,IAAKA,EAAKqjB,cAAeA,UC1JtCyO,CACLzN,EACAE,EACAC,EACA3O,GACAjY,GACAinB,GACAD,GACAnM,GACAmL,GACAC,GACAR,IH5HO,SACb1qB,GAaC,IAHDirB,EAGA,0DAHe,GACfjiB,EAEA,yCADA0hB,EACA,yCAEM0O,EAAoB,CACxB,CACEjvB,SAAS,EACTF,OAAO,EACPha,MAAO,IACPO,MAAO,GACPyoB,MAAO,OACPtY,OAAQ,SAACzE,EAAE+K,EAAGnX,GAAN,OAAYA,EAAE,IAExB,CACEqa,SAAS,EACTF,OAAO,EACPha,MAAO,gBACPuQ,UAAW,uBACXhQ,MAAO,IACPyoB,MAAO,OACPtY,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEhhB,SAAS,EACTF,OAAO,EACPha,MAAO,gBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEhhB,SAAS,EACTF,OAAO,EACPha,MAAO,WACPuQ,UAAW,kBACXhQ,MAAO,IACPmQ,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEhhB,SAAS,EACTF,OAAO,EACPha,MAAO,iBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEhhB,SAAS,EACTF,OAAO,EACPha,MAAO,aACPuQ,UAAW,kBACXhV,MAAO,SACPgF,MAAO,IACPsoB,SAnDJ,uDANiB,KAyDkC,GAC/CC,SAAU,SAACznB,EAAE4V,GAAH,OAA0C,IAAjCA,EAAEqlB,gBAAgBvT,QAAQ1nB,KAE/C,CACE6Y,SAAS,EACTF,OAAO,EACPha,MAAO,MACPuQ,UAAW,aACXhQ,MAAO,GACPsoB,SA5DJ,uDAJU,KAgE2B,GACjCC,SAAU,SAACznB,EAAE4V,GAAH,OAAqD,IAA5C5d,OAAO4d,EAAEslB,YAAYxT,QAAQ1vB,OAAOgI,MAEzD,CACE6Y,SAAS,EACTF,OAAO,EACPha,MAAO,OACPuQ,UAAW,cACXhQ,MAAO,GACPsoB,SArEJ,uDALW,KA0E4B,GACnCC,SAAU,SAACznB,EAAE4V,GAAH,OAAsC,IAA7BA,EAAEulB,YAAYzT,QAAQ1nB,KAE3C,CACE6Y,SAAS,EACTF,OAAO,EACPha,MAAO,QACPuQ,UAAW,eACXhQ,MAAO,GACPqQ,OAAQ,SAAC5Z,EAAG6Z,GACV,OAAI7Z,EAAEylC,aAAe5rB,EAAE4rB,cACb,EAENzlC,EAAEylC,aAAe5rB,EAAE4rB,aACd,EAEF,IAGX,CACEviB,SAAS,EACTF,OAAO,EACPha,MAAO,WACPuQ,UAAW,WACXhQ,MAAO,IACPsoB,SA9FJ,uDAZe,KA0GgC,GAC3CC,SAAU,SAACznB,EAAE4V,GAAH,OAAmC,IAA1BA,EAAE4lB,SAAS9T,QAAQ1nB,KAExC,CACE6Y,SAAS,EACTF,OAAO,EACPha,MAAO,aACPuQ,UAAW,aACXhQ,MAAO,IACPhF,MAAO,SACPstB,SAxGJ,uDAXgB,KAmHiC,GAC7CC,SAAU,SAACznB,EAAE4V,GAAH,OAAqC,IAA5BA,EAAEnJ,WAAWib,QAAQ1nB,IACxCqP,OAAQ,SAACjW,GAAD,OAAO,cAAC,GAAD,CAAW+U,OAAQ/U,MAEpC,CACEyf,SAAS,EACTF,OAAO,EACPha,MAAO,gBACPuQ,UAAW,gBACXhQ,MAAO,IACPhF,MAAO,SACPstB,SAnHJ,uDAVmB,KA6HoC,GACnDC,SAAU,SAACznB,EAAE4V,GAAH,OAAwC,IAA/BA,EAAE+lB,cAAcjU,QAAQ1nB,IAC3CqP,OAAQ,SAACjW,GAAD,OAAO,cAAC,GAAD,CAAW+U,OAAQ/U,MAEpC,CACEyf,SAAS,EACTF,OAAO,EACPha,MAAO,mBACPuQ,UAAW,mBACXhQ,MAAO,IACPhF,MAAO,SACPmV,OAAQ,SAACjW,GAAD,OAAO,cAAC,GAAD,CAAW+U,OAAQ/U,MAEpC,CACEyf,SAAS,EACTF,OAAO,EACPha,MAAO,WACPuQ,UAAW,WACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEboY,SAzIJ,uDATe,KAkJgC,GAC3CC,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAEnD,cACcrb,IAAfwe,EAAEnD,UAC0B,IAA9BmD,EAAEnD,SAAS9I,IAAI+d,QAAQ1nB,IAKlCqP,OAAQ,SAACzQ,GAAD,OACN,cAAC,KAAD,CAASiB,UAAU,UAAUlB,MAAOC,EAAIA,EAAE/F,OAAO,IAAjD,SACG+F,EAAIA,EAAE/F,OAAO,QAIpB,CACEggB,SAAS,EACTF,OAAO,EACPha,MAAO,SACPuQ,UAAW,SACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEboY,SAlKJ,uDARa,KA0K8B,GACvCC,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAE3c,YACY7B,IAAbwe,EAAE3c,QACwB,IAA5B2c,EAAE3c,OAAO0Q,IAAI+d,QAAQ1nB,IAKhCqP,OAAQ,SAACqD,GAAD,OACN,cAAC,KAAD,CAAS7S,UAAU,UAAUlB,MAAO+T,EAAIA,EAAE7Z,OAAO,IAAI6Z,EAAEnI,UAAU,IAAjE,SACGmI,EAAIA,EAAE7Z,OAAO,IAAI6Z,EAAEnI,UAAU,QAIpC,CACEsO,SAAS,EACTF,OAAO,EACPha,MAAO,oBACPuQ,UAAW,oBACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEboY,SA3LJ,uDAPc,KAkM+B,GACzCC,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAEgyB,oBACDhyB,EAAEgyB,mBACmC,IAAvChyB,EAAEgyB,kBAAkBj+B,IAAI+d,QAAQ1nB,IAK3CqP,OAAQ,SAACC,GAAD,OACN,cAAC,KAAD,CAASzP,UAAU,UAAUlB,MAAO2Q,EAAIA,EAAEzW,OAAO,IAAIyW,EAAE/E,UAAU,IAAjE,SACG+E,EAAIA,EAAEzW,OAAO,IAAIyW,EAAE/E,UAAU,QAIpC,CACEsO,SAAS,EACTF,OAAO,EACPha,MAAO,oBACPuQ,UAAW,2BACXhQ,MAAO,KAET,CACE2Z,SAAS,EACTF,OAAO,EACPha,MAAO,cACPuQ,UAAW,cACXhQ,MAAO,KAET,CACE2Z,SAAS,EACTF,OAAO,EACPha,MAAO,2BACPuQ,UAAW,+BACXhQ,MAAO,KAET,CACE2Z,SAAS,EACTF,OAAO,EACPha,MAAO,wBACPuQ,UAAW,qBACXhQ,MAAO,KAET,CACE2Z,SAAS,EACTF,OAAO,EACPha,MAAO,2BACPuQ,UAAW,wBACXhQ,MAAO,KAET,CACE2Z,SAAS,EACTF,OAAO,EACPha,MAAO,iBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAAC0hB,GACP,OAAIA,EACKpmB,KAAOomB,GAAOhc,OAAO,kBAErB,MAIb,CACE8D,SAAS,EACTF,OAAO,EACPha,MAAO,kBACPuQ,UAAW,kBACXhQ,MAAO,IACPmQ,OAAQ,SAAC0hB,GACP,OAAIA,EACKpmB,KAAOomB,GAAOhc,OAAO,kBAErB,MAIb,CACE8D,SAAS,EACTF,OAAO,EACPha,MAAO,YACPuQ,UAAW,cACXhQ,MAAO,IACPhF,MAAO,SACPytB,MAAO,QACPH,QAASmS,EAAiBA,EAAentB,QAAO,SAACpT,GAAD,OAAOA,EAAE4T,QAAQ,GACjEya,SAAU,SAACznB,EAAE4V,GACX,SAAIA,EAAEmkB,cAAe/5B,IACkB,IAA7B4V,EAAEmkB,YAAYrS,QAAQ1nB,IAKlCqP,OAAQ,SAAC2qB,GACP,OAAIA,EACK,cAAC,KAAD,CAAK14B,MAAM,OAAX,SAAmB04B,SAE1B,IAIN,CACEnhB,SAAS,EACTF,OAAO,EACPha,MAAO,YACPuQ,UAAW,iBACXhQ,MAAO,IACPhF,MAAO,SACPytB,MAAO,QACPpY,OAAQ,SAAC5Z,EAAG6Z,GACV,OAAI7E,KAAOhV,EAAE8tC,iBAAiBxtB,KAAKtgB,EAAEskC,eAAgB,SAAWtvB,KAAOhV,EAAE8tC,iBAAiBxtB,KAAKzG,EAAEyqB,eAAgB,UACvG,EAENtvB,KAAOhV,EAAE8tC,iBAAiBxtB,KAAKtgB,EAAEskC,eAAgB,SAAWtvB,KAAOhV,EAAE8tC,iBAAiBxtB,KAAKzG,EAAEyqB,eAAgB,SACxG,EAEF,GAET5qB,OAAQ,SAAC0hB,EAAOhb,GAAR,OAAgB,cAAC,GAAD,CAAUgb,MAAOA,EAAOriB,KAAMqH,EAAIrH,KAAMqK,WAAYhD,EAAIgkB,gBAElF,CACElhB,SAAS,EACTF,OAAO,EACPha,MAAO,YACPuQ,UAAW,iBACXhQ,MAAO,IACPhF,MAAO,SACPytB,MAAO,QACPpY,OAAQ,SAAC5Z,EAAG6Z,GACV,OAAI7E,KAAOhV,EAAE8tC,iBAAiBxtB,KAAKtgB,EAAEskC,eAAgB,SAAWtvB,KAAOhV,EAAE8tC,iBAAiBxtB,KAAKzG,EAAEyqB,eAAgB,UACvG,EAENtvB,KAAOhV,EAAE8tC,iBAAiBxtB,KAAKtgB,EAAEskC,eAAgB,SAAWtvB,KAAOhV,EAAE8tC,iBAAiBxtB,KAAKzG,EAAEyqB,eAAgB,SACxG,EAEF,GAET5qB,OAAQ,SAAC0hB,EAAOhb,GACd,GAAIgb,EAAO,CACT,IAAItb,EAAQ9K,KAAOoL,EAAI0tB,iBAAiBxtB,KAAK8a,EAAO,SACpD,OAAO,cAAC,KAAD,CAAKzvB,MAAOyU,EAAIkjB,WAAa,WAAaxjB,EAAQ,KAAOM,EAAIkjB,WAAa,UAAqB,KAAVxjB,GAAiBM,EAAIkjB,WAA0B,QAAb,UAAvH,SAA+IxjB,IAEtJ,OAAO,cAAC,KAAD,kBAIb,CACEoD,SAAS,EACTF,OAAO,EACPha,MAAO,WACPuQ,UAAW,MACXhQ,MAAO,IACPhF,MAAO,SACPytB,MAAO,QACPtY,OAAQ,SAACvW,EAAIid,GAAL,OACN,gCACE,cAACmkB,GAAA,EAAD,CACE//B,MAAO,CAAEmX,SAAU,SAAU/P,YAAa,SAC1CI,QAAS,kBAAM+V,EAAa5e,MAE9B,cAAC,GAAD,CAAgBid,IAAKA,EAAKqjB,cAAeA,UAM3C2O,EAAkBD,EAAkBt7B,QAAO,SAAApT,GAAC,OAAIA,EAAEyf,WAElDmvB,EAAgBF,EAAkBt7B,QAAO,SAAApT,GAAC,OAAIA,EAAEuf,SAEtD,OAAQjK,GACN,KAAK7B,GACH,OAAOk7B,EACT,KAAKl7B,GACH,OAAOm7B,GG3PAC,CACLv5B,EACA0rB,EACAE,EACAC,EACA3O,GACAE,GACA0C,GACA7a,GACAinB,GACAD,GACAhB,GACAC,GACAR,IA8CAh5B,WAAYw/B,EACZ9pC,QAAS0uC,EACTvhC,KAAK,QACLuT,OAAQ,CAAEC,EAAG,QACb3E,WAAY,CACV2W,gBAAiB,GACjBC,gBAAiB,CAAC,GAAG,IAAI,QAI7B,cAACue,GAAD,CAAetnC,QAAS01B,GAAe7f,MAAO2gB,GAAoBrgC,QAASkvC,EAAiB9F,UAAWwF,QCjMrGjiB,GAAWrF,IAAXqF,OA4IOylB,OA1If,YAAwD,IAAD,IAA3B95B,gBAA2B,MAAlB,GAAkB,MAAdpJ,gBAAc,MAAL,GAAK,IACbtF,mBAAS,IADI,oBAC9C4kC,EAD8C,KAChCC,EADgC,OAEf7kC,mBAAS,IAFM,oBAE9CkgC,EAF8C,KAEjCC,EAFiC,OAGTngC,oBAAS,GAHA,oBAG9C8kC,EAH8C,KAG9BC,EAH8B,OAIX/kC,mBAAS,IAJE,oBAI9CglC,EAJ8C,KAI/BC,EAJ+B,OAKbjlC,mBAAS,IALI,oBAK9CklC,EAL8C,KAKhCC,EALgC,OAMGnlC,mBAAS,IANZ,oBAM9C29B,EAN8C,KAMxBC,EANwB,OAOP59B,oBAAS,GAPF,oBAO9CslC,EAP8C,KAO7BC,EAP6B,OAQTvlC,oBAAS,GARA,oBAQ9C4rB,EAR8C,KAQ9BC,EAR8B,OAST7rB,oBAAS,GATA,oBAS9C4lC,EAT8C,KAS9BC,EAT8B,OAUX7lC,oBAAS,GAVE,oBAU9C8lC,EAV8C,KAU/BC,EAV+B,OAWX/lC,oBAAS,GAXE,oBAW9C21B,GAX8C,KAW/BC,GAX+B,QAYb51B,oBAAS,GAZI,sBAY9CgvB,GAZ8C,MAYhCC,GAZgC,SAaXjvB,mBAAS,MAbE,sBAa9CkmC,GAb8C,MAa/BC,GAb+B,eA0BtCzM,KA1BsC,8EA0BrD,sBAAAzjC,EAAA,6DACE8uC,GAAkB,GADpB,SAEehM,IAAW,EAAM,CAAEn0B,OAAQwhC,GAAkC7qB,MAAM,IAC7E3kB,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACHA,GAAMguC,EAAgBhuC,MACxBO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAM+6B,GAAkB,MALxE,oFA1BqD,+BAkCtCsB,GAlCsC,iFAkCrD,WAA8BzK,GAA9B,SAAA3lC,EAAA,sDACEkvC,EAAgB,CAACvJ,IADnB,4CAlCqD,+BAsCtC0K,GAtCsC,iFAsCrD,WAA8BC,GAA9B,SAAAtwC,EAAA,6DACEsvC,GAAmB,GADrB,SAEQxM,IAAY,EAAM,CAAEn0B,OAAQwhC,GAAgChtC,GAAImtC,IACnE3vC,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACFA,GAAQA,EAAK4F,OAAS,GACxBwoC,EAAiBpuC,MAElBO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAMu7B,GAAmB,MAPzE,4CAtCqD,sBAerDnrC,qBAAU,WACRs/B,OACC,IAEHt/B,qBAAU,WACJwqC,EAAanoC,OAAO,GACtB0jC,EAAeyE,KAGjB,CAACA,IAwBH,IAAMmC,GAAsB,kBAAMlB,GAAmBD,IAC/CoB,GAAqB,kBAAMjB,GAAkBD,IAC7CrP,GAAqB,kBAAMb,IAAkBD,KAC7CrG,GAAoB,kBAAML,IAAiBD,KAO3CqM,GAAa,uCAAG,WAAOjiC,GAAP,SAAAnD,EAAA,6DACpB+wC,KADoB,SAEdX,GAAejtC,GAFD,2CAAH,sDAKb8gC,GAAa,uCAAG,WAAO9gC,GAAP,SAAAnD,EAAA,6DACpBwgC,KADoB,SAEd6P,GAAeltC,GAFD,2CAAH,sDA/DkC,8CAoErD,WAA8BvC,GAA9B,eAAAZ,EAAA,2DACM0nC,GAAwBA,EAAqBlhC,OAAS,GAD5D,uBAEUwqC,EAAUpwC,EAChBg1B,GAAkB,GAClByD,KAJJ,SAKUgK,GAAa,aACjB10B,OAAQkB,GAAuBA,QAAS63B,GAAyBsJ,IAChErwC,KAFG,sBAEE,sBAAAX,EAAA,sEAAiByjC,KAAjB,oFAAkCtiC,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAM6hB,GAAkB,MAP/G,6BASI11B,IAAU0B,KAAK,gCAAiC,CAAEvB,SAAU,cAThE,4CApEqD,sBAyFrD,OACE,sBAAKmE,MAAO,CAAEmQ,aAAc,QAAS9G,UAAW,QAAhD,UACE,gCACE,cAAC,IAAD,CACExJ,KAAK,UACL2D,KAAM6mC,EAAiB,cAACxlB,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAAC6kC,GAAA,EAAD,IAC/CzsC,MAAO,CAAEmQ,aAAc,OAAQ/I,YAAa,SAC5CI,QAASy3B,GAJX,wBAMA,cAAC,IAAD,CACEz7B,KAAM2tB,EAAiB,cAACtM,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAAC8kC,GAAA,EAAD,IAC/C1sC,MAAO,CAAEmQ,aAAc,OAAQ/I,YAAa,SAC5C4S,SAA0C,IAAhCkpB,EAAqBlhC,OAC/BwF,QAASqtB,GAJX,qBAMA,cAAC,GAAD,CACEzzB,YAAY,mBACZwrC,SAzBR,SAA6B3tC,GACvBA,GAAKA,EAAE+C,OAAS,EAClB0jC,EAAeyE,EAAa93B,QAAO,SAACkD,GAAD,OAAO1X,OAAO0X,EAAE4pB,sBAAsB56B,SAAStF,OAElFymC,EAAeyE,IAsBXnqC,MAAO,CAAE+E,MAAO,IAAKqC,YAAa,SAClC8mB,YAAU,OAGd,cAAC,GAAD,CACE9xB,KAAMqpC,EACN9pC,QAAS0uC,EACTnH,qBAAsBA,EACtBC,wBAAyBA,EACzBxC,eA/DiB,SAACl8B,GACtBinC,GAAiBjnC,GACjB6nC,MA8DI1L,cAAeA,GACfnB,cAAeA,KAGjB,cAAC,GAAD,CAAclrB,MAAM,EAAM/O,QAAS+uB,GAAclZ,MAAOwZ,GAAmB5gB,SAAUA,EAAUpJ,SAAUA,EAAUm9B,QAzHlE,+CA2HjD,cAAC,GAAD,CAAgBxiC,QAAS2lC,EAAgB9vB,MAAOixB,GAAqB/N,eAAgBkN,KAErF,cAAC,GAAD,CAAejmC,QAAS6lC,EAAehwB,MAAOkxB,GAAoB5wC,SAAS,EAAOgjC,MAAO8L,IAEzF,cAACqC,GAAD,CAAetnC,QAAS01B,GAAe7f,MAAO2gB,GAAoBrgC,QAASkvC,EAAiB9F,UAAWwF,QCnIrGzxB,GAAYC,KAAZD,QCRR,IAae4jB,GAbD,CACZ,CACEluB,KAAM9T,EACNgU,OAAO,EACPC,UCFW,WACb,OACE,gCACE,cAACuhB,GAAD,CAAe7sB,OAAO,iBAAiB2G,UAAU,cACjD,cAACT,GAAD,UACE,cAAC,GAAD,CAAsBzK,QAAQ,WDDpC,CACE0P,KAAM9T,EACNgU,OAAO,EACPC,UDCW,WAAyB,IAAD,EACKpJ,mBAAS,IADd,oBAC9Bo3B,EAD8B,KACfC,EADe,OAEKr3B,mBAAS,IAFd,oBAE9BwuB,EAF8B,KAEfC,EAFe,iDASrC,sBAAAx4B,EAAA,sEACQ0O,IAAa,EAAO,CAAEC,OAAQmB,GAAQkB,4BACzCrQ,MAAK,gBAAEC,EAAF,EAAEA,KAAF,OAAYwgC,EAAiBxgC,GAAc,OAChDO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAHhC,4CATqC,kEAerC,sBAAApB,EAAA,sEACe0O,IAAa,EAAO,CAAEC,OAAQmB,GAAQmB,4BAChDtQ,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACHA,GAAM43B,EAAiB53B,MACzBO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAJlC,oFAfqC,sBAsBrC,OAlBA+C,qBAAU,YAJ2B,mCAKnCy9B,GALmC,mCAMnCxI,KACC,IAgBD,gCACE,cAAC,GAAD,CAAavxB,OAAO,mBAAmB2G,UAAU,sBACjD,cAACT,GAAD,UACE,eAAC,KAAD,CAAMvJ,MAAO,CAACia,YAAa,QAASC,UAAU,EAA9C,UACE,cAAC,GAAD,CACEC,IACE,iCACE,cAAC6zB,GAAA,EAAD,IADF,wBAFJ,SASE,cAAC,GAAD,CAAyB/5B,SAAU0oB,EAAe9xB,SAAUkpB,KAFxD,KAIN,cAAC,GAAD,CACE5Z,IACE,iCACE,cAAC3H,GAAA,EAAD,IADF,wBAFJ,SASE,cAAC,GAAD,CAAmB+B,KAAM,KAAMzV,QAAQ,KAFnC,KAIN,cAAC,GAAD,CACEqb,IACE,iCACE,cAAC8zB,GAAA,EAAD,IADF,yBAFJ,SASE,cAAC,GAAD,CAAmBh6B,SAAU0oB,EAAe9xB,SAAUkpB,KAFlD,gB,sFGpED,WAA8Bma,GAA9B,SAAA1yC,EAAA,+EACN,IAAI6d,SACT,SAASC,EAASysB,GAChB,IACE,IAAMC,EAAS,IAAIC,WACbkI,IAASnI,EAAOoI,mBAEtBpI,EAAOG,OAAS,SAACkI,GACf,IAAIC,EAAOD,EAAMh+B,OAAO+1B,OAClBmI,EAAKC,QAAUF,EAAM,CAAEzuC,KAAMsuC,EAAO,SAAW,QAASM,SAAU,IAElEC,EAASH,EAAGI,WAAW,GACvBC,EAAKL,EAAGM,OAAOH,GAEftyC,EAAOoyC,SAAWM,cAAcF,GAElCpzC,EAAI,GAUR,OARAY,EAAK6F,KAAI,SAAC8sC,GACR,OAAOvzC,EAAEkE,KACPxC,OAAOC,KAAK4xC,GAAQC,QAAO,SAACvqC,EAAGwqC,GAAJ,OAEzBxqC,EAAEwqC,EAAEC,OAAOhvB,eAAiB6uB,EAAOE,GAAIxqC,IACtC,QAGA6U,EAAQ9d,IAGb2yC,EACFnI,EAAOoI,mBAAmBF,GAE1BlI,EAAOmJ,kBAAkBjB,GAG3B,MAAOzxC,GACP,OAAOspC,EAAOtpC,QApCP,4C,sBCAR,SAAS2yC,GAAYC,EAAcpgB,GACxC,IAEI2H,EAAQ,IAAIz3B,KAAsC,OAAhCkwC,EAFF,OAE0C,KAG9D,OAAIpgB,EACK2H,EAEC,IAAIz3B,KAAKy3B,EAAM0Y,SAAS1Y,EAAM2Y,WAAa,IAQhD,SAASC,GAAc5Y,EAAOjjB,GACnC,IAAKq1B,OAAOpS,GACV,OAAO,KAET,IAAImF,EAAMvrB,KAAOomB,GAAOhc,OAAO,MAC3B60B,EAAMj/B,KAAOomB,GAAOhc,OAAO,MAC3B80B,EAAOl/B,KAAOomB,GAAOhc,OAAO,QAC5B+0B,EAAgB,IAAIxwC,KAAKuwC,EAAO,IAAMD,EAAM,IAAM1T,EAAzB,WAAmCpoB,EAAnC,UAE7B,OAAO,IAAIxU,KAAKwwC,EAAcL,SAASK,EAAcJ,WAAa,I,yBCpB7D,SAAeK,KAAtB,gC,8CAAO,0CAAAp0C,EAAA,6DAAiC6P,EAAjC,+BAAyC,GAExCwkC,EAAWxkC,EAAQpJ,KAAI,SAAS08B,EAAOmR,GAE3C,IAAIC,GAAa,EACbzO,EAAY,GAGZ0O,KAAQnyC,OAAO8gC,EAAMjgB,GAAQ,GAAG+e,WAAWyR,UAAUa,GAAa,GAElEE,MAAMtR,EAAMjgB,GAAQ,GAAG+e,YAAcwS,MAAMtR,EAAMjgB,GAAQ,GAAGif,eAAeoS,GAAa,GAE5F,IAAMG,EAAU,CACd3sC,IAAKusC,EACLC,aACAx7B,KAAM7B,IAyBR,OAtBAgM,GAAQtK,SAAQ,SAACvO,GACXA,EAAE83B,gBACsB1gC,IAAtB0hC,EAAM94B,EAAE43B,WAAiD,OAAtBkB,EAAM94B,EAAE43B,UAC7CyS,EAAQrqC,EAAE63B,WAAa73B,EAAE+wB,MAAQwY,GAAYzQ,EAAM94B,EAAE43B,WAAa5/B,OAAO8gC,EAAM94B,EAAE43B,WAAW5b,QAAQ,KAAM,SACzE5kB,IAAxB0hC,EAAM94B,EAAE83B,aAAqD,OAAxBgB,EAAM94B,EAAE83B,cACtDuS,EAAQrqC,EAAE63B,WAAa73B,EAAE+wB,MAAQwY,GAAYzQ,EAAM94B,EAAE83B,aAAe9/B,OAAO8gC,EAAM94B,EAAE83B,aAAa9b,QAAQ,KAAM,UAGtF5kB,IAAtB0hC,EAAM94B,EAAE43B,WAAiD,OAAtBkB,EAAM94B,EAAE43B,YAC7CyS,EAAQrqC,EAAE63B,WAAa73B,EAAE+wB,MAAQwY,GAAYzQ,EAAM94B,EAAE43B,WAAa5/B,OAAO8gC,EAAM94B,EAAE43B,WAAW5b,QAAQ,KAAM,QAKhH+b,GAAiBxpB,SAAQ,SAAC+D,QACElb,IAAtB0hC,EAAMxmB,EAAEslB,WAAiD,OAAtBkB,EAAMxmB,EAAEslB,YAC7C6D,EAAYA,EAAYnpB,EAAE0lB,QAAUc,EAAMxmB,EAAEslB,cAIhDyS,EAAQ5O,UAAYzjC,OAAOyjC,GAAW6O,OAAO,GAErCD,KAxCL,kBA2CE72B,QAAQ+2B,IAAIP,GAAUlzC,OAAM,SAACC,GAGlC,OAFAE,QAAQC,IAAI,uBACZD,QAAQC,IAAIH,GACLA,MA9CJ,4C,sBAkDA,SAAeyzC,KAAtB,gC,8CAAO,4CAAA70C,EAAA,6DAAiC6P,EAAjC,+BAAyC,GAAIR,EAA7C,+BAAsD,GACrDglC,EAAWxkC,EAAQpJ,KAAI,SAAC08B,EAAOmR,GACnC,IAAIC,GAAa,EACbnlC,EAAU,KACV0lC,EAAYpS,GAA2B35B,SAAS1G,OAAO8gC,EAAK,SAC5D4R,EAAcpS,GAA6B55B,SAAS1G,OAAO8gC,EAAK,SAChE6R,EAAgBpS,GAA+B75B,SAAS1G,OAAO8gC,EAAK,SAGxE,GADIsR,MAAMtR,EAAMjgB,GAAQ,GAAG+e,YAAcwS,MAAMtR,EAAMjgB,GAAQ,GAAGif,eAAgBoS,GAAa,GAC5C,IAA7ClyC,OAAO8gC,EAAK,WAAeuQ,OAAOltC,OAAc,CAClD,IAAIyuC,EAAW5lC,EAAS4f,WAAU,SAACtV,GAAD,OAAOA,EAAEgU,SAAWwV,EAAK,aACvD8R,EAAW,IACb7lC,EAAUC,EAAS4lC,GAAUjhC,KAIjC,IAAM0gC,EAAU,CACd3sC,IAAKusC,EACLC,aACAW,iBAAkB/R,EAAK,OACvB8O,kBAAmB7iC,EACnB+lC,iBAAkBL,EAAY,WAAaC,EAAc,aAAeC,EAAgB,iBAAmB,KAkB7G,OAfAzS,GAAc3pB,SAAQ,SAACvO,GACjBA,EAAE83B,gBACsB1gC,IAAtB0hC,EAAM94B,EAAE43B,WAAiD,OAAtBkB,EAAM94B,EAAE43B,UAC7CyS,EAAQrqC,EAAE63B,WAAa73B,EAAE+wB,MAAQwY,GAAYzQ,EAAM94B,EAAE43B,WAAakB,EAAM94B,EAAE43B,eACzCxgC,IAAxB0hC,EAAM94B,EAAE83B,aAAqD,OAAxBgB,EAAM94B,EAAE83B,cACtDuS,EAAQrqC,EAAE63B,WAAY73B,EAAE+wB,MAAQwY,GAAYzQ,EAAM94B,EAAE83B,aAAegB,EAAM94B,EAAE83B,kBAGnD1gC,IAAtB0hC,EAAM94B,EAAE43B,WAAiD,OAAtBkB,EAAM94B,EAAE43B,YAC7CyS,EAAQrqC,EAAE63B,WAAY73B,EAAE+wB,MAAQwY,GAAYzQ,EAAM94B,EAAE43B,WAAakB,EAAM94B,EAAE43B,cAMvEyS,KAvCL,kBA0CE72B,QAAQ+2B,IAAIP,GAAUlzC,OAAM,SAACC,GAGlC,OAFAE,QAAQC,IAAI,uBACZD,QAAQC,IAAIH,GACLA,MA7CJ,4C,sBClDA,SAAeg0C,KAAtB,gC,8CAAO,0CAAAp1C,EAAA,6DAA+B6P,EAA/B,+BAAuC,GAEtCwkC,EAAWxkC,EAChBgH,QAAO,SAACpT,GAAD,OAAO8T,GAAaxO,SAAStF,EAAC,WACrCgD,KAAI,SAAS08B,EAAOmR,GAEnB,IAAIC,GAAa,EAGfC,KAAQnyC,OAAO8gC,EAAMngB,GAAM,GAAGif,WAAWyR,SACzCc,KAAQnyC,OAAO8gC,EAAMngB,GAAM,GAAGmf,aAAauR,SAC3Cc,KAAQnyC,OAAO8gC,EAAMngB,GAAM,GAAGsf,aAAaoR,UAC1Ca,GAAa,GAEZE,MAAMtR,EAAMngB,GAAM,GAAGif,YAAcwS,MAAMtR,EAAMngB,GAAM,GAAGmf,cAAgBsS,MAAMtR,EAAMngB,GAAM,GAAGsf,eAAeiS,GAAa,GAE7H,IAAMG,EAAU,CACd3sC,IAAKusC,EACLC,aACAx7B,KAAM7B,IAqBR,OAlBA8L,GAAMpK,SAAQ,SAACvO,QACa5I,IAAtB0hC,EAAM94B,EAAE43B,WAAiD,OAAtBkB,EAAM94B,EAAE43B,UAC7CyS,EAAQrqC,EAAE63B,WAAa73B,EAAE+wB,MAAQwY,GAAYzQ,EAAM94B,EAAE43B,WAAa5/B,OAAO8gC,EAAM94B,EAAE43B,WAAW5b,QAAQ,KAAM,SACzE5kB,IAAxB0hC,EAAM94B,EAAE83B,aAAqD,OAAxBgB,EAAM94B,EAAE83B,YAClD93B,EAAE+wB,MACJsZ,EAAQrqC,EAAE63B,WAAa8R,GAAcJ,GAAYzQ,EAAM94B,EAAE83B,aAAcgB,EAAM94B,EAAE8N,OAE/Eu8B,EAAQrqC,EAAE63B,WAAa7/B,OAAO8gC,EAAM94B,EAAE83B,aAAa9b,QAAQ,KAAM,SAElC5kB,IAAxB0hC,EAAM94B,EAAEi4B,aAAqD,OAAxBa,EAAM94B,EAAEi4B,cAClDj4B,EAAE+wB,MACJsZ,EAAQrqC,EAAE63B,WAAa8R,GAAcJ,GAAYzQ,EAAM94B,EAAEi4B,aAAca,EAAM94B,EAAE8N,OAE/Eu8B,EAAQrqC,EAAE63B,WAAa7/B,OAAO8gC,EAAM94B,EAAEi4B,aAAajc,QAAQ,KAAM,QAK/DquB,KAxCL,kBA2CE72B,QAAQ+2B,IAAIP,GAAUlzC,OAAM,SAACC,GAGlC,OAFAE,QAAQC,IAAI,uBACZD,QAAQC,IAAIH,GACLA,MA9CJ,4C,sBAkDA,SAAei0C,KAAtB,gC,8CAAO,4CAAAr1C,EAAA,6DAA+B6P,EAA/B,+BAAuC,GAAIR,EAA3C,+BAAoD,GACnDglC,EAAWxkC,EAChBgH,QAAO,SAACpT,GAAD,OAAO8T,GAAaxO,SAAStF,EAAC,WACrCoT,QAAO,SAACpT,GAAD,OAAOA,EAAC,UACfgD,KAAI,SAAC08B,EAAOmR,GAEX,IAAIC,GAAa,EACbnlC,EAAU,KACV0lC,EAAYpS,GAA2B35B,SAASo6B,EAAK,QACrD4R,EAAcpS,GAA6B55B,SAASo6B,EAAK,QACzD6R,EAAgBpS,GAA+B75B,SAASo6B,EAAK,QAGjE,GADIsR,MAAMtR,EAAMngB,GAAM,GAAGif,YAAcwS,MAAMtR,EAAMngB,GAAM,GAAGmf,cAAgBsS,MAAMtR,EAAMngB,GAAM,GAAGsf,eAAgBiS,GAAa,GAC7E,IAA7ClyC,OAAO8gC,EAAK,WAAeuQ,OAAOltC,OAAc,CAClD,IAAIyuC,EAAW5lC,EAAS4f,WAAU,SAACtV,GAAD,OAAOA,EAAEgU,SAAWwV,EAAK,aACvD8R,EAAW,IACb7lC,EAAUC,EAAS4lC,GAAUjhC,KAIjC,IAAM0gC,EAAU,CACd3sC,IAAKusC,EACLC,aACAW,iBAAkB/R,EAAK,OACvB8O,kBAAmB7iC,EACnB+lC,iBAAkBL,EAAY,WAAaC,EAAc,aAAeC,EAAgB,iBAAmB,KAoB7G,OAjBAzS,GAAc3pB,SAAQ,SAACvO,GACjBA,EAAE83B,YAAc93B,EAAEi4B,gBACM7gC,IAAtB0hC,EAAM94B,EAAE43B,WAAiD,OAAtBkB,EAAM94B,EAAE43B,UAC7CyS,EAAQrqC,EAAE63B,WAAa73B,EAAE+wB,MAAQwY,GAAYzQ,EAAM94B,EAAE43B,WAAakB,EAAM94B,EAAE43B,eACzCxgC,IAAxB0hC,EAAM94B,EAAE83B,aAAqD,OAAxBgB,EAAM94B,EAAE83B,YACtDuS,EAAQrqC,EAAE63B,WAAY73B,EAAE+wB,MAAQwY,GAAYzQ,EAAM94B,EAAE83B,aAAegB,EAAM94B,EAAE83B,iBAC1C1gC,IAAxB0hC,EAAM94B,EAAEi4B,aAAqD,OAAxBa,EAAM94B,EAAEi4B,cACtDoS,EAAQrqC,EAAE63B,WAAY73B,EAAE+wB,MAAQwY,GAAYzQ,EAAM94B,EAAEi4B,aAAea,EAAM94B,EAAEi4B,kBAGnD7gC,IAAtB0hC,EAAM94B,EAAE43B,WAAiD,OAAtBkB,EAAM94B,EAAE43B,YAC7CyS,EAAQrqC,EAAE63B,WAAY73B,EAAE+wB,MAAQwY,GAAYzQ,EAAM94B,EAAE43B,WAAakB,EAAM94B,EAAE43B,cAMvEyS,KA7CL,kBAgDE72B,QAAQ+2B,IAAIP,GAAUlzC,OAAM,SAACC,GAGlC,OAFAE,QAAQC,IAAI,uBACZD,QAAQC,IAAIH,GACLA,MAnDJ,4C,sBCtDQ,SAAek0C,GAA9B,yC,8CAAe,WAA8BxwB,EAAK/L,EAAMP,EAAQnJ,GAAjD,SAAArP,EAAA,2DACL+Y,EADK,cAEN7B,GAFM,SAUNA,GAVM,sBAGM,IAAXsB,EAHK,gCAIM47B,GAAkBtvB,GAJxB,kDAKY,IAAXtM,EALD,kCAMMq8B,GAAkB/vB,EAAKzV,GAN7B,0EAQA,IARA,WAWM,IAAXmJ,EAXK,kCAYM48B,GAAgBtwB,GAZtB,kEAcMuwB,GAAgBvwB,EAAKzV,GAd3B,0H,sBCAA,SAAekmC,KAA9B,gC,8CAAe,kDAAAv1C,EAAA,yDAA+BY,EAA/B,+BAAoC,GAAIiY,EAAxC,uBACRjY,KAAQA,EAAK4F,OAAS,GADd,yCAEJ,IAFI,OAQX,IAJIgvC,EAAS,EACTC,EAAc58B,EACd68B,EAAU90C,EACVy/B,EAAY,GACTqV,EAAQlvC,OAAS,GACtB65B,EAAUn8B,KAAKtD,EAAKyY,MAAMm8B,EAAQC,IAClCC,EAAUA,EAAQr8B,MAAM,GAAIR,GAC5B28B,GAAkB38B,EAClB48B,GAA4B58B,EAZnB,KAeRwnB,EAAU75B,OAAS,GAfX,0CAgBH65B,EAAUxpB,QAAO,SAACpT,GAAD,OAAOA,GAAKA,EAAE+C,OAAS,MAhBrC,iCAkBH,IAlBG,6C,sBCkOAmvC,OAzNf,YAAmD,IAAvBC,EAAsB,EAAtBA,UAAWvmC,EAAW,EAAXA,SAAW,EACVtF,mBAAS,GADC,oBACzC8rC,EADyC,KAC5BC,EAD4B,OAEN/rC,mBAAS,QAFH,oBAEzCgsC,EAFyC,KAE1BC,EAF0B,OAGNjsC,mBAAS,IAHH,oBAGzCksC,EAHyC,KAG1BC,EAH0B,OAIAnsC,mBAAS,IAJT,oBAIzCosC,EAJyC,KAIvBC,EAJuB,OAKRrsC,mBAAS,GALD,oBAKzCssC,EALyC,KAK3BC,EAL2B,OAMAvsC,mBAAS,GANT,oBAMzC4T,EANyC,KAMvBC,EANuB,OAON7T,oBAAS,GAPH,oBAOzCwsC,EAPyC,KAO1BC,EAP0B,OAQdzsC,mBAAS,IARK,oBAQzCs2B,EARyC,KAQ9BoW,EAR8B,cAmBjCC,EAnBiC,gFAmBhD,WAAuC91C,EAAMiI,GAA7C,SAAA7I,EAAA,6DACEE,IAAUy2C,KAAV,qCAA6C9tC,EAA7C,YAAkDstC,EAAiB3vC,OAAnE,eAAwF,CAAEnG,SAAU,cADtG,SAEe4iC,GAAY,CACvBt0B,OAAQmB,GAAQgC,mBAChBjC,QAASjP,IACRD,MAAK,SAACi2C,GACP,IAAIC,EAAexW,EACfyW,EAAeF,GAAOA,EAAIh2C,KAAOg2C,EAAIh2C,KAAM,GAC/Ci2C,EAAa3yC,KAAb,2BACK4yC,GADL,IAEE3zC,GAAIQ,KAAKozC,MACTl+B,SAAUjY,EAAK4F,UAEjBiwC,EAAaI,EAAahgC,QAAO,SAAApT,GAAC,OAAIA,SACrCtC,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAdhC,oFAnBgD,+BAoCjC41C,EApCiC,gFAoChD,WAAuCp2C,EAAMiI,GAA7C,SAAA7I,EAAA,6DACEE,IAAUy2C,KAAV,qCAA6C9tC,EAA7C,YAAkDstC,EAAiB3vC,OAAnE,eAAwF,CAAEnG,SAAU,cADtG,SAEQ+iC,GAAW,CACfz0B,OAAQmB,GAAQkC,8BAChBnC,QAASjP,IACRD,MAAK,SAACi2C,GACP,IAAIC,EAAexW,EACfyW,EAAeF,GAAOA,EAAIh2C,KAAOg2C,EAAIh2C,KAAM,GAC/Ci2C,EAAa3yC,KAAb,2BACK4yC,GADL,IAEE3zC,GAAIQ,KAAKozC,MACTl+B,SAAUjY,EAAK4F,UAEjBiwC,EAAaI,EAAahgC,QAAO,SAAApT,GAAC,OAAIA,SACrCtC,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAdhC,4CApCgD,kEAqDhD,0DAAApB,EAAA,yDACkC,IAA5Bm2C,EAAiB3vC,OADvB,gBAEItG,IAAU0B,KAAK,6BAA8B,CAAEvB,SAAU,cAF7D,2BAIwB,IAAhBw1C,EAJR,0BAMQW,GAAiB,GACbtN,EAAQ,EAPpB,mCAQ+BiN,GAR/B,mIAQwBrxB,EARxB,YASgB4xB,EAAwB5xB,EAAKokB,GAT7C,QAUUA,GAAc,EAVxB,qWAaQhpC,IAAUe,MAAM,uBAAwB,CAAEZ,SAAU,cACpDiB,QAAQC,IAAR,MAdR,yBAekBi1C,GAAiB,GAfnC,wDAkBQA,GAAiB,GACbtN,EAAQ,EAnBpB,mCAoB+BiN,GApB/B,mIAoBwBrxB,EApBxB,YAqBgBkyB,EAAwBlyB,EAAKokB,GArB7C,QAsBUA,GAAc,EAtBxB,uWAyBQhpC,IAAUe,MAAM,uBAAwB,CAAEZ,SAAU,cACpDiB,QAAQC,IAAR,MA1BR,2BA2BkBi1C,GAAiB,GA3BnC,sKArDgD,sBAUhDryC,qBAAU,WACR6xC,EAAiB,QACjBE,EAAiB,IACjBE,EAAoB,IACpBE,EAAgB,GAChB14B,EAAoB,GACpB64B,EAAa,MACb,CAACZ,IAoGH,IAMM1mC,EAAW,CACf,CACEnG,MAAO,IACPO,MAAO,GACPmQ,OAAQ,SAACzE,EAAE+K,EAAGnX,GAAN,OAAYA,EAAE,IAExB,CACEG,MAAO,WACPO,MAAO,IACPgQ,UAAW,WACXG,OAAQ,SAACK,GAAD,OAAOA,EAAI,cAAC,KAAD,CAAKpO,MAAM,OAAX,SAAmBoO,IAAW,MAEnD,CACE/Q,MAAO,SACPO,MAAO,IACPgQ,UAAW,SACXG,OAAQ,SAACK,GAAD,OAAOA,EAAI,cAAC,KAAD,CAAKpO,MAAM,QAAX,SAAoBoO,IAAW,MAEpD,CACE/Q,MAAO,eACPO,MAAO,IACPgQ,UAAW,eACXG,OAAQ,SAACK,GAAD,OAAOA,EAAI,cAAC,KAAD,CAAKpO,MAAM,WAAX,SAAuBoO,IAAW,MAEvD,CACE/Q,MAAO,aACPO,MAAO,IACPgQ,UAAW,aACXG,OAAQ,SAACK,GAAD,OAAOA,EAAI,cAAC,KAAD,CAAKpO,MAAM,UAAX,SAAsBoO,IAAW,MAEtD,CACE/Q,MAAO,UACPO,MAAO,IACPgQ,UAAW,UACXG,OAAQ,SAACjW,GAAD,OAAOA,EAAI,cAAC,KAAD,CAAKkI,MAAM,QAAX,SAAoBlI,IAAW,cAAC,KAAD,mBAItD,OACE,gCACE,eAAC,IAAD,WACE,eAAC,IAAD,CAAKmB,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIkyC,YAAU,EAA/C,UACE,iDACA,eAAC,KAAM7hC,MAAP,CAAaX,SAAU,SAAChR,GAAD,OAAOqyC,EAAeryC,EAAEoR,OAAO3N,QAAQA,MAAO2uC,EAArE,UACE,cAAC,KAAD,CAAO3uC,MAAO,EAAd,wBAGA,cAAC,KAAD,CAAOA,MAAO,EAAd,2BAIF,qBAAK1C,MAAO,CAAC+E,MAAO,QAASsD,OAAQ,UAArC,SACE,cAAC,KAAD,CACEu+B,OAAO,aACPE,aA5FZ,SAAuBhB,GAMrB,OAJA0L,EAAiB,aACjBE,EAAiB5L,EAAKrlC,MACtBwxC,EAAa,IAERp3C,EAAUQ,kBAAkBkJ,SAASuhC,EAAKjmC,ONtGpC,SAAf,mCM4GI6yC,CAAe5M,GAAM3pC,KAArB,uCAA0B,WAAMw2C,GAAN,SAAAn3C,EAAA,sEAElBs1C,GAAe6B,EAASvB,EAAWC,EAAaxmC,GAAU1O,MAAK,SAACC,GAEpE,OADA01C,EAAgB11C,EAAK4F,QACd5F,EAAKiW,QAAO,SAACpT,GAAD,OAAOA,EAAE8wC,iBAC3B5zC,KAHG,+BAAAX,EAAA,MAGE,WAAMY,GAAN,SAAAZ,EAAA,6DACNg2C,EAAiB,QADX,KAENI,EAFM,SAEoBb,GAAgB30C,EAAM,KAF1C,kCAGNgd,EAAoBhd,EAAK4F,QACzBtG,IAAUY,QAAV,UAAqBF,EAAK4F,OAA1B,yBAAyD,CAACnG,SAAU,cAJ9D,2CAHF,uDAQHc,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,EAAK,8BAVX,2CAA1B,uDAWGD,OAAM,SAACC,GACR40C,EAAiB,SACjB91C,IAAUe,MAAM,gCAAiC,CAACZ,SAAU,cAC5DiB,QAAQC,IAAIH,OAGP,IAtBL40C,EAAiB,SACjB91C,IAAU0B,KAAK,sBAAuB,CAAEvB,SAAU,eAC3C,IAoFCmrC,SA7DW,WACrB0K,EAAiB,IACjBF,EAAiB,QACjBI,EAAoB,KA2DVrL,SAAU,CAAC,CAACW,IAAK,KAAMzmC,KAAMgxC,EAAe7zC,OAAQ2zC,IAJtD,SAME,eAAC,IAAD,WACE,cAAClK,GAAA,EAAD,IADF,8BAMN,eAAC,IAAD,CAAKjnC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAjC,UACE,cAAC,KAAD,CAAWiE,MAAM,WAAW9B,MAAOyW,EAAkBy5B,OAAM,YAAOf,KAClE,cAAC,IAAD,CACE73B,SAAU+3B,EACV/xC,MAAO,CAAEqJ,UAAW,SACpBxJ,KAAK,UACL2D,KAAMuuC,EAAgB,cAACltB,GAAA,EAAD,CAAiBjd,MAAI,IAAK,cAACmd,GAAA,EAAD,IAChDvd,QAlMsC,2CA6LxC,2BAWJ,cAAC,KAAD,CACEiQ,OAAO,KACPC,QAAS/M,EACT1E,WAAY41B,EAAUxpB,QAAO,SAACpT,GAAD,OAAOA,KACpC0Y,YAAY,EACZ3X,MAAO,CAAEmQ,aAAc,QACvBiM,UAAQ,Q,8BCzMDy2B,OAbf,YAA2B,IAATjc,EAAQ,EAARA,MACZK,EAAOzmB,OAASsL,KAAK8a,EAAO,QAChC,OAAIA,GAASpmB,KAAOomB,GAAOh3B,UAClB,cAAC,KAAD,CAAKuH,MAAO8vB,GAAQ,EAAI,QAAUA,EAAO,GAAKA,GAAQ,EAAI,UAAYA,EAAO,GAAKA,GAAQ,EAAI,OAASA,EAAO,EAAI,UAAY,GAA9H,SAAmIA,IAEnI,cAAC,KAAD,CAAK9vB,MAAM,OAAX,gBCEHG,GAASuR,KAATvR,KAEO,SAASwrC,GAAT,GAwBX,IAvBFv+B,EAuBC,EAvBDA,KAuBC,IAtBD0d,eAsBC,MAtBO,GAsBP,MArBDgO,sBAqBC,MArBc,GAqBd,MApBDC,oBAoBC,MApBY,GAoBZ,MAnBDC,uBAmBC,MAnBe,GAmBf,MAlBDC,0BAkBC,MAlBkB,GAkBlB,MAjBD3O,sBAiBC,MAjBc,GAiBd,MAhBDshB,4BAgBC,MAhBoB,GAgBpB,MAfDC,wBAeC,MAfgB,GAehB,MAdD3S,6BAcC,MAdqB,GAcrB,MAbD4S,qBAaC,MAba,GAab,MAZDz5B,wBAYC,MAZgB,GAYhB,MAXDinB,kBAWC,MAXU,GAWV,MAVDC,mBAUC,MAVW,GAUX,MATDwS,iBASC,MATS,GAST,MARD1S,iBAQC,MARS,GAQT,MAPDhB,sBAOC,MAPc,GAOd,MAND2T,yBAMC,MANiB,GAMjB,MALDC,uBAKC,MALe,GAKf,EAJDzS,EAIC,EAJDA,eACAC,EAGC,EAHDA,cACAnB,EAEC,EAFDA,cACAR,EACC,EADDA,cAGMoU,EAAkB,CACtB,CACE30B,SAAS,EACTF,OAAO,EACPha,MAAO,IACPO,MAAO,GACPyoB,MAAO,OACPtY,OAAQ,SAACzE,EAAE+K,EAAGnX,GAAN,OAAY2kC,OAAO3kC,GAAG,IAEhC,CACEqa,SAAS,EACTF,OAAO,EACPha,MAAO,gBACPuQ,UAAW,uBACXhQ,MAAO,IACPyoB,MAAO,OACPtY,OAAQ,SAACwqB,EAAK9jB,GACZ,OAAIA,EAAIpH,mBAAqBrC,GAAW5N,SAASqX,EAAIpH,mBAEjD,cAAC,KAAD,CAAKrN,MAAM,UAAUnH,MAAO,CAAEmX,SAAU,QAAxC,SACE,cAAC,GAAD,CAAMuE,UAAQ,EAACikB,QAAM,EAAC3/B,MAAO,CAAEmH,MAAO,sBAAtC,SAA+Du4B,MAI3D,cAAC,GAAD,CAAMhkB,UAAQ,EAACikB,QAAM,EAArB,SAAuBD,MAIrC,CACEhhB,SAAS,EACTF,OAAO,EACPha,MAAO,gBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEhhB,SAAS,EACTF,OAAO,EACPha,MAAO,WACPuQ,UAAW,kBACXhQ,MAAO,IACPmQ,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEhhB,SAAS,EACTF,OAAO,EACPha,MAAO,iBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEhhB,SAAS,EACTF,OAAO,EACPha,MAAO,aACPuQ,UAAW,kBACXhV,MAAO,SACPgF,MAAO,IACP8tB,cAAeZ,GAAWA,EAAQ6O,gBAAkB7O,EAAQ6O,gBAAkB,KAC9EzT,QAAS7T,GAAsC,CAAC,CAAC3G,KAAM,GAAInQ,MAAO,KAClE4qB,SAAU,SAACznB,EAAE4V,GAAH,OAA0C,IAAjCA,EAAEqlB,gBAAgBvT,QAAQ1nB,KAE/C,CACE6Y,SAAS,EACTF,OAAO,EACPha,MAAO,MACPuQ,UAAW,gBACXhQ,MAAO,GACPuuC,MAAO,SACPzgB,cAAeZ,GAAWA,EAAQshB,cAAgBthB,EAAQshB,cAAgB,KAC1ElmB,QAAS6lB,GAAwB,CAAC,CAACrgC,KAAM,GAAInQ,MAAO,KACpD4qB,SAAU,SAACznB,EAAE4V,GAAH,OAAwD,IAA/C5d,OAAO4d,EAAE83B,eAAehmB,QAAQ1vB,OAAOgI,MAE5D,CACE6Y,SAAS,EACTF,OAAO,EACPha,MAAO,MACPuQ,UAAW,aACXhQ,MAAO,GACP8tB,cAAeZ,GAAWA,EAAQ8O,WAAa9O,EAAQ8O,WAAa,KACpE1T,QAASmT,GAAwB,CAAC,CAAC3tB,KAAM,GAAInQ,MAAO,KACpD4qB,SAAU,SAACznB,EAAE4V,GAAH,OAAqD,IAA5C5d,OAAO4d,EAAEslB,YAAYxT,QAAQ1vB,OAAOgI,MAEzD,CACE6Y,SAAS,EACTF,OAAO,EACPha,MAAO,YACPuQ,UAAW,qBACXhV,MAAM,SACNgF,MAAO,IACP8tB,cAAeZ,GAAWA,EAAQ4O,mBAAqB5O,EAAQ4O,mBAAqB,KACpFxT,QAAS4lB,GAAgC,CAAC,CAACpgC,KAAM,GAAInQ,MAAO,KAC5D4qB,SAAU,SAACznB,EAAE4V,GAAH,OAA6C,IAApCA,EAAEolB,mBAAmBtT,QAAQ1nB,KAElD,CACE6Y,SAAS,EACTF,OAAO,EACPha,MAAO,OACPuQ,UAAW,cACXhQ,MAAO,GACP8tB,cAAeZ,GAAWA,EAAQ+O,YAAc/O,EAAQ+O,YAAc,KACtE3T,QAASoT,GAA0B,CAAC,CAAC5tB,KAAM,GAAInQ,MAAO,KACtD4qB,SAAU,SAACznB,EAAE4V,GAAH,OAAsC,IAA7BA,EAAEulB,YAAYzT,QAAQ1nB,KAE3C,CACE6Y,SAAS,EACTF,OAAO,EACPha,MAAO,QACPuQ,UAAW,eACXhQ,MAAO,GACPqQ,OAAQ,SAAC5Z,EAAG6Z,GACV,OAAI7Z,EAAEylC,aAAe5rB,EAAE4rB,cACb,EAENzlC,EAAEylC,aAAe5rB,EAAE4rB,aACd,EAEF,GAETpO,cAAeZ,GAAWA,EAAQgP,aAAehP,EAAQgP,aAAe,KACxE5T,QAASqT,GAA4B,CAAC,CAAC7tB,KAAM,GAAInQ,MAAO,KACxD4qB,SAAU,SAACznB,EAAE4V,GAAH,OAAuC,IAA9BA,EAAEwlB,aAAa1T,QAAQ1nB,KAE5C,CACE6Y,SAAS,EACTF,OAAO,EACPha,MAAO,YACPuQ,UAAW,mBACXhQ,MAAO,IACPhF,MAAO,SACPqV,OAAQ,SAAC5Z,EAAE6Z,GAAH,OAAS7Z,EAAE0lC,iBAAmB7rB,EAAE6rB,kBACxChsB,OAAQ,SAACuG,EAAG6E,GACV,OAAI7E,GAAW,MAANA,GAAmB,MAANA,EACb,cAAC,KAAD,CAAKtU,MAAM,UAAUK,QAAS,kBAAMm5B,EAAergB,EAAIie,iBAAiBv+B,MAAO,CAAEwkB,OAAQ,WAAzF,SAAuG/I,IAEvG,MAIb,CACEiD,SAAS,EACTF,OAAO,EACPha,MAAO,WACPuQ,UAAW,WACXhQ,MAAO,GACPhF,MAAO,SACP8yB,cAAeZ,GAAWA,EAAQkP,SAAWlP,EAAQkP,SAAW,KAChE9T,QAAS,CAAC,CAACxa,KAAM,KAAMnQ,OAAO,GAAO,CAACmQ,KAAM,KAAMnQ,OAAO,IACzD4qB,SAAU,SAACznB,EAAE4V,GACX,OAAI5V,EACK4V,EAAE0lB,UAED1lB,EAAE0lB,UAGdjsB,OAAQ,SAACksB,GACP,OAAIA,GAAOA,EAAIp/B,OAAS,EACf,cAAC,KAAD,CAAKmF,MAAM,SAASK,QAAS,kBAAMo5B,EAAcQ,IAAMphC,MAAO,CAAEwkB,OAAQ,WAAxE,gBAEA,MAIb,CACE9F,SAAS,EACTF,OAAO,EACPha,MAAO,UACPuQ,UAAW,iBACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEbC,OAAQ,SAACzQ,GAAD,OACN,cAAC,KAAD,CAASiB,UAAU,UAAUlB,MAAOC,EAApC,SACGA,MAIP,CACEia,SAAS,EACTF,OAAO,EACPha,MAAO,WACPuQ,UAAW,WACXhQ,MAAO,IACP8tB,cAAeZ,GAAWA,EAAQoP,SAAWpP,EAAQoP,SAAW,KAChEhU,QAAS4S,GAAkC,CAAC,CAACptB,KAAM,GAAInQ,MAAO,KAC9D4qB,SAAU,SAACznB,EAAE4V,GAAH,OAAmC,IAA1BA,EAAE4lB,SAAS9T,QAAQ1nB,KAExC,CACE6Y,SAAS,EACTF,OAAO,EACPha,MAAO,eACPuQ,UAAW,YACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEbC,OAAQ,SAACqD,GAAD,OACN,cAAC,KAAD,CAAS7S,UAAU,UAAUlB,MAAO+T,EAApC,SACGA,MAIP,CACEmG,SAAS,EACTF,OAAO,EACPha,MAAO,SACPuQ,UAAW,SACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEb4d,cAAeZ,GAAWA,EAAQha,OAASga,EAAQha,OAAS,KAC5DoV,QAAS6S,GAA8B,CAAC,CAACrtB,KAAM,GAAInQ,MAAO,KAC1D4qB,SAAU,SAACznB,EAAE4V,GAAH,OAAiC,IAAxBA,EAAExD,OAAOsV,QAAQ1nB,IACpCqP,OAAQ,SAACqsB,GAAD,OACN,cAAC,KAAD,CAAS77B,UAAU,UAAUlB,MAAO+8B,EAApC,SACGA,MAIP,CACE7iB,SAAS,EACTF,OAAO,EACPha,MAAO,aACPuQ,UAAW,aACXhQ,MAAO,IACPhF,MAAO,SACP8yB,cAAeZ,GAAWA,EAAQ3f,WAAa2f,EAAQ3f,WAAa,KACpE+a,QAAS8S,GAAoC,CAAC,CAACttB,KAAM,GAAInQ,MAAO,KAChE4qB,SAAU,SAACznB,EAAE4V,GAAH,OAAqC,IAA5BA,EAAEnJ,WAAWib,QAAQ1nB,IACxCqP,OAAQ,SAACjW,GAAD,OAAO,cAAC,GAAD,CAAW+U,OAAQ/U,MAEpC,CACEyf,SAAS,EACTF,OAAO,EACPha,MAAO,gBACPuQ,UAAW,gBACXhQ,MAAO,IACPhF,MAAO,SACP8yB,cAAeZ,GAAWA,EAAQuP,cAAgBvP,EAAQuP,cAAgB,KAC1EnU,QAAS+S,GAA0C,CAAC,CAACvtB,KAAM,GAAInQ,MAAO,KACtE4qB,SAAU,SAACznB,EAAE4V,GAAH,OAAwC,IAA/BA,EAAE+lB,cAAcjU,QAAQ1nB,IAC3CqP,OAAQ,SAACjW,GAAD,OAAO,cAAC,GAAD,CAAW+U,OAAQ/U,MAEpC,CACEyf,SAAS,EACTF,OAAO,EACPha,MAAO,WACPuQ,UAAW,WACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEb4d,cAAeZ,GAAWA,EAAQ3Z,SAAW2Z,EAAQ3Z,SAAW,KAChE+U,QAASoE,GAAkC,CAAC,CAAC5e,KAAM,GAAInQ,MAAO,KAC9D4qB,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAEnD,cACcrb,IAAfwe,EAAEnD,UAC0B,IAA9BmD,EAAEnD,SAAS9I,IAAI+d,QAAQ1nB,IAKlCqP,OAAQ,SAACzQ,GAAD,OACN,cAAC,KAAD,CAASiB,UAAU,UAAUlB,MAAOC,EAAIA,EAAE/F,OAAO,IAAjD,SACG+F,EAAIA,EAAE/F,OAAO,QAIpB,CACEggB,SAAS,EACTF,OAAO,EACPha,MAAO,kBACPuQ,UAAW,iBACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEb4d,cAAeZ,GAAWA,EAAQ0W,eAAiB1W,EAAQ0W,eAAiB,KAC5Etb,QAAS0lB,GAA8C,CAAC,CAAClgC,KAAM,GAAInQ,MAAO,KAC1E4qB,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAEktB,iBACFltB,EAAEktB,gBACiC,IAApCltB,EAAEktB,eAAen5B,IAAI+d,QAAQ1nB,IAKxCqP,OAAQ,SAACqD,GAAD,OACN,cAAC,KAAD,CAAS7S,UAAU,UAAUlB,MAAO+T,EAAIA,EAAE7Z,OAAO,IAAI6Z,EAAEnI,UAAU,IAAjE,SACGmI,EAAIA,EAAE7Z,OAAO,IAAI6Z,EAAEnI,UAAU,QAIpC,CACEsO,SAAS,EACTF,OAAO,EACPha,MAAO,cACPuQ,UAAW,UACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEb4d,cAAeZ,GAAWA,EAAQrnB,QAAUqnB,EAAQrnB,QAAU,KAC9DyiB,QAAS2lB,GAAsC,CAAC,CAACngC,KAAM,GAAInQ,MAAO,KAClE4qB,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAE7Q,UACF6Q,EAAE7Q,SAC0B,IAA7B6Q,EAAE7Q,QAAQ4E,IAAI+d,QAAQ1nB,IAKjCqP,OAAQ,SAACC,GAAD,OACN,cAAC,KAAD,CAASzP,UAAU,UAAUlB,MAAO2Q,EAAIA,EAAEzW,OAAO,IAAIyW,EAAE/E,UAAU,IAAjE,SACG+E,EAAIA,EAAEzW,OAAO,IAAIyW,EAAE/E,UAAU,QAIpC,CACEsO,SAAS,EACTF,OAAO,EACPha,MAAO,mBACPuQ,UAAW,kBACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEb4d,cAAeZ,GAAWA,EAAQwP,gBAAkBxP,EAAQwP,gBAAkB,KAC9EpU,QAASgT,GAAgD,CAAC,CAACxtB,KAAM,GAAInQ,MAAO,KAC5E4qB,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAEgmB,kBACFhmB,EAAEgmB,iBACkC,IAArChmB,EAAEgmB,gBAAgBjyB,IAAI+d,QAAQ1nB,IAKzCqP,OAAQ,SAACC,GAAD,OACN,cAAC,KAAD,CAASzP,UAAU,UAAUlB,MAAO2Q,EAAIA,EAAEzW,OAAO,IAAIyW,EAAE/E,UAAU,IAAjE,SACG+E,EAAIA,EAAEzW,OAAO,IAAIyW,EAAE/E,UAAU,QAIpC,CACEsO,SAAS,EACTF,OAAO,EACPha,MAAO,qBACPuQ,UAAW,qBACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEb4d,cAAeZ,GAAWA,EAAQkQ,mBAAqBlQ,EAAQkQ,mBAAqB,KACpF9U,QAAS8lB,GAAwC,CAAC,CAACtgC,KAAM,GAAInQ,MAAO,KACpE4qB,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAE0mB,qBACF1mB,EAAE0mB,oBACiH,IAApHtkC,OAAO4d,EAAE0mB,oBAAoBjiB,cAAc2B,QAAQ,KAAM,IAAI0L,QAAQ1vB,OAAOgI,GAAGqa,cAAc2B,QAAQ,KAAM,MAKtH3M,OAAQ,SAACK,GAAD,OAAO,eAAC,KAAD,CAAS7P,UAAU,UAAUlB,MAAO+Q,EAApC,UAAwCA,EAAxC,SAEjB,CACEmJ,SAAS,EACTF,OAAO,EACPha,MAAO,aACPuQ,UAAW,aACXhQ,MAAO,IACPhF,MAAO,SACP8yB,cAAeZ,GAAWA,EAAQ6M,WAAa7M,EAAQ6M,WAAa,KACpEzR,QAAS+lB,GAAoC,CAAC,CAACvgC,KAAM,GAAInQ,MAAO,KAChE4qB,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAEqjB,aACFrjB,EAAEqjB,YACuE,IAA1EtuB,KAAOiL,EAAEqjB,YAAYlkB,OAAO,YAAY44B,WAAWjmB,QAAQ1vB,OAAOgI,KAK7EqP,OAAQ,SAAC0hB,GACP,OAAIA,EACKpmB,KAAOomB,GAAOhc,OAAO,YAErB,MAIb,CACE8D,SAAS,EACTF,OAAO,EACPha,MAAO,iBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAAC0hB,GACP,OAAIA,EACKpmB,KAAOomB,GAAOhc,OAAO,kBAErB,MAIb,CACE8D,SAAS,EACTF,OAAO,EACPha,MAAO,iBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAAC0hB,GACP,OAAIA,EACKpmB,KAAOomB,GAAOhc,OAAO,kBAErB,MAIb,CACE8D,SAAS,EACTF,OAAO,EACPha,MAAO,YACPuQ,UAAW,cACXhQ,MAAO,IACPhF,MAAO,SACPytB,MAAO,QACPqF,cAAeZ,GAAWA,EAAQ2N,YAAc3N,EAAQ2N,YAAc,KACtEvS,QAASmS,EAAiBA,EAAentB,QAAO,SAACpT,GAAD,OAAOA,EAAE4T,QAAQ,CAAC,CAACA,KAAM,GAAInQ,MAAO,KACpF4qB,SAAU,SAACznB,EAAE4V,GACX,SAAIA,EAAEmkB,cAAe/5B,IACiB,IAA7B4V,EAAEmkB,YAAYrS,QAAQ1nB,IAKjCqP,OAAQ,SAAC2qB,GACP,OAAIA,EACK,cAAC,KAAD,CAAK14B,MAAM,OAAX,SAAmB04B,SAE1B,IAIN,CACEnhB,SAAS,EACTF,OAAO,EACPha,MAAO,QACPuQ,UAAW,iBACXhQ,MAAO,GACPhF,MAAO,SACPytB,MAAO,QACPpY,OAAQ,SAAC5Z,EAAG6Z,GACV,OAAI7E,OAASsL,KAAKtgB,EAAEskC,eAAgB,SAAWtvB,OAASsL,KAAKzG,EAAEyqB,eAAgB,UACrE,EAENtvB,OAASsL,KAAKtgB,EAAEskC,eAAgB,SAAWtvB,OAASsL,KAAKzG,EAAEyqB,eAAgB,SACtE,EAEF,GAET5qB,OAAQ,SAAC0hB,EAAOhb,GAAR,OAAgB,cAAC,GAAD,CAAUgb,MAAOA,EAAOriB,KAAM7B,GAAqBkM,WAAYhD,EAAIgkB,gBAE7F,CACElhB,SAAS,EACTF,OAAO,EACPha,MAAO,OACPuQ,UAAW,iBACXhQ,MAAO,GACPhF,MAAO,SACPytB,MAAO,QACPpY,OAAQ,SAAC5Z,EAAG6Z,GACV,OAAI7Z,EAAE+tC,eAGFl0B,EAAEk0B,eAGF/4B,OAASsL,KAAKtgB,EAAE+tC,eAAgB,QAAU/4B,OAASsL,KAAKzG,EAAEk0B,eAAgB,SACpE,EAEN/4B,OAASsL,KAAKtgB,EAAE+tC,eAAgB,QAAU/4B,OAASsL,KAAKzG,EAAEk0B,eAAgB,QACrE,EAEF,EARE,GAHC,GAaZr0B,OAAQ,SAAC0hB,GAAD,OAAW,cAAC,GAAD,CAASA,MAAOA,MAErC,CACElY,SAAS,EACTF,OAAO,EACPha,MAAO,WACPuQ,UAAW,MACXhQ,MAAO,IACPhF,MAAO,SACPytB,MAAO,QACPtY,OAAQ,SAACvW,EAAIid,GAAL,OACN,gCACE,cAACmkB,GAAA,EAAD,CACE//B,MAAO,CAAEmX,SAAU,SAAU/P,YAAa,SAC1CI,QAAS,kBAAMi4B,EAAc9gC,MAE/B,cAAC,GAAD,CAAgBid,IAAKA,EAAKqjB,cAAeA,UAM3C2O,EAAkByF,EAAgBhhC,QAAO,SAAApT,GAAC,OAAIA,EAAEyf,WAEhDmvB,EAAgBwF,EAAgBhhC,QAAO,SAAApT,GAAC,OAAIA,EAAEuf,SAEpD,OAAQjK,GACN,KAAK7B,GACH,OAAOk7B,EACT,KAAKl7B,GACH,OAAOm7B,G,IC1iBLvlB,GAAWrF,IAAXqF,OAsKO0a,OApKf,YAAoL,IAA5J/Q,EAA2J,EAA3JA,QAASC,EAAkJ,EAAlJA,WAAY3d,EAAsI,EAAtIA,KAAsI,IAAhInY,YAAgI,MAA3H,GAA2H,EAAvHT,EAAuH,EAAvHA,QAASunC,EAA8G,EAA9GA,qBAAsBC,EAAwF,EAAxFA,wBAAyBxC,EAA+D,EAA/DA,eAAgBC,EAA+C,EAA/CA,cAAenB,EAAgC,EAAhCA,cAAeR,EAAiB,EAAjBA,cAAiB,EAC/I15B,mBAAS,IADsI,oBAC1KkuC,EAD0K,KAC/JC,EAD+J,OAErInuC,mBAAS,IAF4H,oBAE1K06B,EAF0K,KAE1JoD,EAF0J,OAGzI99B,mBAAS,IAHgI,oBAG1K26B,EAH0K,KAG5JoD,EAH4J,OAInI/9B,mBAAS,IAJ0H,oBAI1K46B,EAJ0K,KAIzJoD,EAJyJ,OAK7Hh+B,mBAAS,IALoH,oBAK1K66B,EAL0K,KAKtJoD,EALsJ,OAMrIj+B,mBAAS,IAN4H,oBAM1KksB,EAN0K,KAM1JC,EAN0J,OAOzHnsB,mBAAS,IAPgH,oBAO1KwtC,EAP0K,KAOpJY,EAPoJ,OAQjIpuC,mBAAS,IARwH,oBAQ1KytC,EAR0K,KAQxJY,EARwJ,OASvHruC,mBAAS,IAT8G,oBAS1K86B,EAT0K,KASnJoD,EATmJ,OAUvIl+B,mBAAS,IAV8H,qBAU1K0tC,GAV0K,MAU3JY,GAV2J,SAWjItuC,mBAAS,IAXwH,sBAW1KiU,GAX0K,MAWxJ8zB,GAXwJ,SAY7I/nC,mBAAS,IAZoI,sBAY1Kk7B,GAZ0K,MAY9JqD,GAZ8J,SAa3Iv+B,mBAAS,IAbkI,sBAa1Km7B,GAb0K,MAa7JqD,GAb6J,SAc/Ix+B,mBAAS,IAdsI,sBAc1K2tC,GAd0K,MAc/JY,GAd+J,SAe/IvuC,mBAAS,IAfsI,sBAe1Ki7B,GAf0K,MAe/JqD,GAf+J,SAgB/Ht+B,mBAAS,IAhBsH,sBAgB1K4tC,GAhB0K,MAgBvJY,GAhBuJ,SAiBrIxuC,mBAAS,IAjB4H,sBAiB1Ki6B,GAjB0K,MAiB1JwE,GAjB0J,SAkBnIz+B,mBAAS,IAlB0H,sBAkB1K6tC,GAlB0K,MAkBzJY,GAlByJ,SAmBrIzuC,mBAAS,MAnB4H,sBAmB1K0+B,GAnB0K,MAmB1JC,GAnB0J,SAoBzI3+B,oBAAS,GApBgI,sBAoB1KmX,GApB0K,MAoB5JC,GApB4J,SAqB/HpX,mBAAS,GArBsH,sBAqB1K0uC,GArB0K,MAqBvJC,GArBuJ,MAuBjLv0C,qBAAU,WACJvD,GAAQA,EAAK4F,OAAS,GACxB0xC,EAAat3C,GACbo2B,GAAep2B,IAEfs3C,EAAa,MAGf,CAACt3C,IAEHuD,qBAAU,WACHsyB,GAASiiB,GAAqB,KAClC,CAACjiB,IAEJ,IAAMjV,GAAoB,kBAAML,IAAiBD,KAO3C8V,GAAiB,SAACvsB,GACtBiuC,GAAqBjuC,EAAWjE,QAChCqhC,EAAkB3Y,GAAoBzkB,EAAY,aAClDq9B,EAAgB5Y,GAAoBzkB,EAAY,WAChDs9B,EAAmB7Y,GAAoBzkB,EAAY,eACnDu9B,EAAsB9Y,GAAoBzkB,EAAY,kBACtD4tC,GAAiBnpB,GAAoBzkB,EAAY,uBACjDqnC,GAAoB5iB,GAAoBzkB,EAAY,oBACpD69B,GAAcpZ,GAAoBzkB,EAAY,gBAC9C89B,GAAerZ,GAAoBzkB,EAAY,iBAC/C6tC,GAAappB,GAAoBzkB,EAAY,kBAC7C49B,GAAanZ,GAAoBzkB,EAAY,eAC7C8tC,GAAqBrpB,GAAoBzkB,EAAY,uBACrD+9B,GAAkBtZ,GAAoBzkB,EAAY,gBAClD+tC,GnENG,WAA6C,IAAjB53C,EAAgB,uDAAX,GAAIwT,EAAO,uCACjD,GAAoB,IAAhBxT,EAAK4F,OACP,MAAQ,GAER,IAAIuoB,EAAe,GACnB,IAaE,OAZAnuB,EAAKgY,SAAQ,SAACnV,QACKhC,IAAbgC,EAAE2Q,IAAqC,OAAb3Q,EAAE2Q,KAEnB,IADD2a,EAAaE,WAAU,SAAAhmB,GAAC,OAAIA,EAAE/B,QAAU8N,KAAOvR,EAAE2Q,IAAQgL,OAAO,gBAExE2P,EAAa7qB,KAAK,CAChBmT,KAAMrC,KAAOvR,EAAE2Q,IAAQgL,OAAO,YAC9BlY,MAAO8N,KAAOvR,EAAE2Q,IAAQgL,OAAO,iBAKvC2P,EAAa7qB,KAAK,CAACmT,KAAM,IAAKnQ,MAAO,MAC7B6nB,EACR,MAAO9tB,GAEP,OADAK,QAAQC,IAAIN,GACJ,ImEfS03C,CAAmBluC,EAAY,eAClDyrB,EAAkBrH,GAAgBpkB,EAAY,aAC9C0tC,EAAwBtpB,GAAgBpkB,EAAY,kBAAkB,IACtE2tC,EAAoBvpB,GAAgBpkB,EAAY,WAAW,IAC3Dw9B,EAAyBpZ,GAAgBpkB,EAAY,mBAAmB,KAQ1E,SAASmuC,GAAoBn1C,GACvBA,GAAKA,EAAE+C,OAAS,EAClB0xC,EAAat3C,EAAKiW,QAAO,SAACkD,GAAD,OAAO1X,OAAO0X,EAAE4pB,sBAAsB56B,SAAStF,OAExEy0C,EAAat3C,GAIjB,OACE,gCACE,cAAC,KAAD,CACEoI,MAAO,kBACL,cAAC,GAAD,CACEpD,YAAY,mBACZwrC,SAAUwH,GACVp0C,MAAO,CAAE+E,MAAO,IAAKqC,YAAa,OAAQ+I,aAAc,SACxD+d,YAAU,KAEdzW,OAAO,MACPmW,MAAO,SAACC,GACN,MAAO,CACLC,cAAe,kBApDHnvB,EAoDsBkvB,EAAOre,IAnDjD00B,GAAkBvlC,QAClBqe,KAFmB,IAACre,KAuDhBy0B,aAAc,CACZC,YAAa,GACbC,gBAAiB4P,EACjBjzB,SAAU,SAAChR,GAAD,OAAOkkC,EAAwBlkC,KAE3CgR,SAlCgB,SAACQ,EAAG4c,EAAS7R,EAAIvV,GACrCusB,GAAevsB,EAAWktB,mBAC1BjB,EAAW7E,IAiCP3V,QAAS28B,GAAgB,CACvB9/B,OACA0d,UACAC,aACA+N,iBACAC,eACAC,kBACAC,qBACA3O,iBACAshB,uBACAC,mBACA3S,wBACA4S,iBACAz5B,oBACAinB,cACAC,eACAwS,aACA1S,aACAhB,kBACA2T,qBACAC,mBACAzS,iBACAC,gBACAnB,gBACAR,kBAEFh5B,WAAYwtC,EACZ93C,QAASA,EACTmN,KAAK,QACLuT,OAAQ,CAAEC,EAAG,QACb3E,WAAY,CACV2W,gBAAiB,GACjBC,gBAAiB,CAAC,GAAG,IAAI,MAE3BtS,OAAQ,kBACN,eAAC,IAAD,CAAKtB,OAAQ,GAAb,UACE,cAAC,IAAD,CAAKlR,KAAM,EAAX,SACE,cAAC,KAAD,CAAWjF,MAAM,QAAQ9B,MAAOtG,EAAK4F,WAEvC,cAAC,IAAD,CAAKyH,KAAM,GAAX,SACE,cAAC,KAAD,CAAWjF,MAAM,kBAAkB9B,MAAOuxC,aAMlD,cAAC,GAAD,CAAmBzuC,QAASkX,GAAcrB,MAAO2B,GAAmB2hB,MAAOsF,GAAgB1vB,KAAMA,QCxJ/FjG,GAAWC,KAAXD,OACA0U,GAAaC,IAAbD,SAmHOsxB,OAjHf,YAAyF,IAAlE9uC,EAAiE,EAAjEA,QAAS6V,EAAwD,EAAxDA,MAAwD,KAAjDvD,QAAiD,EAArCO,UAAqC,EAAvBpE,iBAAuB,MAAd,GAAc,EAAVszB,EAAU,EAAVA,QAAU,EAClChiC,mBAAS,MADyB,oBAC/EiiC,EAD+E,KAC3DC,EAD2D,OAE9BliC,mBAAS,MAFqB,oBAE/E0b,EAF+E,KAEzDC,EAFyD,OAGlC3b,mBAAS,MAHyB,oBAG/E0iC,EAH+E,KAG3DC,EAH2D,OAIpD3iC,mBAAS,MAJ2C,oBAI/EmiC,EAJ+E,KAIpEC,EAJoE,OAKhDpiC,mBAAS,MALuC,oBAK/EqkB,EAL+E,KAKlEmF,EALkE,OAM1CxpB,oBAAS,GANiC,oBAM/EqiC,EAN+E,KAM/DC,EAN+D,KAQtFloC,qBAAU,WACR8nC,EAAsB,MACtBvmB,EAAwB,MACxBgnB,EAAsB,MACtBP,EAAa,MACb5Y,EAAe,QACd,IAEH,IAAM+Y,EAAY,uCAAG,sBAAAtsC,EAAA,0DACfksC,EADe,uBAEjBG,GAAkB,GAFD,SAGXN,EAAQC,EAAoBvmB,EAAsBgnB,EAAoBP,EAAW9d,GAHtE,OAIjBie,GAAkB,GAClBxsB,IALiB,2CAAH,qDAiBlB,OACE,eAAC,KAAD,CACE7W,MAAM,gBACNO,MAAO,IACPS,QAASA,EACTwW,SAAUX,EACVU,KAAM+rB,EACNC,gBAAc,EACdxkB,gBAAc,EACdrH,UAAQ,EACRD,OAAQ,CACN,cAAC,IAAD,CAAmBzU,QAAS6T,EAA5B,qBAAY,QAGZ,cAAC,IAAD,CAAQrB,UAAW0tB,EAAuC7nC,KAAK,UAAUlE,QAASisC,EAAgBpgC,QAASsgC,EAA3G,oBAAiD,WAbrD,UAiCE,cAAC,KAAD,CACEhV,YAAU,EACV1xB,YAAY,qBACZpB,MAAO,CAAE+E,MAAO,IAAKoL,aAAc,SACnCF,SAAU,SAAChR,GAAD,OAAOipC,EAAsBjpC,IACvC6rB,aAAcmd,EACdlV,aAAc,SAACC,EAAOC,GACpB,OAAOA,EAAOtwB,SAASud,cAAcqN,QAAQyF,EAAM9S,gBAAkB,GAPzE,SAYEjM,GAAYA,EAASjS,OAAS,EAC9BiS,EAAShS,KAAI,SAACoT,EAAGhR,GAAJ,OACX,cAAC,GAAD,CAAQ3B,MAAO2S,EAAE7F,IAAjB,SAA+B6F,EAAE3W,QAAN2F,MAG7B,cAAC,GAAD,yBAGF,cAAC,KAAD,CACEymB,aAActa,KAAOk3B,GAAsBvoC,KAAKozC,OAChDnxC,YAAY,4BACZpB,MAAO,CAAE+E,MAAO,IAAKoL,aAAc,SACnCF,SAlEe,SAAC2mB,GAElB+Q,EADE/Q,EACWA,EAAM3H,MAAMrU,OAAO,oBAEnB,SAgEb,cAAC,GAAD,CACE4I,KAAM,EACNxjB,MAAO,CAAE+E,MAAO,KAChB+lB,aAAclB,EACdxoB,YAAY,cACZ6O,SAAU,SAAChR,GAAD,OAAO8vB,EAAe9vB,EAAEoR,OAAO3N,cCwLlC6xC,OA9Qf,YAAqE,IAAxCl8B,EAAuC,EAAvCA,UAAWpE,EAA4B,EAA5BA,SAAUpJ,EAAkB,EAAlBA,SAAU0J,EAAQ,EAARA,KAAQ,EAC5BhP,mBAAS,IADmB,oBAC3DkgC,EAD2D,KAC9CC,EAD8C,OAExBngC,mBAAS,IAFe,oBAE3DglC,EAF2D,KAE5CC,EAF4C,OAG1BjlC,mBAAS,IAHiB,oBAG3DklC,EAH2D,KAG7CC,EAH6C,OAIVnlC,mBAAS,IAJC,oBAI3D29B,EAJ2D,KAIrCC,EAJqC,OAKtB59B,oBAAS,GALa,oBAK3D8kC,EAL2D,KAK3CC,EAL2C,OAMxB/kC,oBAAS,GANe,oBAM3DivC,EAN2D,KAM5CC,EAN4C,OAOAlvC,oBAAS,GAPT,oBAO3DmvC,EAP2D,KAOhCC,EAPgC,OAQtBpvC,oBAAS,GARa,oBAQ3DqiC,EAR2D,KAQ3CC,EAR2C,OAStBtiC,oBAAS,GATa,oBAS3D4rB,EAT2D,KAS3CC,EAT2C,OAUxB7rB,oBAAS,GAVe,oBAU3DolC,EAV2D,KAU5CC,EAV4C,OAWpBrlC,oBAAS,GAXW,oBAW3DslC,GAX2D,KAW1CC,GAX0C,QAYpBvlC,oBAAS,GAZW,sBAY3DqvC,GAZ2D,MAY1CC,GAZ0C,SAapBtvC,oBAAS,GAbW,sBAa3DwlC,GAb2D,MAa1CC,GAb0C,SAc1BzlC,oBAAS,GAdiB,sBAc3D0lC,GAd2D,MAc7CC,GAd6C,SAe1B3lC,oBAAS,GAfiB,sBAe3DgvB,GAf2D,MAe7CC,GAf6C,SAgBtBjvB,oBAAS,GAhBa,sBAgB3D4lC,GAhB2D,MAgB3CC,GAhB2C,SAiBxB7lC,oBAAS,GAjBe,sBAiB3D8lC,GAjB2D,MAiB5CC,GAjB4C,SAkB5B/lC,oBAAS,GAlBmB,sBAkB3DgmC,GAlB2D,MAkB9CC,GAlB8C,SAmBxBjmC,oBAAS,GAnBe,sBAmB3D21B,GAnB2D,MAmB5CC,GAnB4C,SAoBxB51B,mBAAS,MApBe,sBAoB3DkmC,GApB2D,MAoB5CC,GApB4C,SAqBpCnmC,mBAAS,MArB2B,sBAqB3D0sB,GArB2D,MAqBlDC,GArBkD,eAkDnD+M,KAlDmD,8EAkDlE,sBAAAzjC,EAAA,6DACE8uC,GAAkB,GAClBnH,EAAwB,IAF1B,SAGQ7E,IAAW,EAAM,CAAEn0B,OAAQkB,GAAqBkJ,SACnDpY,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACFA,GAAQA,EAAK4F,OAAS,GACxB0jC,EAAetpC,MAEhBO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAM+6B,GAAkB,MARxE,4CAlDkE,+BA6DnDsB,GA7DmD,iFA6DlE,WAA8BE,GAA9B,SAAAtwC,EAAA,6DACEq5C,IAAmB,GADrB,SAEQvW,IAAY,EAAM,CAAEn0B,OAAQkB,GAAyB1M,GAAImtC,IAC5D3vC,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACFA,GAAQA,EAAKoT,KACfk7B,EAAgB,CAACtuC,OAElBO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAMslC,IAAmB,MAPzE,4CA7DkE,+BAuEnDhJ,GAvEmD,iFAuElE,WAA8BC,GAA9B,SAAAtwC,EAAA,6DACEsvC,IAAmB,GADrB,SAEQxM,IAAY,EAAM,CAAEn0B,OAAQkB,GAA0B1M,GAAImtC,IAC7D3vC,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACFA,GAAQA,EAAK4F,OAAS,GACxBwoC,EAAiBpuC,MAElBO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAMu7B,IAAmB,MAPzE,4CAvEkE,oEAiFlE,sBAAAtvC,EAAA,6DACEi5C,GAAiB,GADnB,SAEQnW,IAAW,EAAM,CAAEn0B,OAAQkB,GAAqBkJ,SACnDpY,MAAK,SAAC8C,GACY,YAAbA,EAAErB,QACJqhC,QAGHtiC,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAC3B2S,SAAQ,kBAAMklC,GAAiB,MATpC,4CAjFkE,oEA6FlE,sBAAAj5C,EAAA,6DACEm5C,GAA6B,GAD/B,SAEQrW,IAAW,EAAM,CAAEn0B,OAAQkB,KAC9BlP,MAAK,SAAC8C,GACY,YAAbA,EAAErB,QACJqhC,QAGHtiC,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAC3B2S,SAAQ,kBAAMolC,GAA6B,MAThD,4CA7FkE,oEAyGlE,WAA8BnN,EAAoBvmB,EAAsBgnB,EAAoBP,EAAW9d,GAAvG,SAAApuB,EAAA,2DACM0nC,GAAwBA,EAAqBlhC,OAAS,GAD5D,uBAEI6lC,GAAkB,GAFtB,SAGUhJ,GAAa,CACjB10B,OAAQkB,GACRA,QAAS63B,EACTjrB,OAAQuvB,EACRlvB,SAAU2I,EACVniB,OAAQmpC,EACRnJ,WAAY4I,EACZ9d,gBACCztB,KARG,sBAQE,sBAAAX,EAAA,sEAAiByjC,KAAjB,oFAAkCtiC,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAMs4B,GAAkB,MAX/G,4CAzGkE,oEAwHlE,WAA8BzrC,GAA9B,eAAAZ,EAAA,2DACM0nC,GAAwBA,EAAqBlhC,OAAS,GAD5D,uBAEUwqC,EAAUpwC,EAChBg1B,GAAkB,GAClByD,KAJJ,SAKUgK,GAAa,aACjB10B,OAAQkB,GAAuBA,QAAS63B,GAAyBsJ,IAChErwC,KAFG,sBAEE,sBAAAX,EAAA,sEAAiByjC,KAAjB,oFAAkCtiC,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAM6hB,GAAkB,MAP/G,4CAxHkE,oEAmIlE,WAAgCpd,EAAQ4V,GAAxC,6BAAApuB,EAAA,yDAAqDuwC,EAArD,+BAA2D,KACrD7I,GAAwBA,EAAqBlhC,OAAS,GAD5D,wBAEQgqC,EAAe,IAAIC,UACVC,OAAO,SAAU7gC,IAC9B2gC,EAAaE,OAAO,UAAW3pB,KAAK4pB,UAAUjJ,IAC1ClvB,GAAQg4B,EAAaE,OAAO,SAAUl4B,GACtC4V,GAAaoiB,EAAaE,OAAO,cAAetiB,GACpDmiB,EAAM33B,SAAQ,SAACuH,GACbqwB,EAAaE,OAAO,QAASvwB,MAG/BivB,GAAiB,GACjBwB,KAZJ,UAaUrN,GAAkBiN,GACrB7vC,KADG,sBACE,sBAAAX,EAAA,sEAAiByjC,KAAjB,oFACLtiC,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAC3B2S,SAAQ,kBAAMq7B,GAAiB,MAhBtC,6CAnIkE,sBAuBlEjrC,qBAAU,WAgBR,OAfA3E,GAAOmnB,KAAK,oBAAqB,QAUjCnnB,GAAOonB,GAAG,SAAS,SAACnjB,GAClBnC,QAAQC,IAAIkC,GACZvD,IAAUe,MAAM,gCAAiC,CAAEZ,SAAU,gBAGxD,WACLb,GAAO0nB,IAAI,sBAGb,IAgHF,IAAM2pB,GAAoB,kBAAMnB,IAAiBD,KAC3CpW,GAAoB,kBAAML,IAAiBD,KAC3C+X,GAAsB,kBAAMlB,IAAmBD,KAC/CoB,GAAqB,kBAAMjB,IAAkBD,KAC7Ce,GAAmB,kBAAMZ,IAAgBD,KACzCvP,GAAqB,kBAAMb,IAAkBD,KAO7C0F,GAAa,uCAAG,WAAOjiC,GAAP,SAAAnD,EAAA,6DACpB+wC,KADoB,SAEdX,GAAejtC,GAFD,2CAAH,sDAKb8gC,GAAa,uCAAG,WAAO9gC,GAAP,SAAAnD,EAAA,6DACpBwgC,KADoB,SAEd6P,GAAeltC,GAFD,2CAAH,sDAKnB,OACE,gCACE,gCACE,cAAC,IAAD,CACEkB,KAAK,UACL2D,KAAM6mC,EAAiB,cAACxlB,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAAC6kC,GAAA,EAAD,IAC/CzyB,SAAUqwB,EACVrqC,MAAO,CAAEmQ,aAAc,OAAQ/I,YAAa,SAC5CI,QAASy3B,GALX,wBAOA,cAAC,IAAD,CACEz7B,KAAMgxC,EAAgB,cAAC3vB,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAACktC,GAAA,EAAD,IAC9C90C,MAAO,CAAEmQ,aAAc,OAAQ/I,YAAa,SAC5CI,QA9L0D,4CA2L5D,yBAKA,cAAC,IAAD,CACEhE,KAAMkxC,EAA4B,cAAC7vB,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAACmtC,GAAA,EAAD,IAC1D/0C,MAAO,CAAEmQ,aAAc,OAAQ/I,YAAa,SAC5CI,QAnM0D,4CAgM5D,iCAKA,cAAC,IAAD,CACEhE,KAAMokC,EAAiB,cAAC/iB,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAAC7D,GAAA,EAAD,IAC/C/D,MAAO,CAAEmQ,aAAc,OAAQ/I,YAAa,SAC5C4S,SAA0C,IAAhCkpB,EAAqBlhC,OAC/BwF,QAAS6kC,GAJX,qBAMA,cAAC,IAAD,CACE7oC,KAAM2tB,EAAiB,cAACtM,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAAC8kC,GAAA,EAAD,IAC/C1sC,MAAO,CAAEmQ,aAAc,OAAQ/I,YAAa,SAC5C4S,SAA0C,IAAhCkpB,EAAqBlhC,OAC/BwF,QAASqtB,GAJX,qBAMA,cAAC,IAAD,CACErxB,KAAMmnC,EAAgB,cAAC9lB,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAAC+kC,GAAA,EAAD,IAC9C3sC,MAAO,CAAEmQ,aAAc,OAAQ/I,YAAa,SAC5C4S,SAA0C,IAAhCkpB,EAAqBlhC,OAC/BwF,QAAS4kC,GAJX,oBAMA,cAAC,KAAD,CACEzU,QAAS,cAAC,GAAD,CAAwBxtB,OAAQkB,GAA6BkJ,KAAMA,EAAMkI,WAAYuuB,GAAoB9H,qBAAsBA,IACxIx9B,UAAU,aACVT,QAAS,CAAC,SACV4nC,OAAK,EAJP,SAME,cAAC,IAAD,CACErpC,KAAMunC,GAAkB,cAAClmB,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAAC2rB,GAAA,EAAD,IAChDvzB,MAAO,CAAEmQ,aAAc,OAAQ/I,YAAa,SAF9C,wBAOF,cAAC,IAAD,CACE5D,KAAM,cAACwxC,GAAA,EAAD,IACNh1C,MAAO,CAAEmQ,aAAc,OAAQ/I,YAAa,SAC5CI,QAhFR,WACE0qB,GAAW,OA4EP,wBAMF,cAAC+iB,GAAD,CACEhjB,QAASA,GACTC,WAAYA,GACZ3d,KAAMA,EACNnY,KAAMqpC,EACN9pC,QAAS0uC,EACTnH,qBAAsBA,EACtBC,wBAAyBA,EACzBxC,eAhFiB,SAACl8B,GACtBinC,GAAiBjnC,GACjB6nC,MA+EI1L,cAAeA,GACfnB,cAAeA,GACfR,cAAeA,KAGjB,cAAC,GAAD,CAAcz5B,QAASylC,GAAc5vB,MAAOgxB,GAAmBv0B,QAASkmB,GAAc3lB,UAAWA,EAAWpE,SAAUA,EAAUszB,QAxPlE,uDA0P9D,cAAC,GAAD,CAAc/hC,QAAS+uB,GAAclZ,MAAOwZ,GAAmBxc,UAAWA,EAAWpE,SAAUA,EAAUpJ,SAAUA,EAAUm9B,QA1P/D,+CA4P9D,cAAC,GAAD,CAAaxiC,QAAS+lC,GAAalwB,MAAO+wB,GAAkB9F,iBA5PE,iDA8P9D,cAAC,GAAD,CAAgB9gC,QAAS2lC,GAAgB9vB,MAAOixB,GAAqB/N,eAAgBkN,KAErF,cAAC,GAAD,CAAejmC,QAAS6lC,GAAehwB,MAAOkxB,GAAoB5wC,QAASi5C,GAAiBjW,MAAO8L,IAEnG,cAACqC,GAAD,CAAetnC,QAAS01B,GAAe7f,MAAO2gB,GAAoBrgC,QAASkvC,GAAiB9F,UAAWwF,QC7QrGjjC,GAASuR,KAATvR,KAEO,SAAS4tC,GACtB3gC,GAUC,IATD0rB,EASA,uDATe,GACfE,EAQA,uDARgB,GAChBC,EAOA,uDAPmB,GACnB6S,EAMA,uDANc,GACdz5B,EAKA,uDALiB,GACjBinB,EAIA,uDAJW,GACXD,EAGA,uDAHU,GACVjjB,EAEA,uCADA0hB,EACA,uCAEM0O,EAAoB,CACxB,CACEjvB,SAAS,EACTF,OAAO,EACPha,MAAO,IACPO,MAAO,GACPyoB,MAAO,OACPtY,OAAQ,SAACzE,EAAE+K,EAAGnX,GAAN,OAAYA,EAAE,IAExB,CACEqa,SAAS,EACTF,OAAO,EACPha,MAAO,gBACPuQ,UAAW,uBACXhQ,MAAO,IACPyoB,MAAO,OACPtY,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEhhB,SAAS,EACTF,OAAO,EACPha,MAAO,gBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEhhB,SAAS,EACTF,OAAO,EACPha,MAAO,WACPuQ,UAAW,kBACXhQ,MAAO,IACPmQ,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEhhB,SAAS,EACTF,OAAO,EACPha,MAAO,iBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEhhB,SAAS,EACTF,OAAO,EACPha,MAAO,aACPuQ,UAAW,kBACXhV,MAAO,SACPgF,MAAO,IACPsoB,QAAS7T,GAAsC,GAC/C8T,SAAU,SAACznB,EAAE4V,GAAH,OAA0C,IAAjCA,EAAEqlB,gBAAgBvT,QAAQ1nB,KAE/C,CACE6Y,SAAS,EACTF,OAAO,EACPha,MAAO,MACPuQ,UAAW,aACXhQ,MAAO,GACPsoB,QAASmT,GAAwB,GACjClT,SAAU,SAACznB,EAAE4V,GAAH,OAAqD,IAA5C5d,OAAO4d,EAAEslB,YAAYxT,QAAQ1vB,OAAOgI,MAEzD,CACE6Y,SAAS,EACTF,OAAO,EACPha,MAAO,qBACPuQ,UAAW,kBACXhQ,MAAO,KAET,CACE2Z,SAAS,EACTF,OAAO,EACPha,MAAO,YACPuQ,UAAW,qBACXhV,MAAM,SACNgF,MAAO,IACPsoB,QAAS4lB,GAAgC,GACzC3lB,SAAU,SAACznB,EAAE4V,GAAH,OAA6C,IAApCA,EAAEolB,mBAAmBtT,QAAQ1nB,KAElD,CACE6Y,SAAS,EACTF,OAAO,EACPha,MAAO,OACPuQ,UAAW,cACXhQ,MAAO,GACPsoB,QAASoT,GAA0B,GACnCnT,SAAU,SAACznB,EAAE4V,GAAH,OAAsC,IAA7BA,EAAEulB,YAAYzT,QAAQ1nB,KAE3C,CACE6Y,SAAS,EACTF,OAAO,EACPha,MAAO,QACPuQ,UAAW,eACXhQ,MAAO,GACPqQ,OAAQ,SAAC5Z,EAAG6Z,GACV,OAAI7Z,EAAEylC,aAAe5rB,EAAE4rB,cACb,EAENzlC,EAAEylC,aAAe5rB,EAAE4rB,aACd,EAEF,IAGX,CACEviB,SAAS,EACTF,OAAO,EACPha,MAAO,WACPuQ,UAAW,WACXhQ,MAAO,IACPsoB,QAAS4S,GAAkC,GAC3C3S,SAAU,SAACznB,EAAE4V,GAAH,OAAmC,IAA1BA,EAAE4lB,SAAS9T,QAAQ1nB,KAExC,CACE6Y,SAAS,EACTF,OAAO,EACPha,MAAO,aACPuQ,UAAW,aACXhQ,MAAO,IACPhF,MAAO,SACPstB,QAAS8S,GAAoC,GAC7C7S,SAAU,SAACznB,EAAE4V,GAAH,OAAqC,IAA5BA,EAAEnJ,WAAWib,QAAQ1nB,IACxCqP,OAAQ,SAACjW,GAAD,OAAO,cAAC,GAAD,CAAW+U,OAAQ/U,MAEpC,CACEyf,SAAS,EACTF,OAAO,EACPha,MAAO,gBACPuQ,UAAW,gBACXhQ,MAAO,IACPhF,MAAO,SACPstB,QAAS+S,GAA0C,GACnD9S,SAAU,SAACznB,EAAE4V,GAAH,OAAwC,IAA/BA,EAAE+lB,cAAcjU,QAAQ1nB,IAC3CqP,OAAQ,SAACjW,GAAD,OAAO,cAAC,GAAD,CAAW+U,OAAQ/U,MAEpC,CACEyf,SAAS,EACTF,OAAO,EACPha,MAAO,mBACPuQ,UAAW,mBACXhQ,MAAO,IACPhF,MAAO,SACPmV,OAAQ,SAACjW,GAAD,OAAO,cAAC,GAAD,CAAW+U,OAAQ/U,MAEpC,CACEyf,SAAS,EACTF,OAAO,EACPha,MAAO,oBACPuQ,UAAW,mBACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEbC,OAAQ,SAACC,GAAD,OACN,cAAC,KAAD,CAASzP,UAAU,UAAUlB,MAAO2Q,EAApC,SACGA,MAIP,CACEuJ,SAAS,EACTF,OAAO,EACPha,MAAO,SACPuQ,UAAW,mBACXhQ,MAAO,KAET,CACE2Z,SAAS,EACTF,OAAO,EACPha,MAAO,cACPuQ,UAAW,cACXhQ,MAAO,KAET,CACE2Z,SAAS,EACTF,OAAO,EACPha,MAAO,2BACPuQ,UAAW,+BACXhQ,MAAO,KAET,CACE2Z,SAAS,EACTF,OAAO,EACPha,MAAO,wBACPuQ,UAAW,qBACXhQ,MAAO,KAET,CACE2Z,SAAS,EACTF,OAAO,EACPha,MAAO,2BACPuQ,UAAW,wBACXhQ,MAAO,KAET,CACE2Z,SAAS,EACTF,OAAO,EACPha,MAAO,iBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAAC0hB,GACP,OAAIA,EACKpmB,KAAOomB,GAAOhc,OAAO,kBAErB,MAIb,CACE8D,SAAS,EACTF,OAAO,EACPha,MAAO,iBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAAC0hB,GACP,OAAIA,EACKpmB,KAAOomB,GAAOhc,OAAO,kBAErB,MAIb,CACE8D,SAAS,EACTF,OAAO,EACPha,MAAO,kBACPuQ,UAAW,kBACXhQ,MAAO,IACPmQ,OAAQ,SAAC0hB,GACP,OAAIA,EACKpmB,KAAOomB,GAAOhc,OAAO,kBAErB,MAIb,CACE8D,SAAS,EACTF,OAAO,EACPha,MAAO,YACPuQ,UAAW,iBACXhQ,MAAO,IACPhF,MAAO,SACPytB,MAAO,QACPpY,OAAQ,SAAC5Z,EAAG6Z,GACV,GAAK7Z,EAAE8tC,iBAMA,GAAI94B,KAAOhV,EAAE8tC,iBAAiBxtB,KAAKtgB,EAAEskC,eAAgB,SAAWtvB,KAAOhV,EAAE8tC,iBAAiBxtB,KAAKzG,EAAEyqB,eAAgB,SACtH,OAAQ,MAPc,CACtB,GAAItvB,OAASsL,KAAKtgB,EAAEskC,eAAgB,SAAWtvB,OAASsL,KAAKzG,EAAEyqB,eAAgB,SAC7E,OAAQ,EACH,GAAItvB,OAASsL,KAAKtgB,EAAEskC,eAAgB,SAAWtvB,OAASsL,KAAKzG,EAAEyqB,eAAgB,SACpF,OAAO,EAKX,OAAItvB,KAAOhV,EAAE8tC,iBAAiBxtB,KAAKtgB,EAAEskC,eAAgB,SAAWtvB,KAAOhV,EAAE8tC,iBAAiBxtB,KAAKzG,EAAEyqB,eAAgB,SACxG,EAEF,GAET5qB,OAAQ,SAAC0hB,EAAOhb,GACd,GAAKA,EAAI0tB,gBAGF,IAAI1S,EAAO,CAChB,IAAItb,EAAQ9K,KAAOoL,EAAI0tB,iBAAiBxtB,KAAK8a,EAAO,SACpD,OAAO,cAAC,KAAD,CAAKzvB,MAAOyU,EAAIu5B,OAAS,WAAa75B,EAAQ,GAAK,UAAqB,KAAVA,EAAe,UAAa,QAA1F,SAAqGA,IAE5G,OAAO,cAAC,KAAD,gBANP,IAAIA,EAAQ9K,OAASsL,KAAK8a,EAAO,SACjC,OAAO,cAAC,KAAD,UAAMtb,MASnB,CACEoD,SAAS,EACTF,OAAO,EACPha,MAAO,YACPuQ,UAAW,iBACXhQ,MAAO,IACPhF,MAAO,SACPytB,MAAO,QACPpY,OAAQ,SAAC5Z,EAAG6Z,GACV,GAAK7Z,EAAE8tC,iBAMA,GAAI94B,KAAOhV,EAAE8tC,iBAAiBxtB,KAAKtgB,EAAEskC,eAAgB,SAAWtvB,KAAOhV,EAAE8tC,iBAAiBxtB,KAAKzG,EAAEyqB,eAAgB,SACtH,OAAQ,MAPc,CACtB,GAAItvB,OAASsL,KAAKtgB,EAAEskC,eAAgB,SAAWtvB,OAASsL,KAAKzG,EAAEyqB,eAAgB,SAC7E,OAAQ,EACH,GAAItvB,OAASsL,KAAKtgB,EAAEskC,eAAgB,SAAWtvB,OAASsL,KAAKzG,EAAEyqB,eAAgB,SACpF,OAAO,EAKX,OAAItvB,KAAOhV,EAAE8tC,iBAAiBxtB,KAAKtgB,EAAEskC,eAAgB,SAAWtvB,KAAOhV,EAAE8tC,iBAAiBxtB,KAAKzG,EAAEyqB,eAAgB,SACxG,EAEF,GAET5qB,OAAQ,SAAC0hB,EAAOhb,GACd,GAAKA,EAAI0tB,gBAGF,IAAI1S,EAAO,CAChB,IAAItb,EAAQ9K,KAAOoL,EAAI0tB,iBAAiBxtB,KAAK8a,EAAO,SACpD,OAAO,cAAC,KAAD,CAAKzvB,MAAOyU,EAAIu5B,OAAS,OAAS75B,EAAQ,GAAK,UAAqB,KAAVA,EAAe,UAAa,QAAtF,SAAiGA,IAExG,OAAO,cAAC,KAAD,gBANP,IAAIA,EAAQ9K,OAASsL,KAAK8a,EAAO,SACjC,OAAO,cAAC,KAAD,UAAMtb,MASnB,CACEoD,SAAS,EACTF,OAAO,EACPha,MAAO,WACPuQ,UAAW,MACXhQ,MAAO,IACPhF,MAAO,SACPytB,MAAO,QACPtY,OAAQ,SAACvW,EAAIid,GAAL,OACN,gCACE,cAACmkB,GAAA,EAAD,CACE//B,MAAO,CAAEmX,SAAU,SAAU/P,YAAa,SAC1CI,QAAS,kBAAM+V,EAAa5e,MAE9B,cAAC,GAAD,CAAgBid,IAAKA,EAAKqjB,cAAeA,UAM3C2O,EAAkBD,EAAkBt7B,QAAO,SAAApT,GAAC,OAAIA,EAAEyf,WAElDmvB,EAAgBF,EAAkBt7B,QAAO,SAAApT,GAAC,OAAIA,EAAEuf,SAEtD,OAAQjK,GACN,KAAK7B,GACH,OAAOk7B,EACT,KAAKl7B,GACH,OAAOm7B,GClPEuH,OAxGf,YAAkC,IAAR7gC,EAAO,EAAPA,KAAO,EACOhP,mBAAS,IADhB,oBACxBkgC,EADwB,KACXC,EADW,OAEWngC,mBAAS,IAFpB,oBAExBglC,EAFwB,KAETC,EAFS,OAGyBjlC,mBAAS,IAHlC,oBAGxB29B,EAHwB,KAGFC,EAHE,OAIa59B,oBAAS,GAJtB,oBAIxB8kC,EAJwB,KAIRC,EAJQ,OAKe/kC,oBAAS,GALxB,oBAKxBslC,EALwB,KAKPC,EALO,OAMavlC,mBAAS,IANtB,oBAMxB06B,EANwB,KAMRoD,EANQ,OAOe99B,mBAAS,IAPxB,oBAOxB46B,EAPwB,KAOPoD,EAPO,OAQqBh+B,mBAAS,IAR9B,oBAQxB66B,EARwB,KAQJoD,EARI,OASWj+B,mBAAS,IATpB,oBASxB0tC,EATwB,KASTY,EATS,OAUiBtuC,mBAAS,IAV1B,oBAUxBiU,EAVwB,KAUN8zB,EAVM,OAWK/nC,mBAAS,IAXd,oBAWxBk7B,EAXwB,KAWZqD,EAXY,OAYGv+B,mBAAS,IAZZ,oBAYxBi7B,EAZwB,KAYbqD,GAZa,QAaWt+B,oBAAS,GAbpB,sBAaxB21B,GAbwB,MAaTC,GAbS,eAoBhB8D,KApBgB,8EAoB/B,sBAAAzjC,EAAA,6DACE8uC,GAAkB,GAClBnH,EAAwB,IAF1B,SAGQ7E,IAAW,EAAM,CAAEn0B,OAAQkB,GAAgCkJ,SAC9DpY,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACFA,GAAQA,EAAK4F,OAAS,IACxB0jC,EAAetpC,GACfinC,EAAkB3Y,GAAoBtuB,EAAM,aAC5CmnC,EAAmB7Y,GAAoBtuB,EAAM,eAC7ConC,EAAsB9Y,GAAoBtuB,EAAM,kBAChDy3C,EAAiBnpB,GAAoBtuB,EAAM,uBAC3CkxC,EAAoB5iB,GAAoBtuB,EAAM,oBAC9C0nC,EAAcpZ,GAAoBtuB,EAAM,gBACxCynC,GAAanZ,GAAoBtuB,EAAM,mBAExCO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAM+6B,GAAkB,MAfxE,4CApB+B,sBAe/B3qC,qBAAU,WACRs/B,OAEA,IAoBF,IAAMjD,GAAqB,kBAAMb,IAAkBD,KAtCpB,SAwChB2Q,GAxCgB,iFAwC/B,WAA8BC,GAA9B,SAAAtwC,EAAA,6DACEsvC,GAAmB,GADrB,SAEQxM,IAAY,EAAM,CAAEn0B,OAAQkB,GAA0B1M,GAAImtC,IAC7D3vC,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACFA,GAAQA,EAAK4F,OAAS,GACxBwoC,EAAiBpuC,MAElBO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAMu7B,GAAmB,MAPzE,4CAxC+B,sBAkD/B,IAAMrL,GAAa,uCAAG,WAAO9gC,GAAP,SAAAnD,EAAA,6DACpBwgC,KADoB,SAEd6P,GAAeltC,GAFD,2CAAH,sDAKnB,OACE,gCACE,8BACE,cAAC,IAAD,CACEkB,KAAK,UACLma,SAAUqwB,EACV7mC,KAAM6mC,EAAiB,cAACxlB,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAAC6kC,GAAA,EAAD,IAC/CzsC,MAAO,CAAEmQ,aAAc,OAAQ/I,YAAa,SAC5CI,QAASy3B,GALX,0BAQF,cAAC,KAAD,CACExnB,OAAO,MACP2b,aAAc,CACZC,YAAa,GACbC,gBAAiB4P,EACjBjzB,SAAU,SAAChR,GAAD,OAAOkkC,EAAwBlkC,KAE3CyY,QAASw9B,GACP3gC,EACA0rB,EACAE,EACAC,EACA6S,EACAz5B,EACAinB,EACAD,EACAf,GACAR,IAEFh5B,WAAYw/B,EACZ9pC,QAAS0uC,EACTvhC,KAAK,QACLuT,OAAQ,CAAEC,EAAG,QACb3E,WAAY,CACV2W,gBAAiB,GACjBC,gBAAiB,CAAC,GAAG,IAAI,QAI7B,cAACue,GAAD,CAAetnC,QAAS01B,GAAe7f,MAAO2gB,GAAoBrgC,QAASkvC,EAAiB9F,UAAWwF,QC3FrGzxB,GAAYC,KAAZD,Q,ICPAxR,GAASuR,KAATvR,KAEO,SAAS+tC,KAYrB,IAXDpV,EAWA,uDAXe,GACfE,EAUA,uDAVgB,GAChBC,EASA,uDATmB,GACnB3O,EAQA,uDARe,GACfE,EAOA,uDAPa,GACb0C,EAMA,uDANc,GACd7a,EAKA,uDALiB,GACjBinB,EAIA,uDAJW,GACXD,EAGA,uDAHU,GACVjjB,EAEA,uCADA0hB,EACA,yCAEA,MAAO,CACL,CACEz6B,MAAO,IACPO,MAAO,GACPyoB,MAAO,OACPtY,OAAQ,SAACzE,EAAE+K,EAAGnX,GAAN,OAAYA,EAAE,IAExB,CACEG,MAAO,gBACPuQ,UAAW,uBACXhQ,MAAO,IACPyoB,MAAO,OACPtY,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEl7B,MAAO,gBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEl7B,MAAO,WACPuQ,UAAW,kBACXhQ,MAAO,IACPmQ,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEl7B,MAAO,iBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAACwqB,GAAD,OAAS,cAAC,GAAD,CAAMhkB,UAAQ,EAAd,SAAgBgkB,MAEnC,CACEl7B,MAAO,aACPuQ,UAAW,kBACXhV,MAAO,SACPgF,MAAO,IACPsoB,QAAS7T,GAAsC,GAC/C8T,SAAU,SAACznB,EAAE4V,GAAH,OAA0C,IAAjCA,EAAEqlB,gBAAgBvT,QAAQ1nB,KAE/C,CACErB,MAAO,MACPuQ,UAAW,aACXhQ,MAAO,GACPsoB,QAASmT,GAAwB,GACjClT,SAAU,SAACznB,EAAE4V,GAAH,OAAqD,IAA5C5d,OAAO4d,EAAEslB,YAAYxT,QAAQ1vB,OAAOgI,MAEzD,CACErB,MAAO,OACPuQ,UAAW,cACXhQ,MAAO,GACPsoB,QAASoT,GAA0B,GACnCnT,SAAU,SAACznB,EAAE4V,GAAH,OAAsC,IAA7BA,EAAEulB,YAAYzT,QAAQ1nB,KAE3C,CACErB,MAAO,QACPuQ,UAAW,eACXhQ,MAAO,GACPqQ,OAAQ,SAAC5Z,EAAG6Z,GACV,OAAI7Z,EAAEylC,aAAe5rB,EAAE4rB,cACb,EAENzlC,EAAEylC,aAAe5rB,EAAE4rB,aACd,EAEF,IAGX,CACEz8B,MAAO,WACPuQ,UAAW,WACXhQ,MAAO,IACPsoB,QAAS4S,GAAkC,GAC3C3S,SAAU,SAACznB,EAAE4V,GAAH,OAAmC,IAA1BA,EAAE4lB,SAAS9T,QAAQ1nB,KAExC,CACErB,MAAO,aACPuQ,UAAW,aACXhQ,MAAO,IACPhF,MAAO,SACPstB,QAAS8S,GAAoC,GAC7C7S,SAAU,SAACznB,EAAE4V,GAAH,OAAqC,IAA5BA,EAAEnJ,WAAWib,QAAQ1nB,IACxCqP,OAAQ,SAACjW,GAAD,OAAO,cAAC,GAAD,CAAW+U,OAAQ/U,MAEpC,CACEuF,MAAO,gBACPuQ,UAAW,gBACXhQ,MAAO,IACPhF,MAAO,SACPstB,QAAS+S,GAA0C,GACnD9S,SAAU,SAACznB,EAAE4V,GAAH,OAAwC,IAA/BA,EAAE+lB,cAAcjU,QAAQ1nB,IAC3CqP,OAAQ,SAACjW,GAAD,OAAO,cAAC,GAAD,CAAW+U,OAAQ/U,MAEpC,CACEuF,MAAO,WACPuQ,UAAW,WACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEboY,QAASoE,GAAkC,GAC3CnE,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAEnD,cACcrb,IAAfwe,EAAEnD,UAC0B,IAA9BmD,EAAEnD,SAAS9I,IAAI+d,QAAQ1nB,IAKlCqP,OAAQ,SAACzQ,GAAD,OACN,cAAC,KAAD,CAASiB,UAAU,UAAUlB,MAAOC,EAAIA,EAAE/F,OAAO,IAAjD,SACG+F,EAAIA,EAAE/F,OAAO,QAIpB,CACE8F,MAAO,SACPuQ,UAAW,SACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEboY,QAASsE,GAA8B,GACvCrE,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAE3c,YACY7B,IAAbwe,EAAE3c,QACwB,IAA5B2c,EAAE3c,OAAO0Q,IAAI+d,QAAQ1nB,IAKhCqP,OAAQ,SAACqD,GAAD,OACN,cAAC,KAAD,CAAS7S,UAAU,UAAUlB,MAAO+T,EAAIA,EAAE7Z,OAAO,IAAI6Z,EAAEnI,UAAU,IAAjE,SACGmI,EAAIA,EAAE7Z,OAAO,IAAI6Z,EAAEnI,UAAU,QAIpC,CACE5L,MAAO,mBACPuQ,UAAW,UACXhQ,MAAO,IACPiQ,SAAU,CACRC,WAAW,GAEboY,QAASgH,GAAgC,GACzC/G,SAAU,SAACznB,EAAE4V,GACX,MAAU,MAAN5V,GACM4V,EAAEgyB,oBACDhyB,EAAEgyB,mBACmC,IAAvChyB,EAAEgyB,kBAAkBj+B,IAAI+d,QAAQ1nB,IAK3CqP,OAAQ,SAACC,GAAD,OACN,cAAC,KAAD,CAASzP,UAAU,UAAUlB,MAAO2Q,EAAIA,EAAEzW,OAAO,IAAIyW,EAAE/E,UAAU,IAAjE,SACG+E,EAAIA,EAAEzW,OAAO,IAAIyW,EAAE/E,UAAU,QAIpC,CACE5L,MAAO,wBACPuQ,UAAW,qBACXhQ,MAAO,KAET,CACEP,MAAO,2BACPuQ,UAAW,wBACXhQ,MAAO,KAET,CACEP,MAAO,iBACPuQ,UAAW,iBACXhQ,MAAO,IACPmQ,OAAQ,SAAC0hB,GACP,OAAIA,EACKpmB,KAAOomB,GAAOhc,OAAO,kBAErB,MAIb,CACEpW,MAAO,kBACPuQ,UAAW,kBACXhQ,MAAO,IACPmQ,OAAQ,SAAC0hB,GACP,OAAIA,EACKpmB,KAAOomB,GAAOhc,OAAO,kBAErB,MAIb,CACEpW,MAAO,YACPuQ,UAAW,iBACXhQ,MAAO,IACPhF,MAAO,SACPytB,MAAO,QACPpY,OAAQ,SAAC5Z,EAAG6Z,GACV,OAAI7E,KAAOhV,EAAE8tC,iBAAiBxtB,KAAKtgB,EAAEskC,eAAgB,SAAWtvB,KAAOhV,EAAE8tC,iBAAiBxtB,KAAKzG,EAAEyqB,eAAgB,UACvG,EAENtvB,KAAOhV,EAAE8tC,iBAAiBxtB,KAAKtgB,EAAEskC,eAAgB,SAAWtvB,KAAOhV,EAAE8tC,iBAAiBxtB,KAAKzG,EAAEyqB,eAAgB,SACxG,EAEF,GAET5qB,OAAQ,SAAC0hB,EAAOhb,GACd,GAAIgb,EAAO,CACT,IAAItb,EAAQ9K,KAAOoL,EAAI0tB,iBAAiBxtB,KAAK8a,EAAO,SACpD,OAAO,cAAC,KAAD,CAAKzvB,MAAOyU,EAAIkjB,WAAa,WAAaxjB,EAAQ,KAAOM,EAAIkjB,WAAa,UAAqB,KAAVxjB,GAAiBM,EAAIkjB,WAA0B,QAAb,UAAvH,SAA+IxjB,IAEtJ,OAAO,cAAC,KAAD,kBAIb,CACE9W,MAAO,WACPuQ,UAAW,MACXhQ,MAAO,IACPhF,MAAO,SACPytB,MAAO,QACPtY,OAAQ,SAACvW,EAAIid,GAAL,OACN,gCACE,cAACmkB,GAAA,EAAD,CACE//B,MAAO,CAAEmX,SAAU,SAAU/P,YAAa,SAC1CI,QAAS,kBAAM+V,EAAa5e,MAE9B,cAAC,GAAD,CAAgBid,IAAKA,EAAKqjB,cAAeA,UCzIpCqW,OA5Gf,YAAkC,IAAR/gC,EAAO,EAAPA,KAAO,EACOhP,mBAAS,IADhB,oBACxBkgC,EADwB,KACXC,EADW,OAEWngC,mBAAS,IAFpB,oBAExBglC,EAFwB,KAETC,EAFS,OAGyBjlC,mBAAS,IAHlC,oBAGxB29B,EAHwB,KAGFC,EAHE,OAIa59B,oBAAS,GAJtB,oBAIxB8kC,EAJwB,KAIRC,EAJQ,OAKe/kC,oBAAS,GALxB,oBAKxBslC,EALwB,KAKPC,EALO,OAMavlC,mBAAS,IANtB,oBAMxB06B,EANwB,KAMRoD,EANQ,OAOe99B,mBAAS,IAPxB,oBAOxB46B,EAPwB,KAOPoD,EAPO,OAQqBh+B,mBAAS,IAR9B,oBAQxB66B,EARwB,KAQJoD,EARI,OASiBj+B,mBAAS,IAT1B,oBASxBiU,EATwB,KASN8zB,EATM,OAUK/nC,mBAAS,IAVd,oBAUxBk7B,EAVwB,KAUZqD,EAVY,OAWGv+B,mBAAS,IAXZ,oBAWxBi7B,EAXwB,KAWbqD,EAXa,OAYat+B,mBAAS,IAZtB,oBAYxBksB,EAZwB,KAYRC,GAZQ,QAaSnsB,mBAAS,IAblB,sBAaxBosB,GAbwB,MAaVC,GAbU,SAcWrsB,mBAAS,IAdpB,sBAcxB8uB,GAdwB,MAcTC,GAdS,SAeW/uB,oBAAS,GAfpB,sBAexB21B,GAfwB,MAeTC,GAfS,eAsBhB8D,KAtBgB,8EAsB/B,sBAAAzjC,EAAA,6DACE8uC,GAAkB,GAClBnH,EAAwB,IAF1B,SAGQ7E,IAAW,EAAM,CAAEn0B,OAAQkB,GAA0BkJ,SACxDpY,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACFA,GAAQA,EAAK4F,OAAS,IACxB0jC,EAAetpC,GACfinC,EAAkB3Y,GAAoBtuB,EAAM,aAC5CmnC,EAAmB7Y,GAAoBtuB,EAAM,eAC7ConC,EAAuB9Y,GAAoBtuB,EAAM,kBACjDkxC,EAAoB5iB,GAAoBtuB,EAAM,oBAC9C0nC,EAAcpZ,GAAoBtuB,EAAM,gBACxCynC,EAAanZ,GAAoBtuB,EAAM,eACvCs1B,GAAkBrH,GAAgBjuB,EAAM,aACxCw1B,GAAgBvH,GAAgBjuB,EAAM,WACtCk4B,GAAiBjK,GAAgBjuB,EAAM,gBAExCO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAM+6B,GAAkB,MAjBxE,4CAtB+B,sBAiB/B3qC,qBAAU,WACRs/B,OAEA,IAsBF,IAAMjD,GAAqB,kBAAMb,IAAkBD,KA1CpB,SA4ChB2Q,GA5CgB,iFA4C/B,WAA8BC,GAA9B,SAAAtwC,EAAA,6DACEsvC,GAAmB,GADrB,SAEQxM,IAAY,EAAM,CAAEn0B,OAAQkB,GAA0B1M,GAAImtC,IAC7D3vC,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACFA,GAAQA,EAAK4F,OAAS,GACxBwoC,EAAiBpuC,MAElBO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAAM2S,SAAQ,kBAAMu7B,GAAmB,MAPzE,4CA5C+B,sBAsD/B,IAAMrL,GAAa,uCAAG,WAAO9gC,GAAP,SAAAnD,EAAA,6DACpBwgC,KADoB,SAEd6P,GAAeltC,GAFD,2CAAH,sDAKnB,OACE,gCACE,8BACE,cAAC,IAAD,CACEkB,KAAK,UACL2D,KAAM6mC,EAAiB,cAACxlB,GAAA,EAAD,CAAiBjd,MAAI,IAAG,cAAC6kC,GAAA,EAAD,IAC/CzsC,MAAO,CAAEmQ,aAAc,OAAQ/I,YAAa,SAC5CI,QAASy3B,GAJX,0BAOF,cAAC,KAAD,CACExnB,OAAO,MACP2b,aAAc,CACZC,YAAa,GACbC,gBAAiB4P,EACjBjzB,SAAU,SAAChR,GAAD,OAAOkkC,EAAwBlkC,KAE3CyY,QAAS29B,GACPpV,EACAE,EACAC,EACA3O,EACAE,GACA0C,GACA7a,EACAinB,EACAD,EACAf,GACAR,IAEFh5B,WAAYw/B,EACZ9pC,QAAS0uC,EACTvhC,KAAK,QACLuT,OAAQ,CAAEC,EAAG,QACb3E,WAAY,CACV2W,gBAAiB,GACjBC,gBAAiB,CAAC,GAAG,IAAI,QAI7B,cAACue,GAAD,CAAetnC,QAAS01B,GAAe7f,MAAO2gB,GAAoBrgC,QAASkvC,EAAiB9F,UAAWwF,QC7FrGzxB,GAAYC,KAAZD,QCXR,IAuBepe,GAvBD,CACZ,CACE8T,KAAMkY,EACNhY,OAAO,EACPC,UJOW,WAA+B,IAAD,EACCpJ,mBAAS,IADV,oBACpCwb,EADoC,KACpBC,EADoB,OAEDzb,mBAAS,IAFR,oBAEpCo3B,EAFoC,KAErBC,EAFqB,OAGDr3B,mBAAS,IAHR,oBAGpCwuB,EAHoC,KAGrBC,EAHqB,iDAW3C,sBAAAx4B,EAAA,sEACQquB,IAAa,EAAOve,GAAQW,yBAC/B9P,MAAK,gBAAEC,EAAF,EAAEA,KAAF,OAAY4kB,EAAkB5kB,GAAc,OACjDO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAHhC,4CAX2C,kEAiB3C,sBAAApB,EAAA,sEACQ0O,IAAa,EAAO,CAAEC,OAAQmB,GAAQkB,4BACzCrQ,MAAK,gBAAEC,EAAF,EAAEA,KAAF,OAAYwgC,EAAiBxgC,GAAc,OAChDO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAHhC,4CAjB2C,kEAuB3C,sBAAApB,EAAA,sEACQ0O,IAAa,EAAO,CAAEC,OAAQmB,GAAQmB,4BACzCtQ,MAAK,gBAAEC,EAAF,EAAEA,KAAF,OAAY43B,EAAiB53B,GAAc,OAChDO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAHhC,4CAvB2C,sBA6B3C,OAxBA+C,qBAAU,YALiC,mCAMzCowB,GANyC,mCAOzCqN,GAPyC,mCAQzCxI,KACA,IAqBA,gCACE,cAAC1E,GAAD,CAAe7sB,OAAO,0BAA0B2G,UAAU,cACxD,cAACT,GAAD,UACE,eAAC,KAAD,CAAMvJ,MAAO,CAACia,YAAa,QAASC,UAAU,EAA9C,UACE,cAAC,GAAD,CACEC,IACE,iCACE,cAACo7B,GAAA,EAAD,IADF,wBAFJ,SASE,8BACE,cAAC,GAAD,CACEnE,UAAW1+B,GACX7H,SAAUkpB,OALV,KASN,cAAC,GAAD,CACE5Z,IACE,iCACE,cAAC6zB,GAAA,EAAD,IADF,wBAFJ,SASE,cAAC,GAAD,CACE31B,UAAW0I,EACX9M,SAAU0oB,EACV9xB,SAAUkpB,EACVxf,KAAM7B,MANJ,KASN,cAAC,GAAD,CACEyH,IACE,iCACE,cAAC3H,GAAA,EAAD,IADF,wBAFJ,SASE,cAAC,GAAD,CAAmB+B,KAAM7B,MAFrB,KAIN,cAAC,GAAD,CACEyH,IACE,iCACE,cAACq7B,GAAA,EAAD,IADF,oBAFJ,SASE,cAAC,GAAD,CAAiBjhC,KAAM7B,MAFnB,KAIN,cAAC,GAAD,CACEyH,IACE,iCACE,cAACpW,GAAA,EAAD,IADF,sBAKE,eIpGhB,CACEyK,KAAMkY,EACNhY,OAAO,EACPC,UDIW,WAA6B,IAAD,EACGpJ,mBAAS,IADZ,oBAClCwb,EADkC,KAClBC,EADkB,OAECzb,mBAAS,IAFV,oBAElCo3B,EAFkC,KAEnBC,EAFmB,OAGCr3B,mBAAS,IAHV,oBAGlCwuB,EAHkC,KAGnBC,EAHmB,iDAWzC,sBAAAx4B,EAAA,sEACQquB,IAAa,EAAOve,GAAQW,yBAC/B9P,MAAK,gBAAEC,EAAF,EAAEA,KAAF,OAAY4kB,EAAkB5kB,GAAc,OACjDO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAHhC,4CAXyC,kEAiBzC,sBAAApB,EAAA,sEACQ0O,IAAa,EAAO,CAAEC,OAAQmB,GAAQkB,4BACzCrQ,MAAK,gBAAEC,EAAF,EAAEA,KAAF,OAAYwgC,EAAiBxgC,GAAc,OAChDO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAHhC,4CAjByC,kEAuBzC,sBAAApB,EAAA,sEACQ0O,IAAa,EAAO,CAAEC,OAAQmB,GAAQmB,4BACzCtQ,MAAK,gBAAEC,EAAF,EAAEA,KAAF,OAAY43B,EAAiB53B,GAAc,OAChDO,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAHhC,4CAvByC,sBA6BzC,OAxBA+C,qBAAU,YAL+B,mCAMvCowB,GANuC,mCAOvCqN,GAPuC,mCAQvCxI,KACA,IAqBA,gCACE,cAAC1E,GAAD,CAAe7sB,OAAO,wBAAwB2G,UAAU,cACtD,cAACT,GAAD,UACE,eAAC,KAAD,CAAMvJ,MAAO,CAACia,YAAa,QAASC,UAAU,EAA9C,UACE,cAAC,GAAD,CACEC,IACE,iCACE,cAACo7B,GAAA,EAAD,IADF,wBAFJ,SASE,cAAC,GAAD,CACEnE,UAAW1+B,GACX7H,SAAUkpB,KAJR,KAON,cAAC,GAAD,CACE5Z,IACE,iCACE,cAAC6zB,GAAA,EAAD,IADF,wBAFJ,SASE,cAAC,GAAD,CACE31B,UAAW0I,EACX9M,SAAU0oB,EACV9xB,SAAUkpB,EACVxf,KAAM7B,MANJ,KASN,cAAC,GAAD,CACEyH,IACE,iCACE,cAAC3H,GAAA,EAAD,IADF,wBAFJ,SASE,cAAC,GAAD,CAAmB+B,KAAM7B,MAFrB,KAIN,cAAC,GAAD,CACEyH,IACE,iCACE,cAAC2O,GAAA,EAAD,IADF,sBAFJ,SASE,cAAC,GAAD,CAAiBvU,KAAM7B,MAFnB,KAIN,cAAC,GAAD,CACEyH,IACE,iCACE,cAACq7B,GAAA,EAAD,IADF,oBAFJ,SASE,cAAC,GAAD,CAAiBjhC,KAAM7B,MAFnB,KAIN,cAAC,GAAD,CACEyH,IACE,iCACE,cAACpW,GAAA,EAAD,IADF,sBAKE,eC1GhB,CACEyK,KAAMkY,EACNhY,OAAO,EACPC,UClBW,WACb,OACE,wDDkBF,CACEH,KAAMkY,EACNhY,OAAO,EACPC,UEvBW,WACb,OACE,wDCMW8mC,GANK,uBACfhnC,IADe,aAEfinC,IAFe,aAGfC,KCOUC,GARG,uBACbC,IADa,aAEbC,IAFa,aAGbC,IAHa,aAIbC,IAJa,aAKbC,K,oBCJU,SAASC,KAEtB,OACE,cAAC3sC,GAAD,UACE,cAAC,KAAD,CACE3L,OAAO,MACP4G,MAAM,MACN2xC,SAAS,oEACTC,MAAO,cAAC,IAAD,CAAQv2C,KAAK,UAAU2H,QAAS,kBAAMvE,OAAOjF,SAASkF,SAAWxI,GAAjE,wBCWA27C,OAnBf,YAAgE,IAA7BpuC,EAA4B,EAAvC0G,UAAsBH,EAAiB,EAAjBA,KAAS8nC,EAAQ,qCACrDv0C,EAAUkC,qBAAWxC,IAArBM,MAER,OAAIyM,GAAQzM,GAASA,EAAMC,OAAS,EAC/BD,EAAMwC,SAASiK,GACR,cAAC,IAAD,yBAAOA,KAAMA,GAAU8nC,GAAvB,IAA6BphC,OAAQ,SAAA9S,GAAK,OAAK,cAAC6F,EAAD,eAAe7F,QAE9D,cAAC,IAAD,yBAAOoM,KAAMA,GAAU8nC,GAAvB,IAA6BphC,OAAQ,kBAAO,cAACghC,GAAD,QAG/C,MCFI,SAASK,KACtB,OACE,cAAC,IAAD,CAAgBrwC,OAAQswC,IAAxB,SACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO9nC,OAAK,EAACF,KAAK,IAAIG,UAAWhU,IACjC,cAAC,IAAD,CAAO+T,OAAK,EAACF,KAAM9T,EAAaiU,UAAWtP,KAC3C,cAAC,GAAD,UACE,cAAC,GAAD,UACCyK,GAAO7H,KAAI,SAACw0C,EAAO/R,GAAR,OACR,cAAC,GAAD,CAEEl2B,KAAMioC,EAAMjoC,KACZE,MAAO+nC,EAAM/nC,MACbC,UACE,SAAAvM,GAAK,OAAK,cAACq0C,EAAM9nC,UAAP,eAAqBvM,MAJ5BsiC,iBCdvB,IAAMgS,GAAcC,QACW,cAA7B1zC,OAAOjF,SAAS44C,UAEe,UAA7B3zC,OAAOjF,SAAS44C,UAEhB3zC,OAAOjF,SAAS44C,SAASC,MAAM,2DAwCnC,SAASC,GAAgBC,EAAOx7C,GAC9By7C,UAAUC,cACPC,SAASH,GACT56C,MAAK,SAACg7C,GACLA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBz1C,QACfo1C,UAAUC,cAAcO,YAI1B16C,QAAQC,IACN,+GAIFo6C,EAAaM,SAGTl8C,GAAUA,EAAOm8C,UACnBn8C,EAAOm8C,SAASP,KAMlBr6C,QAAQC,IAAI,sCAGRxB,GAAUA,EAAOo8C,WACnBp8C,EAAOo8C,UAAUR,WAO5Bx6C,OAAM,SAACF,GACNK,QAAQL,MAAM,4CAA6CA,MC7FjEm7C,IAAS1iC,OAEL,cAAC,GAAD,IAEAnX,SAAS85C,eAAe,SDUrB,SAAkBt8C,GAIvB,GAHAuB,QAAQC,KAAI+6C,GACZh7C,QAAQC,IAAI,kBAAmBi6C,WAC/Bl6C,QAAQC,IAAI25C,IACiC,kBAAmBM,UAAW,CAGzE,GADkB,IAAIe,IAAID,GAAwB70C,OAAOjF,SAASpD,MACpDo9C,SAAW/0C,OAAOjF,SAASg6C,OAIvC,OAGF/0C,OAAOg1C,iBAAiB,QAAQ,WAC9B,IAAMlB,EAAK,UAAMe,GAAN,sBAEPpB,KAkEV,SAAiCK,EAAOx7C,GAEtC28C,MAAMnB,EAAO,CACXv5C,QAAS,CAAE,iBAAkB,YAE5BrB,MAAK,SAACU,GAEL,IAAMs7C,EAAct7C,EAASW,QAAQG,IAAI,gBAEnB,MAApBd,EAASe,QACO,MAAfu6C,IAA8D,IAAvCA,EAAY5qB,QAAQ,cAG5CypB,UAAUC,cAAcmB,MAAMj8C,MAAK,SAACg7C,GAClCA,EAAakB,aAAal8C,MAAK,WAC7B8G,OAAOjF,SAASs6C,eAKpBxB,GAAgBC,EAAOx7C,MAG1BoB,OAAM,WACLG,QAAQC,IAAI,oEAxFVw7C,CAAwBxB,EAAOx7C,GAI/By7C,UAAUC,cAAcmB,MAAMj8C,MAAK,WACjCW,QAAQC,IACN,+GAMJ+5C,GAAgBC,EAAOx7C,OCnC/Bi9C,K","file":"static/js/main.1a0c65f6.chunk.js","sourcesContent":["export const rutas = {\r\n  login: \"/login\",\r\n  perfilUsuario: \"/perfil-usuario\",\r\n  //DASHBOARD --------------------------------------------------------------------------------------\r\n  resumenGeneral: \"/dashboard/resumen-general\",\r\n  //SISTEMAS ---------------------------------------------------------------------------------------\r\n  areas: \"/sistemas/configuracion-empleados/areas\",\r\n  cargos: \"/sistemas/configuracion-empleados/cargos\",\r\n  tipoEmpleados: \"/sistemas/configuracion-empleados/tipo-empleados\",\r\n  vistas: \"/sistemas/configuracion-empleados/vistas\", \r\n  zonas: \"/sistemas/configuracion-empleados/zonas\",\r\n  //RECURSOS HUMANOS -------------------------------------------------------------------------------\r\n  listaPersonal: \"/rrhh/lista-personal\",\r\n  listaContratas: \"/rrhh/lista-contratas\",\r\n  //INSTALACIONES Y MANTENIMIENTO ------------------------------------------------------------------\r\n  asignarRutas: \"/i+m/lista-rutas/asignar-rutas\",\r\n  listaAsistencia: \"/i+m/lista-rutas/asistencias\",\r\n  adminAveriasHfc: \"/i+m/administrar-ordenes/averias-hfc\",\r\n  adminAltasHfc: \"/i+m/administrar-ordenes/altas-hfc\",\r\n  adminBasicas: \"/i+m/administrar-ordenes/basicas\",\r\n  adminSpeedy: \"/i+m/administrar-ordenes/speedy\",\r\n  gestionarAsistencia: \"/i+m/asistencias\",\r\n  gestionarListaOrdenes: \"/i+m/gestionar-ordenes/lista-ordenes\",\r\n  gestionarLiquidarOrdenes: \"/i+m/gestionar-ordenes/liquidar-ordenes\",\r\n};","import React from 'react';\r\nimport { rutas } from '../constants/listaRutas'\r\n\r\nexport default function Index() {\r\n  return (\r\n    <div>\r\n      <a href={rutas.login}>login</a>\r\n    </div>\r\n  )\r\n}","const variables = {\r\n  // 192.168.100.90\r\n  //https://atenea-v2.herokuapp.com/\r\n  urlApi: 'http://23.96.3.164/api',\r\n  public: 'http://23.96.3.164/',\r\n  socket: 'http://localhost/',\r\n  TOKEN_STORAGE_KEY: 'atenea.authToken',\r\n  logoPath: '/icon.png',\r\n  logoFull: '/iconL.png',\r\n  version: '0.0.31',\r\n  formatosAdmitidos: ['application/vnd.ms-excel', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'],\r\n};\r\n\r\nexport default variables;","// eslint-disable-next-line no-unused-vars\r\nimport axios, { AxiosRequestConfig } from 'axios';\r\nimport Cookie from \"js-cookie\";\r\nimport cogoToast from 'cogo-toast';\r\n//objeto con variables del sistema (direccion url de la api)\r\nimport variables from '../constants/config';\r\n\r\n/**\r\n * @param {AxiosRequestConfig} config - Objeto con las variables de configuracion de axios\r\n*/\r\nexport const restAuth = async (config) => {\r\n  //iniciar toast de loading\r\n  const closeLoading = cogoToast.loading('Iniciando sesión...', {\r\n    hideAfter: 0, position: 'top-right', role: \"success\"\r\n  });\r\n  //inicializar objeto para realiuzar la consulta (axios)\r\n  const newAxiosRequest = axios.create({\r\n    baseURL: variables.urlApi\r\n  });\r\n  //retorna la peticion, y se extrae la propiedad \"data\"\r\n  return await newAxiosRequest(({...config})).then(({data}) => {\r\n    //una vez que se obtiene la respuesta se debe \r\n    //cerrar el toast de loading\r\n    closeLoading.hide();\r\n    //si se encuentra la data enviarla al fron\r\n    if (data && data.data) {\r\n      cogoToast.success(data.message, { position: 'top-right' })\r\n      return ({data: data.data, errors: false});\r\n    } else {\r\n    //error que salta al no poder obtener la data del data\r\n      cogoToast.error('No se puede obtener la data' ,{ position: 'top-right'})\r\n      throw Error(\"No se puede obtener la data\");\r\n    }\r\n  }).catch(err => {\r\n    //en caso de error cerrar el loading\r\n    closeLoading.hide();\r\n    //enviar un mensaje en escenario posible dependiendo del error\r\n    if (err.response) {\r\n      //mostrar el error por consola\r\n      console.log(err.response);\r\n      //guardar la informacion del error en un avariables\r\n      const errData = (err.response.data);\r\n      //mostrar como mensaje el primero error que muestre\r\n      const message = errData[Object.keys(errData)[0]] !== undefined ? \r\n        errData[Object.keys(errData)[0]] \r\n        : 'Error en la solicitud.';\r\n      //enviar un aviso con el mensaje de error\r\n      cogoToast.warn( message, { position: 'top-right' });\r\n      //retornar le data vacia\r\n      return {\r\n        data: false, \r\n        errors: errData\r\n      }\r\n    } else if (err.request) {\r\n      console.log(err.request);\r\n      cogoToast.warn(\"Se realizó la solicitud, pero no se recibió respuesta.\",\r\n      { position: 'top-right'})\r\n      throw err\r\n    } else {\r\n      cogoToast.error('Algo sucedió al configurar la solicitud que provocó un error.',\r\n      { position: 'top-right'})\r\n      throw err\r\n    }\r\n  })\r\n};\r\n\r\n/**\r\n * @param {AxiosRequestConfig} config\r\n * @param {boolean} toast false si no se quiere mostrar el toast\r\n*/\r\nexport const restPrivate = async (config, toast) => {\r\n  let closeLoading;\r\n  if (toast) {\r\n    closeLoading = cogoToast.loading('Cargando...', {\r\n      hideAfter: 0, position: 'top-right', role: \"success\"\r\n    });\r\n  }\r\n\r\n  const newAxiosRequest = axios.create({\r\n    baseURL: variables.urlApi,\r\n    headers: {\r\n      Authorization: 'Bearer ' + Cookie.get(variables.TOKEN_STORAGE_KEY)\r\n    }\r\n  });\r\n\r\n  return await newAxiosRequest(({...config})).then(({data}) => {\r\n    if (toast) {\r\n      closeLoading.hide();\r\n      cogoToast[data.status ? data.status : 'error'](data.message, { position: 'top-right' })\r\n    }\r\n    return (data);\r\n  }).catch(err => {\r\n    if (toast) closeLoading.hide();\r\n    if (err.response) {\r\n      const errData = err.response.data;\r\n      if (String(err.response.status) === \"401\") {\r\n        cogoToast.error('Token Invalido, cerrando sesión.',\r\n        { position: 'top-right'});\r\n        Cookie.remove(variables.TOKEN_STORAGE_KEY);\r\n        document.location.href=\"/login\";\r\n      } else {\r\n        cogoToast.warn( errData.message !== 'undefined' ? errData.message : 'Error en la solicitud.',\r\n        { position: 'top-right'})\r\n      }\r\n      return {\r\n        data: null, \r\n        errors: errData\r\n      }\r\n    } else if (err.request) {\r\n      console.log(err.request);\r\n      cogoToast.warn(\"Se realizó la solicitud, pero no se recibió respuesta.\",\r\n      { position: 'top-right'})\r\n      throw err\r\n    } else {\r\n      cogoToast.error('Algo sucedió al configurar la solicitud que provocó un error.',\r\n      { position: 'top-right'})\r\n      throw err\r\n    }\r\n  })\r\n};","import { restAuth, restPrivate } from './requestHelper';\r\n\r\nexport const login = async (data) => restAuth({\r\n  url: 'private/auth/login', method: 'POST', data\r\n});\r\n/**\r\n * @param {boolean} toast false si debe buscar sin mostrar avisos\r\n */\r\nexport const session = async (toast) => restPrivate({\r\n  url: 'private/auth/session', method: 'GET'\r\n}, toast);\r\n/**\r\n * @param {boolean} toast \r\n */\r\nexport const logout = async (toast=true) => restPrivate({\r\n  url: 'private/auth/logout', method: 'GET'\r\n}, toast);\r\n","import jwtDecode from \"jwt-decode\";\r\n\r\nexport class AuthToken {\r\n  constructor(token) {\r\n    this.decodedToken = { \r\n      nombre: null,\r\n      id: null,\r\n      cargo: null,\r\n      imagen: null,\r\n      gestor: null, \r\n      exp: 0 \r\n    };\r\n    \r\n    try {\r\n      if (token) this.decodedToken = jwtDecode(token);\r\n    } catch (e) {\r\n      console.log('Error');\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  get isValid() {\r\n    return !this.isExpired;\r\n  }\r\n\r\n  get expiresAt() {\r\n    return new Date(this.decodedToken.exp * 1000);\r\n  }\r\n\r\n  get isExpired() {\r\n    return new Date() > this.expiresAt;\r\n  }\r\n\r\n  get authorizationString() {\r\n    return `Bearer ${this.token}`;\r\n  }\r\n};","import React, { useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Cookie from \"js-cookie\";\r\nimport { Col, Row, Form, Input, Button } from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons'\r\n\r\nimport { login } from '../services/apiUsuario';\r\nimport variables from '../constants/config';\r\nimport { rutas } from '../constants/listaRutas';\r\nimport { AuthToken } from '../services/authToken';\r\n\r\nexport default function Login() {\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const auth = new AuthToken(Cookie.get(variables.TOKEN_STORAGE_KEY));\r\n    if (auth.isValid) {\r\n      history.push(rutas.resumenGeneral);\r\n    };\r\n  },[history]);\r\n\r\n  async function enviarFormulario(values) {\r\n    await login(values).then((data) => {\r\n      if (data.data && !data.errors) {\r\n        Cookie.set(variables.TOKEN_STORAGE_KEY, data.data);\r\n        history.push(rutas.resumenGeneral);\r\n      }\r\n    }).catch((error) => {\r\n      console.log('error');\r\n      console.log(error);\r\n    })\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Row type=\"flex\" justify=\"space-around\" align=\"middle\" style={{backgroundColor: 'rgb(242, 242, 247)', height: '100vh'}}>\r\n        <Col xs={20} sm={12} md={8} lg={6} xl={5}>\r\n          <div className=\"contenedor-padre\">\r\n            <Form\r\n              name=\"normal_login\"\r\n              className=\"login-form\"\r\n              initialValues={{remember: true}}\r\n              onFinish={enviarFormulario}\r\n            >\r\n              <div className=\"logoForm\"/>\r\n              <Form.Item\r\n                name=\"username\"\r\n                hasFeedback\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: '¡Se necesita una correo!'\r\n                  },\r\n                  {\r\n                    type: 'email',\r\n                    message: '¡Ingresa un email válido!'\r\n                  }\r\n                ]}\r\n              >\r\n                <Input\r\n                  autoComplete=\"current-email\"\r\n                  type=\"email\"\r\n                  prefix={<UserOutlined className=\"site-form-item-icon\" />} \r\n                  placeholder=\"Correo\" />\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"password\"\r\n                hasFeedback\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: '¡Se necesita una contraseña válida!',\r\n                  },\r\n                  {\r\n                    min: 6,\r\n                    message: '¡La contraseña debe tener mas de 6 carácteres!',\r\n                  }\r\n                ]}\r\n              >\r\n                <Input.Password\r\n                  autoComplete=\"current-password\"\r\n                  prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                  type=\"password\"\r\n                  placeholder=\"Contraseña\"\r\n                />\r\n              </Form.Item>\r\n              <Form.Item>\r\n                <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                  Acceder\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}","import { createContext } from \"react\";\r\n\r\nconst UserContext = createContext();\r\n\r\nexport default UserContext;","export const GET_VIEWS = \"GET_VIEWS\";","import { GET_VIEWS } from \"../types\";\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state, action) => {\r\n  const { payload, type } = action;\r\n\r\n  switch (type) {\r\n    case GET_VIEWS:\r\n      return {\r\n        ...state,\r\n        views: payload && payload.length > 0 ? payload.map((e) => e.ruta) : [],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};","  \r\nimport React, { useReducer } from \"react\";\r\n\r\nimport UserContext from \"./UserContext\";\r\nimport UserReducer from \"./UserReducer\";\r\n\r\nimport { GET_VIEWS } from \"../types\";\r\n\r\nconst UserState = (props) => {\r\n  const initialState = {\r\n    views: []\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(UserReducer, initialState);\r\n\r\n  const getViews = async (views) => {\r\n    try {\r\n      dispatch({ type: GET_VIEWS, payload: views });\r\n    } catch (error) {}\r\n  };\r\n\r\n  return (\r\n    <UserContext.Provider\r\n      value={{\r\n        views: state.views,\r\n        getViews\r\n      }}\r\n    >\r\n      {props.children}\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n\r\nexport default UserState;","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  DashboardOutlined,\r\n  ScheduleOutlined,\r\n  TeamOutlined,\r\n  IdcardOutlined,\r\n  CarryOutOutlined,\r\n  FileSearchOutlined,\r\n  CoffeeOutlined,\r\n  // HistoryOutlined,\r\n  // GroupOutlined,\r\n  // ExportOutlined,\r\n  // ImportOutlined,\r\n  // CloudServerOutlined,\r\n  // GoldOutlined,\r\n  // SlidersOutlined,\r\n  // TableOutlined,\r\n  // SearchOutlined,\r\n  // FieldTimeOutlined,\r\n  // ShopOutlined,\r\n  // BarChartOutlined\r\n} from '@ant-design/icons';\r\nimport { Menu } from 'antd';\r\n\r\nimport { rutas } from '../../../constants/listaRutas';\r\nimport UserContext from '../../../context/User/UserContext';\r\n\r\nconst { SubMenu, Item, Divider, ItemGroup } = Menu;\r\n\r\nconst getPath = () => {return String(window.location.pathname).substring(1)};\r\n\r\nconst items = [\r\n  {\r\n    titulo: \"Panel de Control\",\r\n    rutas: [rutas.resumenGeneral],\r\n    children: [\r\n      {\r\n        grupo: true,\r\n        key: 'sub100',\r\n        icon: DashboardOutlined,\r\n        titulo: 'Dashboard',\r\n        rutas: [rutas.resumenGeneral],\r\n        children: [\r\n          {\r\n            ruta: rutas.resumenGeneral,\r\n            icon: DashboardOutlined,\r\n            titulo: 'Resumen General'\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    titulo: \"Configuracion del Sistema\",\r\n    rutas: [rutas.areas,rutas.cargos,rutas.tipoEmpleados,rutas.vistas,rutas.zonas],\r\n    children: [\r\n      {\r\n        grupo: true,\r\n        key: rutas.areas,\r\n        icon: CoffeeOutlined,\r\n        titulo: \"Configuracion Empleados\",\r\n        rutas: [rutas.areas,rutas.cargos,rutas.tipoEmpleados,rutas.vistas,rutas.zonas],\r\n        children: [\r\n          {\r\n            ruta: rutas.areas,\r\n            icon: CoffeeOutlined,\r\n            titulo: 'Areas'\r\n          },\r\n          {\r\n            ruta: rutas.cargos,\r\n            icon: CoffeeOutlined,\r\n            titulo: 'Cargos'\r\n          },\r\n          {\r\n            ruta: rutas.tipoEmpleados,\r\n            icon: CoffeeOutlined,\r\n            titulo: 'Tipo Empleados'\r\n          },\r\n          {\r\n            ruta: rutas.vistas,\r\n            icon: CoffeeOutlined,\r\n            titulo: 'Vistas'\r\n          },\r\n          {\r\n            ruta: rutas.zonas,\r\n            icon: CoffeeOutlined,\r\n            titulo: 'Zonas'\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    titulo: \"Rescursos Humanos\",\r\n    rutas: [rutas.listaPersonal, rutas.listaContratas],\r\n    children: [\r\n      {\r\n        grupo: false,\r\n        ruta: rutas.listaPersonal,\r\n        icon: TeamOutlined,\r\n        titulo: 'Lista de Personal'\r\n      },\r\n      {\r\n        grupo: false,\r\n        ruta: rutas.listaContratas,\r\n        icon: IdcardOutlined,\r\n        titulo: 'Lista de Contratas'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    titulo: 'Instalaciones y Mantenimiento',\r\n    rutas: [\r\n      rutas.asignarRutas,\r\n      rutas.listaAsistencia,\r\n      rutas.gestionarAsistencia,\r\n      rutas.adminAveriasHfc,\r\n      rutas.adminAltasHfc,\r\n      rutas.adminBasicas,\r\n      rutas.adminSpeedy,\r\n      rutas.gestionarListaOrdenes,\r\n      rutas.gestionarLiquidarOrdenes\r\n    ],\r\n    children: [\r\n      {\r\n        grupo: true,\r\n        key: 'listaRutas',\r\n        icon: CarryOutOutlined,\r\n        titulo: 'Lista Rutas',\r\n        rutas: [rutas.asignarRutas, rutas.listaAsistencia],\r\n        children: [\r\n          {\r\n            ruta: rutas.asignarRutas,\r\n            icon: CarryOutOutlined,\r\n            titulo: 'Asignar Rutas'\r\n          },\r\n          {\r\n            ruta: rutas.listaAsistencia,\r\n            icon: CarryOutOutlined,\r\n            titulo: 'Asistencias'\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        grupo: false,\r\n        ruta: rutas.gestionarAsistencia,\r\n        icon: CarryOutOutlined,\r\n        titulo: 'Asistencia'\r\n      },\r\n      {\r\n        grupo: true,\r\n        key: 'Administrar ordenes',\r\n        icon: FileSearchOutlined,\r\n        titulo: 'Administrar ordenes',\r\n        rutas: [rutas.adminAveriasHfc,rutas.adminAltasHfc,rutas.adminBasicas,rutas.adminSpeedy],\r\n        children: [\r\n          {\r\n            ruta: rutas.adminAveriasHfc,\r\n            icon: FileSearchOutlined,\r\n            titulo: 'Averias Hfc'\r\n          },\r\n          {\r\n            ruta: rutas.adminAltasHfc,\r\n            icon: FileSearchOutlined,\r\n            titulo: 'Altas Hfc'\r\n          },\r\n          {\r\n            ruta: rutas.adminBasicas,\r\n            icon: FileSearchOutlined,\r\n            titulo: 'Basicas'\r\n          },\r\n          {\r\n            ruta: rutas.adminSpeedy,\r\n            icon: FileSearchOutlined,\r\n            titulo: 'Speedy'\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        grupo: true,\r\n        key: 'sub97',\r\n        icon: ScheduleOutlined,\r\n        titulo: 'Gestionar ordenes',\r\n        rutas: [rutas.gestionarListaOrdenes,rutas.gestionarLiquidarOrdenes],\r\n        children: [\r\n          {\r\n            ruta: rutas.gestionarListaOrdenes,\r\n            icon: ScheduleOutlined,\r\n            titulo: 'Lista de Ordenes'\r\n          },\r\n          {\r\n            ruta: rutas.gestionarLiquidarOrdenes,\r\n            icon: ScheduleOutlined,\r\n            titulo: 'Liquidar Orden'\r\n          },\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n// eslint-disable-next-line\r\nfunction MenuUsuario() {\r\n  const { views } = useContext(UserContext);\r\n\r\n  if (!views) {\r\n    return (\r\n      <Menu theme=\"light\" mode=\"inline\" defaultSelectedKeys={getPath()}>\r\n        <ItemGroup title='Panel de Control'>\r\n          <Divider/>\r\n          <Item key=\"dashboard\">\r\n            <Link to={rutas.resumenGeneral}>\r\n            <DashboardOutlined />\r\n            <span>Dashboard</span>\r\n            </Link>\r\n          </Item>\r\n        </ItemGroup>\r\n      </Menu>\r\n    )\r\n  } else {\r\n    return (\r\n      <Menu theme=\"light\" mode=\"inline\" defaultSelectedKeys={getPath()}>\r\n      {\r\n        items.map((e,i) =>(\r\n          e.rutas && e.rutas.some((e) => views.includes(e)) ?\r\n          (<ItemGroup title={e.titulo} key={i}>\r\n            <Divider/>\r\n            {e.children.map((c) => (\r\n                !c.grupo && views.includes(c.ruta) ?\r\n                (<Item key={String(c.ruta).substring(1)}>\r\n                  <Link to={c.ruta}>\r\n                    <c.icon/>\r\n                    <span>{c.titulo}</span>\r\n                  </Link>\r\n                </Item>)\r\n                :\r\n                c.grupo && c.rutas && c.rutas.some((e) => views.includes(e)) ?\r\n                (<SubMenu \r\n                  key={c.key}\r\n                  title={\r\n                    <span>\r\n                      <c.icon/>\r\n                      <span>{c.titulo}</span>\r\n                    </span>\r\n                  }\r\n                >\r\n                  {c.children.map((sub) => {\r\n                    if (views.includes(sub.ruta)) {\r\n                      return (<Item key={String(sub.ruta).substring(1)}>\r\n                        <Link to={sub.ruta}>\r\n                          <sub.icon/>\r\n                          <span>{sub.titulo}</span>\r\n                        </Link>\r\n                      </Item>)\r\n                    } else {\r\n                      return null;\r\n                    }\r\n                  })}\r\n                </SubMenu>):null\r\n            ))}\r\n          </ItemGroup>):null  \r\n        ))\r\n      }\r\n      </Menu>\r\n    )\r\n  };\r\n};\r\n\r\nexport default MenuUsuario;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Layout } from 'antd';\r\n\r\nimport MenuUsuario from './MenuUsuario';\r\nimport config from '../../../constants/config';\r\n\r\nconst { Sider } = Layout;\r\n\r\nconst Index = ({collapsed}) => {\r\n  return (\r\n    <Sider \r\n      width={256}\r\n      theme=\"light\" \r\n      breakpoint=\"lg\"\r\n      trigger={null} \r\n      collapsible \r\n      collapsed={collapsed} \r\n      className=\"sider\"\r\n    >\r\n      <div className=\"brand\">\r\n      {!collapsed ? \r\n        <div className=\"full-logo\">\r\n          <img alt=\"full-logo\" src={config.logoFull} />\r\n        </div> \r\n        : \r\n        <div className=\"logo\">\r\n          <img alt=\"logo\" src={config.logoPath} />\r\n        </div>\r\n            \r\n      }\r\n      </div>\r\n      <div className=\"menu-container\">\r\n        <MenuUsuario/>\r\n      </div>\r\n    </Sider>\r\n  )\r\n};\r\n\r\nIndex.propTypes = {\r\n  collapsed: PropTypes.bool\r\n};\r\n\r\nexport default Index;\r\n","import React, { useState } from 'react';\r\nimport { Popover, Badge, List } from 'antd';\r\nimport { BellOutlined, RightOutlined } from '@ant-design/icons';\r\n\r\n// import StateIcon from '../../common/StateIcon'\r\n\r\nconst notifications = [{title:'Hola', icon: 'success'},{title:'Hola', icon: 'error'}, {title:'Hola', icon: 'warning'}];\r\n\r\nconst Notificaciones = () => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  return (\r\n    <Popover\r\n      trigger=\"click\"\r\n      placement=\"bottomRight\"\r\n      overlayClassName=\"notification-popover\"\r\n      visible={visible}\r\n      onVisibleChange={(v) => setVisible(v)}\r\n      content={\r\n        <div className=\"caja-notificaciones\" style={{ minWidth: '20rem' }}>\r\n          <List\r\n            itemLayout=\"horizontal\"\r\n            dataSource={notifications}\r\n            locale={{\r\n              emptyText: <span>You have viewed all notifications.</span>,\r\n            }}\r\n            renderItem={item => (\r\n              <List.Item className=\"item-notificaciones\">\r\n                {/* <StateIcon \r\n                  estado={item.icon} \r\n                  style={{fontSize: '2rem', paddingRight: '.8rem'}}\r\n                /> */}\r\n                <List.Item.Meta\r\n                  className=\"datos-notificaciones\"                \r\n                  title={\r\n                    <span lines={1}>\r\n                      Orden Actualizada\r\n                    </span>\r\n                  }\r\n                  description=\"hola k tal como te va\"\r\n                />\r\n                <RightOutlined className=\"flecha-notificaciones\"/>\r\n              </List.Item>\r\n            )}\r\n          />\r\n          {notifications.length ? (\r\n            <div\r\n              // onClick={onAllNotificationsRead}\r\n              className=\"clear-button\"\r\n            >\r\n              <span>Limpiar Notificaciones</span>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      }\r\n    >\r\n       <Badge\r\n        count={0}//numero de notificaciones\r\n        dot\r\n        offset={[-10, 10]}\r\n        className=\"icon-button\"\r\n      >\r\n        <BellOutlined className=\"icon-font\"/>\r\n      </Badge>\r\n    </Popover>\r\n  )\r\n};\r\n\r\nexport default Notificaciones;\r\n","import React, { Fragment, useEffect, useState } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Link } from 'react-router-dom';\r\nimport { Menu, Avatar, Typography } from 'antd';\r\nimport { PoweroffOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport Cookie from \"js-cookie\";\r\n\r\nimport variables from '../../../constants/config';\r\nimport { AuthToken } from '../../../services/authToken';\r\nimport { logout } from '../../../services/apiUsuario';\r\nimport { rutas } from '../../../constants/listaRutas';\r\n\r\nexport default function OpcionesUsuario() { \r\n  const [usuario, setUsuario] = useState(null);\r\n  const history = useHistory();\r\n  \r\n  useEffect(() => {\r\n    const auth = new AuthToken(Cookie.get(variables.TOKEN_STORAGE_KEY));\r\n    if (auth) {\r\n      setUsuario(auth.decodedToken);\r\n    }\r\n  },[]);\r\n\r\n  const cerrarSesion = async () => {\r\n    await logout().then(async(response) => {//cerró sesion correctamente\r\n      if (response.status !== 'error') {\r\n        Cookie.remove(variables.TOKEN_STORAGE_KEY);\r\n        history.push('/login');\r\n      }\r\n    }).catch(error => {\r\n      console.log(error);\r\n      console.log('Error cerrando sesión.')\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Menu key=\"user\" mode=\"horizontal\" >\r\n      <Menu.SubMenu\r\n        title={\r\n          <Fragment>\r\n            <span style={{ color: '#999', marginRight: 4 }}>\r\n              <span>Hola,</span>\r\n            </span>\r\n            <span>{usuario&&usuario.nombre}</span>\r\n            <Avatar style={{ marginLeft: 8 }} src={usuario&&usuario.imagen} />\r\n          </Fragment>\r\n        }\r\n      >\r\n        <Menu.Item key=\"Configuraciones\">\r\n          <Typography.Text type=\"sucess\">\r\n            <Link to={rutas.perfilUsuario}>\r\n              <SettingOutlined />\r\n              Configuraciones\r\n            </Link>\r\n          </Typography.Text>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"SignOut\" onClick={cerrarSesion}>\r\n          <Typography.Text type=\"danger\">\r\n            <PoweroffOutlined/>\r\n            {/* <Trans>Sign out</Trans> */}Desconectar\r\n          </Typography.Text>\r\n        </Menu.Item>\r\n      </Menu.SubMenu>\r\n    </Menu>\r\n  );\r\n};\r\n\r\n","import React, { useState } from 'react';\r\nimport classnames from 'classnames';\r\nimport { Layout, Spin } from 'antd';\r\nimport Sider from './Sider/index';\r\nimport {\r\n  MenuUnfoldOutlined,\r\n  MenuFoldOutlined,\r\n} from '@ant-design/icons';\r\n\r\nimport config from '../../constants/config';\r\nimport Notificaciones from './Header/Notificaciones';\r\nimport OpcionesUsuario from './Header/OpcionesUsuario';\r\nimport PrivateLayout from './PrivateLayout';\r\n\r\nvar anchoContenedor = '256px';\r\n\r\nfunction Index({children, spinLoading}) {\r\n  const [collapsed, setCollapsed] = useState(false);\r\n\r\n  if (collapsed) {\r\n    anchoContenedor = '80px'\r\n  } else {\r\n    anchoContenedor = '256px'\r\n  }\r\n\r\n  const styleContent = {\r\n    minHeight: 'calc(100vh - 94px - 3rem)',\r\n    marginTop: '.5rem',\r\n    // margin: `1rem`,\r\n    transition: 'margin .2s'\r\n  }\r\n  \r\n  const styleFooter = {\r\n    backgroundColor: 'white',\r\n    width: `100%`,\r\n    margin: `0px`,\r\n    padding: '16px 16px 24px 10px',\r\n    transition: 'margin .2s',\r\n    clear: 'both',\r\n    left: anchoContenedor,\r\n    bottom: 0,\r\n    right: 0\r\n  }\r\n\r\n  return (\r\n    <Spin \r\n      spinning={spinLoading} \r\n      tip=\"Cargando Interfaz...\" \r\n      size=\"large\"\r\n      className=\"spin-container\"\r\n    >\r\n      <Layout>\r\n        <Sider collapsed={collapsed}/>\r\n        <Layout className=\"site-layout\">\r\n          <Layout.Header \r\n            style={{ minWidth: collapsed && 'calc(100vw - 95px)'}}\r\n            className={classnames(\"header\", {\r\n              \"collapsed\": collapsed,\r\n            })}\r\n            id=\"layoutHeader\"\r\n          >\r\n          <div className=\"button\" onClick={() => setCollapsed(!collapsed)}>\r\n            {\r\n              collapsed ?\r\n              <MenuUnfoldOutlined className=\"text-primary\"/> : \r\n              <MenuFoldOutlined/>\r\n            }\r\n            </div>\r\n            <div className=\"right-container\">\r\n              <Notificaciones/>\r\n              <OpcionesUsuario/>\r\n            </div>\r\n          </Layout.Header>\r\n          <Layout.Content\r\n            className=\"site-layout-background\"\r\n            style={styleContent}\r\n          >\r\n            {children}\r\n          </Layout.Content>\r\n          <Layout.Footer style={styleFooter}>\r\n            Atenea System v{config.version} - 2020&copy;\r\n          </Layout.Footer>\r\n        </Layout>\r\n      </Layout>\r\n    </Spin>\r\n  )\r\n};\r\n\r\nexport default PrivateLayout(Index)","import React, { Component } from \"react\";\r\nimport Cookie from \"js-cookie\";\r\n\r\nimport variables from \"../../constants/config\";\r\nimport { rutas } from '../../constants/listaRutas';\r\nimport { session } from \"../../services/apiUsuario\";\r\nimport UserContext from \"../../context/User/UserContext\";\r\n\r\nexport default function PrivateLayout(WrappedComponent) {\r\n  \r\n  return class extends Component {  \r\n\r\n    static contextType = UserContext\r\n\r\n    constructor(props) {\r\n      super(props)\r\n      this.state = {\r\n        spin: true\r\n      }\r\n    }\r\n\r\n    async componentDidMount() {\r\n      const token = Cookie.get(variables.TOKEN_STORAGE_KEY);\r\n      if (!token) {\r\n        document.location.href = (rutas.login);\r\n      } else {\r\n        await session(true).then((data) => {\r\n          if(data.status !== 'success') {\r\n            Cookie.remove(variables.TOKEN_STORAGE_KEY);\r\n            document.location.href = (rutas.login);\r\n          } else {\r\n            if(data && data.data && data.data.vistas) this.context.getViews(data.data.vistas)\r\n            this.setState({spin: false })\r\n          }\r\n        }).catch((error) => {\r\n          this.setState({spin: false})\r\n          console.log(error);\r\n          console.log('error de sesion en (PrivateRoutes)');\r\n        });\r\n      }\r\n    }\r\n\r\n    render() {\r\n      return <WrappedComponent {...this.props} spinLoading={this.state.spin}/>;\r\n    }\r\n  };\r\n};","import React from 'react'\r\nimport { Col, Row } from 'antd';\r\n\r\nexport default function Contenedor({children}) {\r\n  const style_row = {\r\n    margin: '0 24px 1rem',\r\n    borderRadius: '.3rem'\r\n    // minHeight: '68vh'\r\n  };\r\n  const style_col = {\r\n    borderRadius: '.3rem',\r\n    padding: '0 1rem',\r\n    backgroundColor: '#fff',\r\n    WebkitBoxShadow: '0px 0px 10px 0px rgba(0,0,0,0.03)',\r\n    MozBoxShadow: '0px 0px 10px 0px rgba(0,0,0,0.03)',\r\n    boxShadow: '0px 0px 10px 0px rgba(0,0,0,0.03)'\r\n  };\r\n  return (\r\n    <Row style={style_row}>\r\n      <Col span={24} style={style_col}>\r\n      {children}\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { PageHeader } from 'antd';\r\n\r\nconst TituloVista = ({titulo, subtitulo}) => {\r\n  const routes = [\r\n    {\r\n      breadcrumbName: subtitulo,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <PageHeader\r\n      className=\"site-page-header\"\r\n      title={titulo}\r\n      breadcrumb={{routes}}\r\n    />\r\n  )\r\n};\r\n\r\nTituloVista.propTypes = {\r\n  titulo: PropTypes.string,\r\n  subtitulo: PropTypes.string\r\n}\r\n\r\nexport default TituloVista\r\n","import { restPrivate } from './requestHelper';\r\n\r\n/**\r\n * @param {boolean} toast false si debe buscar sin mostrar avisos\r\n * @param {object} metodo\r\n * @param {string} metodo.metodo\r\n */\r\nexport const getEmpleados = async (toast, metodo) => restPrivate({\r\n  url: 'empleados', method: 'GET', params: metodo\r\n}, toast);\r\n\r\n/**\r\n * @param {string} value \r\n * @param {string} field \r\n */\r\nexport const buscarEmpleado = async (value, field) => restPrivate({\r\n  url: 'empleados/buscar', method: 'GET', params: { value, field }\r\n}, true);\r\n\r\n/**\r\n * \r\n * @param {boolean} toast validar si mostrará avisos\r\n * @param {object} data\r\n * @param {string} data.id\r\n * @param {string} data.metodo el metodo\r\n * @param {number} data.cargo cargo a modificar\r\n * @param {Date} data.fecha_baja fecha de baja\r\n * @param {number} data.estado_empresa estado dentro de la empresa\r\n * @param {string} data.gestor\r\n * @param {string} data.negocio\r\n * @param {string} data.subNegocio\r\n * @param {string} data.columnas\r\n * @param {Array} data.tecnicos\r\n * @param {string} data.tecnico\r\n * @param {string} data.password\r\n * @param {string} data.newPassword1\r\n * @param {string} data.newPassword2\r\n */\r\nexport const patchEmpleados = async (\r\n  toast, { id, metodo, cargo, fecha_baja, estado_empresa, gestor, auditor,negocio, subNegocio, columnas, tecnico, tecnicos, password, newPassword1, newPassword2 }\r\n) => restPrivate({\r\n  url: 'empleados', \r\n  method: 'PATCH', \r\n  data: { id, metodo, cargo, fecha_baja, estado_empresa, gestor, auditor,negocio, subNegocio, columnas, tecnico, tecnicos, password, newPassword1, newPassword2 }\r\n}, toast);\r\n\r\n\r\n/**\r\n * @param {object} data\r\n * @param {string} data.metodo\r\n * @param {string} data.email\r\n * @param {object} data.empleado \r\n */\r\nexport const postEmpleados = async ({metodo, email, empleado}) => restPrivate({\r\n  url: 'empleados', method: 'POST', data: { metodo, email, empleado }\r\n}, true);\r\n\r\n/**\r\n * @param {string} id id del empleado\r\n * @param {object} data objeto a actualizar\r\n * @param {string} data.metodo\r\n * @param {string} data.email\r\n * @param {object} data.empleado\r\n */\r\nexport const putEmpleados = async (id, { metodo, email, empleado }) => restPrivate({\r\n  url: 'empleados/' + id, method: 'PUT', data: { metodo, email, empleado }\r\n}, true);\r\n\r\n","export const ordenes = {\r\n  SUBIR_DATA: 'subirData',\r\n  COMPROBAR_INFANCIAS: 'comprobarInfancias',\r\n  SUBIR_INFANCIAS_EXTERNAS: 'subirInfanciasExternas',\r\n  ACTUALIZAR_DATA: 'actualizarLiquidadas',\r\n  CRUZAR_DATA: 'cruzarData',\r\n  ORDENES_HOY: 'obtenerOrdenesPendientes',\r\n  ORDENES_LIQUIDADAS: 'obtenerOrdenesLiquidadas',\r\n  ORDENES_ANULADAS: 'obtenerOrdenesAnuladas',\r\n  ORDENES_OTRAS_BANDEJAS: 'obtenerOrdenesOtrasBandejas',\r\n  EXPORTAR_PENDIENTES: 'exportarPendientes',\r\n  EXPORTAR_LIQUIDADAS: 'exportarLiquidadas',\r\n  EXPORTAR_PENDIENTES_GESTOR: 'exportarPendientesGestor',\r\n  ORDENES_HOY_GESTOR: 'obtenerOrdenesPendientesGestor',\r\n  BUSCAR_REITERADA: 'buscarReiterada',\r\n  BUSCAR_INFANCIA: 'buscarInfancia',\r\n  BUSCAR_REGISTROS: 'buscarRegistro',\r\n  BUSCAR_DETALLE: 'obtenerDetalleOrden',\r\n  AGENDAR_ORDEN: 'agendarOrden',\r\n  AGENDAR_ORDEN_GESTOR: 'agendarOrdenGestor',\r\n  ASIGNAR_ORDEN: 'asignarOrden',\r\n  ACTUALIZAR_ESTADO: 'actualizarEstado',\r\n  AGREGAR_OBSERVACION: 'agregarObservacion',\r\n  // DEVOLVER_ORDEN: 'devolverOrden'\r\n};\r\n\r\n\r\nconst metodos = {\r\n  //AREAS-------------------------------------------------------------\r\n  AREA_CREAR: \"crearArea\",\r\n  AREA_ACTUALIZAR: \"actualizarArea\",\r\n  AREA_BORRAR: \"borrarArea\",\r\n  //ASISTENCIAS-------------------------------------------------------\r\n  ASISTENCIA_CREAR: \"asistenciaCrear\",\r\n  ASISTENCIA_ACTUALIZAR: \"asistenciaActualizar\",\r\n  //CARGOS------------------------------------------------------------\r\n  CARGO_CREAR: \"crearCargo\",\r\n  CARGO_ACTUALIZAR: \"actualizarCargo\",\r\n  CARGO_BORRAR: \"borrarCargo\",\r\n  //CONTRATAS---------------------------------------------------------\r\n  CONTRATA_CREAR: \"contrataCrear\",\r\n  CONTRATA_LISTAR_TODO: \"contrataListarTodo\",\r\n  CONTRATA_LISTAR_NOMBRES: \"contrataListarNombres\",\r\n  CONTRATA_EDITAR: \"contrataEditar\",\r\n  CONTRATA_BAJA: \"contrataBaja\",\r\n  //EMPLEADOS---------------------------------------------------------\r\n  PERFIL_USUARIO: \"perfilUsuario\",\r\n  EMPLEADOS_LISTAR_TODO: \"empleadosListarTodo\",\r\n  EMPLEADOS_LISTAR_AUDITORES: \"empleadoListarAuditores\",\r\n  EMPLEADOS_LISTAR_SUPERVISORES: \"empleadoListarSupervisores\",\r\n  EMPLEADOS_LISTAR_GESTORES: \"empleadoListarGestores\",\r\n  EMPLEADOS_LISTAR_TECNICOS: \"empleadoListarTecnicosGlobal\",\r\n  EMPLEADOS_LISTAR_APOYO: \"empleadoListarTecnicosApoyo\",\r\n  EMPLEADOS_CREAR: \"empleadosCrear\",\r\n  EMPLEADOS_ACTUALIZAR: \"empleadosActualizar\",\r\n  EMPLEADOS_LISTAR_COLUMNAS: \"empleadosListarColumnas\",\r\n  EMPLEADOS_ACTUALIZAR_COLUMNAS:\"empleadosActualizarColumnas\",\r\n  EMPLEADOS_CAMBIAR_PASS: \"empleadosCambiarPassword\",\r\n  EMPLEADOS_RESET_PASS: \"empleadosResetearPassword\",\r\n  EMPLEADOS_CERRAR_SESION: \"empleadosCerrarSesion\",\r\n  EMPLEADOS_ACTUALIZAR_PERMISOS: \"empleadosActualizarPermisos\",\r\n  EMPLEADOS_ACTIVAR_CUENTA: \"empleadosActivarCuenta\",\r\n  EMPLEADOS_EDITAR_ESTADO_EMPRESA: \"empleadosEditarEstadoEmpresa\",\r\n  EMPLEADOS_ACTUALIZAR_RUTA: \"empleadosActualizarRuta\",\r\n  //ORDENES------------------------------------------------------------\r\n  ORDENES_SUBIR_DATA: \"ordenesSubirData\",\r\n  ORDENES_COMPROBAR_INFANCIAS: \"ordenesComprobarInfancias\",\r\n  ORDENES_ACTUALIZAR_LIQUIDADAS: \"ordenesActualizarLiquidadas\",\r\n  ORDENES_OBTENER_LIQUIDADAS: \"ordenesObtenerLiquidadas\",\r\n  ORDENES_OBTENER_OTRAS_BANDEJAS: \"ordenesObtenerOtrasBandejas\",\r\n  ORDENES_OBTENER_ANULADAS: \"ordenesObtenerAnuladas\",\r\n  //TIPOS EMPLEADOS---------------------------------------------------\r\n  TIPOEMPLEADO_CREAR: \"crearTipoEmpleado\",\r\n  TIPOEMPLEADO_ACTUALIZAR: \"actualizarTipoEmpleado\",\r\n  TIPOEMPLEADO_BORRAR: \"borrarTipoEmpleado\",\r\n  //VISTAS------------------------------------------------------------\r\n  VISTA_CREAR: \"crearVista\",\r\n  VISTA_ACTUALIZAR: \"actualizarVista\",\r\n  VISTA_BORRAR: \"borrarVista\",\r\n  //ZONAS-------------------------------------------------------------\r\n  ZONA_CREAR: \"crearZona\",\r\n  ZONA_ACTUALIZAR: \"actualizarZona\",\r\n  ZONA_BORRAR: \"borrarZona\"\r\n};\r\n\r\n\r\nexport default metodos;\r\n","export const avatares = [\r\n  'https://res.cloudinary.com/liteyca/image/upload/v1613847830/avatars/daniel_fbzpxm.jpg',\r\n  'https://res.cloudinary.com/liteyca/image/upload/v1613847803/avatars/stevie_g4dcxw.jpg',\r\n  'https://res.cloudinary.com/liteyca/image/upload/v1613847793/avatars/veronika_ydt9xq.jpg',\r\n  'https://res.cloudinary.com/liteyca/image/upload/v1613847792/avatars/nan_ng0uzp.jpg',\r\n  'https://res.cloudinary.com/liteyca/image/upload/v1613847790/avatars/justen_oprd2m.jpg',\r\n  'https://res.cloudinary.com/liteyca/image/upload/v1613847788/avatars/jenny_goini9.jpg',\r\n  'https://res.cloudinary.com/liteyca/image/upload/v1613847786/avatars/elyse_tqzbdt.png',\r\n  'https://res.cloudinary.com/liteyca/image/upload/v1613847983/avatars/matthew_wwdp4r.png',\r\n  'https://res.cloudinary.com/liteyca/image/upload/v1613847771/avatars/elliot_dpwphr.jpg',\r\n];","import React, { useState, useEffect } from 'react';\r\nimport { Avatar, Button, Col, DatePicker, Image, Input, Radio, Row, Select, Space, Spin } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport Contenedor from '../components/common/Contenedor';\r\nimport TituloVista from '../components/common/TituloContent';\r\nimport { getEmpleados, patchEmpleados, putEmpleados } from '../services/apiEmpleado';\r\nimport metodos from '../constants/metodos';\r\nimport { avatares } from '../constants/avatares';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nconst { Option } = Select;\r\n\r\nexport default function PerfilUsuario() {\r\n  const [loadingUsuario, setLoadingUsuario] = useState(false);\r\n  const [loadingActualizar, setLoadingActualizar] = useState(false);\r\n  const [loadingContraseña, setLoadingContraseña] = useState(false);\r\n  const [usuarioObj, setUsuarioObj] = useState({});\r\n  const [password, setPassword] = useState(null);\r\n  const [newPassword1, setNewPassword1] = useState(null);\r\n  const [newPassword2, setNewPassword2] = useState(null);\r\n\r\n  useEffect(() => {\r\n    cargarPerfil();\r\n  },[]);\r\n\r\n  async function cargarPerfil() {\r\n    setLoadingUsuario(true);\r\n    return await getEmpleados( true, metodos.PERFIL_USUARIO )\r\n      .then(({data}) => {\r\n        if (data) { setUsuarioObj(data); } \r\n        else { setUsuarioObj({}); };\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingUsuario(false));\r\n  };\r\n\r\n  async function actualizarPerfil() {\r\n    if (usuarioObj._id) {\r\n      setLoadingActualizar(true);\r\n      return await putEmpleados( usuarioObj._id, usuarioObj )\r\n        .catch((e) => console.log(e))\r\n        .finally(() => setLoadingActualizar(false));\r\n    } else {\r\n      cogoToast.warn('No se encontró el id del usuario.', { position: 'top-right' });\r\n    };\r\n  };\r\n\r\n  async function actualizarContraseña() {\r\n    if (usuarioObj._id) {\r\n      setLoadingContraseña(true);\r\n      return await patchEmpleados(true, { id: usuarioObj._id, metodo: metodos.EMPLEADOS_CAMBIAR_PASS, password, newPassword1, newPassword2 })\r\n        .catch((e) => console.log(e))\r\n        .finally(() => {\r\n          limpiarInputs()\r\n          setLoadingContraseña(false)\r\n        });\r\n    } else {\r\n      cogoToast.warn('No se encontró el id del usuario.', { position: 'top-right' });\r\n    };\r\n  };\r\n\r\n  const cambiarInput = (field, value) => {\r\n    setUsuarioObj({\r\n      ...usuarioObj,\r\n      [field]: value\r\n    })\r\n  };\r\n\r\n  const limpiarInputs = () => {\r\n    setPassword(null);\r\n    setNewPassword1(null);\r\n    setNewPassword2(null);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TituloVista titulo=\"Datos de Usuario\" subtitulo=\"Perfil\"/>\r\n      <Contenedor>\r\n        {\r\n          loadingUsuario ? <div style={{ margin: '2rem', justifyContent: 'center', display: 'flex' }}><Spin spinning size=\"large\"/></div> :\r\n          <div style={{ margin: '1rem .5rem' }}>\r\n            <h3>Editar Datos Personales:</h3>\r\n            <Row style={{ margin: '1rem 0' }}>\r\n              <Col sm={12}>\r\n                <Space direction=\"vertical\">\r\n                  <Input \r\n                    addonBefore=\"Nombre:\" \r\n                    placeholder=\"Nombre\" \r\n                    style={{ width: '400px' }} \r\n                    value={usuarioObj.nombre ? usuarioObj.nombre : null}\r\n                    onChange={(e) => cambiarInput('nombre', e.currentTarget.value)}\r\n                  />\r\n                  <Input \r\n                    addonBefore=\"Apellidos:\" \r\n                    placeholder=\"Apellidos\" \r\n                    style={{ width: '400px', marginBottom: '.5rem' }}\r\n                    value={usuarioObj.apellidos ? usuarioObj.apellidos : null}\r\n                    onChange={(e) => cambiarInput('apellidos', e.currentTarget.value)}\r\n                  />\r\n                  <Input \r\n                    addonBefore=\"Correo:\" \r\n                    placeholder=\"Correo\" \r\n                    style={{ width: '400px', marginBottom: '.5rem' }}\r\n                    value={ usuarioObj.usuario && usuarioObj.usuario.email ? usuarioObj.usuario.email : null }\r\n                    onChange={(e) => setUsuarioObj({...usuarioObj, usuario: { ...usuarioObj.usuario, email: e.target.value }})}\r\n                  />\r\n                  <Input \r\n                    onChange={(e) => cambiarInput('nacionalidad', e.currentTarget.value)} \r\n                    value={usuarioObj.nacionalidad ? usuarioObj.nacionalidad : null}\r\n                    addonBefore=\"Nacionalidad\" \r\n                    placeholder=\"Nacionalidad\" \r\n                    style={{ width: '400px' }}\r\n                  />\r\n                </Space>\r\n              </Col>\r\n              <Col sm={12}>\r\n                <Space direction=\"vertical\">\r\n                  <span>Fecha de Nacimiento:</span>\r\n                  <DatePicker \r\n                    placeholder=\"Fecha de Nacimiento\" \r\n                    style={{ width: '400px' }}\r\n                    value={usuarioObj.fecha_nacimiento ? moment(usuarioObj.fecha_nacimiento) : null}\r\n                    onChange={(_, e) => cambiarInput('fecha_nacimiento', e)}\r\n                  />\r\n                  <span>Tipo de Documento:</span>\r\n                  <Select onChange={(e) => cambiarInput('tipo_documento', e)} value={usuarioObj.tipo_documento ? usuarioObj.tipo_documento : null} style={{ width: '400px' }} placeholder=\"Seleccionar tipo de Documento\">\r\n                    <Option value=\"DNI\">DNI</Option>\r\n                    <Option value=\"Otro\">Otros</Option>\r\n                  </Select>\r\n                  <Input \r\n                    onChange={(e) => cambiarInput('numero_documento', e.currentTarget.value)} \r\n                    value={usuarioObj.numero_documento ? usuarioObj.numero_documento : null}\r\n                    addonBefore=\"Número de Documento\" \r\n                    placeholder=\"Numero de Documento\" \r\n                    style={{ width: '400px' }}\r\n                  />\r\n                </Space>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{ marginBottom: '3rem' }}>\r\n              <span>Imagen de Perfil:</span><br/>\r\n              <Radio.Group \r\n                value={usuarioObj.usuario && usuarioObj.usuario.imagen ? usuarioObj.usuario.imagen : null} \r\n                onChange={(e) => setUsuarioObj({...usuarioObj, usuario: { ...usuarioObj.usuario, imagen: e.target.value }})}\r\n              >\r\n              {avatares.map((img, i) => (\r\n                <Radio value={img} key={i} style={{ margin: '.5rem' }}>\r\n                  <Avatar\r\n                    size={{ xs: 20, sm: 28, md: 36, lg: 60, xl: 76, xxl: 90 }}\r\n                    src={<Image src={img}/>}\r\n                  />,\r\n                </Radio>\r\n              ))\r\n              }\r\n              </Radio.Group>\r\n            </Row>\r\n            <Button onClick={actualizarPerfil} type=\"primary\" loading={loadingActualizar}>Guardar</Button>\r\n          </div>\r\n        }\r\n      </Contenedor>\r\n      <Contenedor>\r\n        <div style={{ margin: '1rem .5rem' }}>\r\n          <h3>Cambiar Constraseña:</h3>\r\n          <Space direction=\"vertical\">\r\n            <span>Contraseña actual:</span>\r\n            <Input.Password required style={{ width: 300 }} onChange={(e) => setPassword(e.currentTarget.value)} value={password}/><br/>\r\n            <span>Nueva contraseña:</span>\r\n            <Input.Password required style={{ width: 300 }} onChange={(e) => setNewPassword1(e.currentTarget.value)} value={newPassword1}/><br/>\r\n            <span>Repetir contraseña:</span>\r\n            <Input.Password required style={{ width: 300 }} onChange={(e) => setNewPassword2(e.currentTarget.value)} value={newPassword2}/><br/>\r\n          </Space>\r\n        </div>\r\n        <Button style={{ marginBottom: '1rem' }} type=\"primary\" onClick={actualizarContraseña} loading={loadingContraseña}>Guardar</Button>\r\n      </Contenedor>\r\n    </div>\r\n  );\r\n};\r\n\r\n","import { rutas as listaRutas } from '../constants/listaRutas';\r\nimport PerfilUsuario from '../views/PerfilUsuario';\r\n\r\n\r\nconst rutas = [\r\n  {\r\n    path: listaRutas.perfilUsuario,\r\n    exact: true,\r\n    component: PerfilUsuario\r\n  },\r\n]\r\n\r\nexport default rutas","import * as io from 'socket.io-client';\r\nimport variables from \"../constants/config\";\r\n\r\nexport const socket = io(variables.socket, { transports: ['websocket'], secure: true, reconnection: true  });","const colores = {\r\n  success: '#52c41a',\r\n  error: '#EB2F2F',\r\n  warning: '#F8C82E',\r\n  Pendiente: '#EFFF12',\r\n  Completado: '#9BB6C2',\r\n  Iniciado: '#5DBE3F',\r\n  Suspendido: '#ABFFBC',\r\n  Cancelado: '#80FF80',\r\n  NoRealizada: '#1414FF',\r\n};\r\n\r\nexport default colores;","export const gponAltas = [\r\n  'Instalación Movistar uno Gpon',\r\n  'Instalación Gpon Movistar Tot',\r\n  'Instalación Migración Gpon',\r\n  'Instalación Migración Gpon MT',\r\n  'Instalación Gpon New',\r\n  'Instalación Migración HFC a Gpon',\r\n  'Instalación Migración HFC a Gpon CC',\r\n  'Instalacion B2B Tradicional GPON'\r\n];\r\n\r\nexport const hfcAltas = [\r\n  'Instalación Migración',\r\n  'Instalación Migración Movistar Total',\r\n  'Instalación Movistar Total',\r\n  'Instalación Movistar uno',\r\n  'Instalación CATV',\r\n  'Instalacion B2B Tradicional HFC'\r\n];\r\n\r\nexport const gponAverias = [\r\n  'Reparación GPON',\r\n  'Reparación Gpon Movistar Uno',\r\n  'Reparacion Movistar Total Gpon',\r\n  'Reparacion B2B Tradicional GPON',\r\n];\r\n\r\nexport const hfcAverias =[\r\n  'Reparación Movistar Total',\r\n  'Reparación Movistar uno',\r\n  'Reparación CATV',\r\n  'Reparacion B2B Tradicional HFC'\r\n];\r\n\r\nexport const gponRutinas = [\r\n  'Instalación Rutina VA Gpon',\r\n  'Rutina MT GPON MT',\r\n  'Rutina MT GPON MT',\r\n  'Rutina VA GPON MT',\r\n  'Traslado GPON',\r\n  'Instalación rutina MT Gpon',\r\n  'Instalación rutina Bucle Gpon',\r\n  'Traslado GPON Movistar Total',\r\n  'Instalación rutina AT Gpon',\r\n  'Rutina AT GPON MT'\r\n];\r\n\r\nexport const hfcRutinas = [\r\n  'Instalación Rutina Bucle',\r\n  'Instalación Rutina CATV_AT',\r\n  'Instalación Rutina CATV_VA',\r\n  'Instalación Rutina MT Movistar Total',\r\n  'Traslado HFC',\r\n  'Instalación Rutina VA Movistar Total',\r\n  'Traslado HFC Mov Total',\r\n  'Instalación Rutina AT Movistar Total',\r\n  'Instalación Rutina CATV_MT'\r\n];\r\n\r\nexport const valoresExcelToa = {\r\n  bucket: \"Bucket\", \r\n  requerimiento: \"Requerimiento\",\r\n  estado: \"Estado\",\r\n  fecha_cita: \"Fecha Cita\",\r\n  motivo_no_realizado: \"Motivo No Realizado\",\r\n  subtipo_actividad: \"Subtipo Actividad\",\r\n  carnet: \"Carnet\",\r\n  tecnico: \"Tecnico\",\r\n  gestor: \"Gestor\",\r\n  auditor: \"auditor\",\r\n  contrata: \"Contrata\",\r\n  tipo_agenda: \"Time Slot\",\r\n  sla_inicio: \"SLA_INICIO\",\r\n  sla_fin: \"SLA_FIN\"\r\n};\r\n\r\nexport const estadosToa = {\r\n  CANCELADO: 'Cancelado',\r\n  COMPLETADO: 'Completado',\r\n  INICIADO: 'Iniciado',\r\n  NO_REALIZADA: 'No Realizada',\r\n  PENDIENTE: 'Pendiente',\r\n  SUSPENDIDO: 'Suspendido'\r\n};\r\n\r\nexport const bajas = [\r\n  'Baja de Acometida'\r\n];\r\n\r\nexport const ordenesB2B = [\r\n  'Instalacion B2B Tradicional GPON',\r\n  'Instalacion B2B Tradicional HFC',\r\n  'Reparacion B2B Tradicional GPON',\r\n  'Reparacion B2B Tradicional HFC',\r\n]","import React from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Row, Statistic } from 'antd';\r\nimport { AlertOutlined, CheckCircleOutlined } from '@ant-design/icons';\r\nimport colores from '../../../constants/colores';\r\nimport { estadosToa } from '../../../constants/valoresToa';\r\n\r\nfunction ResumenOrdenes({titulo, ordenes=[], columnas}) {\r\n\r\n  const style_col = {\r\n    borderRadius: '.3rem',\r\n    padding: '.5rem 1rem',\r\n    backgroundColor: '#fff',\r\n    WebkitBoxShadow: '0px 0px 10px 0px rgba(0,0,0,0.03)',\r\n    MozBoxShadow: '0px 0px 10px 0px rgba(0,0,0,0.03)',\r\n    boxShadow: '0px 0px 10px 0px rgba(0,0,0,0.03)'\r\n  };\r\n\r\n  return (\r\n    <Col sm={columnas} style={style_col}>\r\n      <h4>{titulo}</h4>\r\n      <Row>\r\n        <Col sm={12}>\r\n          <Statistic\r\n            title=\"Liquidadas\"\r\n            value={ordenes && ordenes.length > 0 ? ordenes.filter(e => e && e.estado_toa === estadosToa.COMPLETADO).length : 0}\r\n            valueStyle={{ color: colores.success }}\r\n            prefix={<CheckCircleOutlined />}\r\n          />\r\n        </Col>\r\n        <Col sm={12}>\r\n          <Statistic\r\n            title=\"Pendientes\"\r\n            value={ordenes && ordenes.length > 0 ? ordenes.filter(e => e && e.estado_toa === estadosToa.PENDIENTE).length : 0}\r\n            valueStyle={{ color: colores.warning }}\r\n            prefix={<AlertOutlined />}\r\n          />\r\n        </Col>\r\n      </Row>\r\n    </Col>\r\n  )\r\n};\r\n\r\nResumenOrdenes.propTypes = {\r\n  titulo: PropTypes.string,\r\n  ordenes: PropTypes.array,\r\n};\r\n\r\nexport default ResumenOrdenes;\r\n\r\n","export const tipoOrdenes = {\r\n  AVERIAS: 'averiashfc',\r\n  ALTAS: 'altashfc',\r\n  RUTINAS: 'rutinas',\r\n  BAJAS: 'bajas',\r\n  SPEEDY: 'speedy',\r\n  BASICAS: 'basicas'\r\n};\r\n\r\nexport const tipoTecnologia = {\r\n  GPON: 'gpon',\r\n  HFC: 'hfc',\r\n  ADSL: 'adsl',\r\n  COBRE: 'cobre',\r\n  CRITICOS: 'criticos',\r\n  EMPRESAS: 'empresas'\r\n};\r\n\r\nexport const tipoNegocio = [\r\n  {\r\n    text: 'Averias',\r\n    value: 'averias'\r\n  },\r\n  {\r\n    text: 'Altas',\r\n    value: 'altas'\r\n  }\r\n];\r\n\r\nexport const subTipoNegocio = [\r\n  {\r\n    text: 'GPON',\r\n    value: tipoTecnologia.GPON\r\n  },\r\n  {\r\n    text: 'HFC',\r\n    value: tipoTecnologia.HFC\r\n  },\r\n  {\r\n    text: 'COBRE',\r\n    value: tipoTecnologia.COBRE\r\n  },\r\n  {\r\n    text: 'CRITICOS',\r\n    value: tipoTecnologia.CRITICOS\r\n  },\r\n  {\r\n    text: 'EMPRESAS',\r\n    value: tipoTecnologia.EMPRESAS\r\n  }\r\n];\r\n\r\nexport const nodosLiteyca = [\r\n\"MA\",\r\n\"SM\",\r\n\"SJ\",\r\n\"PN\",\r\n\"MR\",\r\n\"SV\",\r\n\"VN\",\r\n\"B1\",\r\n\"B3\",\r\n\"B2\",\r\n\"BE\",\r\n\"GC\",\r\n\"GM\",\r\n\"GR\",\r\n\"EH\",\r\n\"PS\",\r\n\"P2\",\r\n\"GU\",\r\n\"GX\",\r\n\"GZ\",\r\n\"TJ\",\r\n\"TO\",\r\n\"D4\",\r\n\"D5\",\r\n\"P0\",\r\n\"PB\",\r\n\"SU\",\r\n\"W5\",\r\n\"W6\",\r\n\"BD\",\r\n\"B0\",\r\n\"B5\",\r\n\"B4\",\r\n\"PF\",\r\n\"B7\",\r\n\"BZ\",\r\n\"E1\",\r\n\"BO\",\r\n\"BG\",\r\n\"BW\",\r\n\"BK\",\r\n\"PD\",\r\n\"BF\",\r\n\"B9\",\r\n\"B6\",\r\n\"E3\",\r\n\"E2\",\r\n\"B8\",\r\n\"B3\",\r\n\"BX\",\r\n\"P8\",\r\n\"ANAI\",\r\n\"ANBA\",\r\n\"ANCA\",\r\n\"ANCB\",\r\n\"ANCC\",\r\n\"ANCD\",\r\n\"ANCH\",\r\n\"ANCM\",\r\n\"ANCO\",\r\n\"ANCP\",\r\n\"ANCQ\",\r\n\"ANCR\",\r\n\"ANEM\",\r\n\"ANEP\",\r\n\"ANHL\",\r\n\"ANHM\",\r\n\"ANHR\",\r\n\"ANHU\",\r\n\"ANMA\",\r\n\"ANMC\",\r\n\"ANMO\",\r\n\"ANNE\",\r\n\"ANPO\",\r\n\"ANRE\",\r\n\"ANSA\",\r\n\"ANSI\",\r\n\"ANSJ\",\r\n\"ANSM\",\r\n\"ANSN\",\r\n\"ANTI\",\r\n\"ANYC\",\r\n\"ANYU\",\r\n\"MA\",\r\n\"MAU2\",\r\n\"MAU3\",\r\n\"PIEA\",\r\n\"PILA\",\r\n\"PILO\",\r\n\"PIMA\",\r\n\"PINE\",\r\n\"PING\",\r\n\"PIQU\",\r\n\"PISJ\",\r\n\"PISU\",\r\n\"PITA\",\r\n\"SJ\",\r\n\"SJU1\",\r\n\"SJU2\",\r\n\"SJU3\",\r\n\"TUCC\",\r\n\"TUCO\",\r\n\"TUPP\",\r\n\"TUPS\",\r\n\"TUTU\",\r\n\"TUZA\",\r\n\"TUZO\",\r\n];","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Axis, Chart, Coordinate, Interval } from 'bizcharts';\r\nimport { Empty, Tooltip } from 'antd';\r\n\r\nfunction ChartProduccion({data=[], field, height, paddinLeft=150}) {\r\n  if (!data || data.length < 1) {\r\n    return (\r\n      <div \r\n        style={{ \r\n          width: '100%', \r\n          height: height,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}\r\n      >\r\n        <Empty/>\r\n      </div>)\r\n  } else {\r\n    return (\r\n      <Chart \r\n        data={data} \r\n        height={height} \r\n        padding={[0,50,10,paddinLeft]}\r\n        autoFit\r\n      >\r\n        <Coordinate transpose />\r\n        <Axis\r\n          name=\"nombre\"\r\n        />\r\n        <Axis name=\"cantidad\" visible={false} />\r\n        <Tooltip/>\r\n        <Interval \r\n          shape=\"rect\"\r\n          position={`nombre*cantidad*${field}`}\r\n          animate={{ enter: { duration: 500 } }}\r\n          label=\"cantidad\"\r\n          tooltip={[`${field}*cantidad`,]}\r\n        />\r\n      </Chart>\r\n    )\r\n  }\r\n};\r\n\r\nChartProduccion.propTypes = {\r\n  data: PropTypes.array,\r\n  field: PropTypes.string,\r\n  height: PropTypes.number,\r\n  paddinLeft: PropTypes.number\r\n};\r\n\r\nexport default ChartProduccion;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Row } from 'antd';\r\nimport ResumenOrdenes from './ResumenOrdenes';\r\nimport { tipoOrdenes } from '../../../constants/tipoOrden';\r\nimport { bajas, estadosToa } from '../../../constants/valoresToa';\r\nimport Contenedor from '../../common/Contenedor';\r\nimport ChartProduccion from '../ChartProduccion';\r\n\r\nfunction Index({ordenes=[], hora}) {\r\n  const [dataGestoresLiquidados, setDataGestoresLiquidados] = useState([]);\r\n\r\n  useEffect(() => {\r\n    ordenesGestores();\r\n  //eslint-disable-next-line\r\n  },[ordenes]);\r\n\r\n  const style_row = {\r\n    margin: '0 24px 1rem',\r\n    borderRadius: '.3rem'\r\n    // minHeight: '68vh'\r\n  };\r\n\r\n  function ordenesGestores() {\r\n    if (ordenes && ordenes.length > 0) {\r\n      \r\n      let completadas = ordenes.filter((e) => e && e.gestor_liquidado_toa && e.estado === estadosToa.COMPLETADO);\r\n      if (completadas.length > 0) {\r\n        let gestores = [];\r\n        let completo = [];\r\n        let listaOrdenada = [];\r\n        completadas.forEach((e) => {\r\n          if (e && e.gestor_liquidado_toa && !gestores.includes(e.gestor_liquidado_toa.nombre)) {\r\n            gestores.push(e.gestor_liquidado_toa.nombre);\r\n            completo.push(`${e.gestor_liquidado_toa.nombre} ${e.gestor_liquidado_toa.apellidos}`)\r\n          };\r\n        })\r\n        gestores.forEach((gestor, i) => {\r\n          listaOrdenada.push({\r\n            nombre: gestor,\r\n            gestor: completo[i],\r\n            cantidad: completadas.filter((e) => e && e.gestor_liquidado_toa && e.gestor_liquidado_toa.nombre === gestor).length\r\n          })\r\n        })\r\n        setDataGestoresLiquidados(listaOrdenada);\r\n      } else {\r\n        setDataGestoresLiquidados([]);\r\n      }\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div>\r\n      <Row style={style_row}>\r\n        <ResumenOrdenes \r\n          columnas={11} \r\n          titulo=\"Averias\" \r\n          ordenes={ordenes.filter((e) => e && e.tipo === tipoOrdenes.AVERIAS)}\r\n        />\r\n        <Col sm={1}></Col>\r\n        <ResumenOrdenes \r\n          columnas={12} \r\n          titulo=\"Altas\" \r\n          ordenes={ordenes.filter((e) => e && e.tipo === tipoOrdenes.ALTAS && !bajas.includes(e.subtipo_actividad))}\r\n        />\r\n      </Row>\r\n      <Contenedor>\r\n        <div style={{ marginTop: '.5rem' }}>\r\n          <h3>Indicadores de Liquidación (Gestor) - {hora}</h3><br/>\r\n          <ChartProduccion data={dataGestoresLiquidados} field=\"gestor\" height={500}/>\r\n        </div>\r\n      </Contenedor>\r\n    </div>\r\n  )\r\n};\r\n\r\nIndex.propTypes = {\r\n  ordenes: PropTypes.array,\r\n  hora: PropTypes.string\r\n};\r\n\r\nexport default Index;\r\n\r\n","/**\r\n * \r\n * @param {string} string \r\n */\r\nexport default function capitalizar(string) {\r\n  return string.charAt(0).toUpperCase() + string.slice(1);\r\n};","import { CheckCircleOutlined, FieldTimeOutlined, IssuesCloseOutlined } from '@ant-design/icons';\r\nimport { Table, Tag, Tooltip } from 'antd';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport capitalizar from '../../../libraries/capitalizar';\r\n\r\nexport function columnasResumen(tipo) {\r\n  return [\r\n    {\r\n      title: capitalizar(tipo),\r\n      dataIndex: tipo,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      width: 200,\r\n      align: 'left',\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t}>{t}</Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Completado',\r\n      dataIndex: 'completado',\r\n      align: 'center',\r\n      sorter: (a, b) => {\r\n        if (a.completado < b.completado) {\r\n          return -1;\r\n        }\r\n        if (a.completado > b.completado) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      // className: 'columna-resumen-completado',\r\n      render: (o) => <Tag icon={<CheckCircleOutlined />} color=\"#8994e9\">{o ? o : 0}</Tag> \r\n    },\r\n    {\r\n      title: 'Iniciado',\r\n      dataIndex: 'iniciado',\r\n      align: 'center',\r\n      sorter: (a, b) => {\r\n        if (a.iniciado < b.iniciado) {\r\n          return -1;\r\n        }\r\n        if (a.iniciado > b.iniciado) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      // className: 'columna-resumen-iniciado',\r\n      render: (o) => <Tag icon={<IssuesCloseOutlined />} color=\"#66CC33\">{o ? o : 0}</Tag> \r\n    },\r\n    {\r\n      title: 'No Realizada',\r\n      dataIndex: 'no_realizada',\r\n      align: 'center',\r\n      sorter: (a, b) => {\r\n        if (a.no_realizada < b.no_realizada) {\r\n          return -1;\r\n        }\r\n        if (a.no_realizada > b.no_realizada) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (e) => e ? e : 0\r\n    },\r\n    {\r\n      title: 'Pendiente',\r\n      dataIndex: 'pendiente',\r\n      align: 'center',\r\n      sorter: (a, b) => {\r\n        if (a.pendiente < b.pendiente) {\r\n          return -1;\r\n        }\r\n        if (a.pendiente > b.pendiente) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (e) => e ? e : 0\r\n    },\r\n    {\r\n      title: 'Suspendido',\r\n      dataIndex: 'suspendido',\r\n      align: 'center',\r\n      sorter: (a, b) => {\r\n        if (a.suspendido < b.suspendido) {\r\n          return -1;\r\n        }\r\n        if (a.suspendido > b.suspendido) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (e) => e ? e : 0\r\n    },\r\n    {\r\n      title: 'Cancelado',\r\n      dataIndex: 'cancelado',\r\n      align: 'center',\r\n      sorter: (a, b) => {\r\n        if (a.cancelado < b.cancelado) {\r\n          return -1;\r\n        }\r\n        if (a.cancelado > b.cancelado) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (e) => e ? e : 0\r\n    },\r\n    {\r\n      title: `Total`,\r\n      dataIndex: 'total',\r\n      align: 'center',\r\n      sorter: (a, b) => {\r\n        if (a.total < b.total) {\r\n          return -1;\r\n        }\r\n        if (a.total > b.total) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (e) => e ? <Tag color=\"#999999\"><strong>{e ? e : 0}</strong></Tag>  : 0\r\n    },\r\n  ]\r\n};\r\n\r\nexport function columnasTotal(pageData) {\r\n  let totalC = 0;\r\n  let totalI = 0;\r\n  let totalN = 0;\r\n  let totalP = 0;\r\n  let totalS = 0;\r\n  let totalCan = 0;\r\n  let totalT = 0;\r\n\r\n  pageData.forEach(({ completado, iniciado, no_realizada, pendiente, suspendido, cancelado, total }) => {\r\n    totalC += completado;\r\n    totalI += iniciado;\r\n    totalN += no_realizada;\r\n    totalP += pendiente;\r\n    totalS += suspendido;\r\n    totalCan += cancelado;\r\n    totalT += total;\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Table.Summary.Row style={{ backgroundColor: \"#F7F7F7\" }}>\r\n        <Table.Summary.Cell><strong>Total</strong></Table.Summary.Cell>\r\n        <Table.Summary.Cell align=\"center\">\r\n          <Tag icon={<CheckCircleOutlined />} color=\"#8994e9\"><strong>{totalC}</strong></Tag> \r\n        </Table.Summary.Cell>\r\n        <Table.Summary.Cell align=\"center\">\r\n          <Tag icon={<FieldTimeOutlined />} color=\"#66CC33\">{totalI}</Tag> \r\n          {/* <Text>{totalI}</Text> */}\r\n        </Table.Summary.Cell>\r\n        <Table.Summary.Cell align=\"center\">\r\n          <Text>{totalN}</Text>\r\n        </Table.Summary.Cell>\r\n        <Table.Summary.Cell align=\"center\">\r\n          <Text>{totalP}</Text>\r\n        </Table.Summary.Cell>\r\n        <Table.Summary.Cell align=\"center\">\r\n          <Text>{totalS}</Text>\r\n        </Table.Summary.Cell>\r\n        <Table.Summary.Cell align=\"center\">\r\n          <Text>{totalCan}</Text>\r\n        </Table.Summary.Cell>\r\n        <Table.Summary.Cell align=\"center\">\r\n          <Tag color=\"#999999\"><strong>{totalT}</strong></Tag>\r\n        </Table.Summary.Cell>\r\n      </Table.Summary.Row>\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Spin } from 'antd';\r\nimport { Chart, Interaction, Interval, Tooltip } from 'bizcharts';\r\n\r\nimport colores from '../../../constants/colores';\r\n\r\nconst getTypeColor = estado => {\r\n  if (estado === 'Pendiente') { return colores.Pendiente; }\r\n  if (estado === 'Completado') { return colores.Completado; }\r\n  if (estado === 'Iniciado') { return colores.Iniciado; }\r\n  if (estado === 'Suspendido') { return colores.Suspendido }\r\n  if (estado === 'Cancelado') { return colores.Cancelado; }\r\n  if (estado === 'No Realizada') { return colores.NoRealizada; }\r\n};\r\n\r\nexport default function ChartActividad({data=[], field}) {\r\n  if (!data || data.length < 1) {\r\n    return (\r\n      <div \r\n        style={{ \r\n          width: '100%', \r\n          height: 250,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}\r\n      >\r\n        <Spin spinning tip=\"Cargando...\" size=\"large\"/>\r\n      </div>)\r\n  } else {\r\n    return (\r\n      <Chart height={250} padding={[30, 20, 90, 40]} data={data} autoFit filter={[\r\n        ['ordenes', val => val != null]\r\n      ]}>\r\n        <Interval\r\n          adjust={[\r\n            {\r\n              type: 'dodge',\r\n              marginRatio: 0,\r\n            },\r\n          ]}\r\n          color={{\r\n            fields: [\"estado\"],\r\n            callback: (a) => getTypeColor(a)\r\n          }}\r\n          position={`${field}*ordenes`}\r\n          label={{\r\n            fields: ['ordenes', 'estado'],\r\n            callback: (a,b) => {\r\n              if (b === 'Completado' && a > 0) {\r\n                return {\r\n                  content: a,\r\n                  style: {\r\n                    fill: 'red',\r\n                    fontSize: 15,\r\n                    fontWeight: 'bold'\r\n                  }\r\n                };\r\n              } else {\r\n                return {\r\n                  content: a\r\n                }\r\n              }\r\n            }\r\n          }}\r\n        />\r\n        <Tooltip shared />\r\n        <Interaction type=\"active-region\" />\r\n      </Chart>\r\n    );\r\n  }\r\n};\r\n\r\nChartActividad.propTypes = {\r\n  data: PropTypes.array,\r\n  field: PropTypes.string\r\n};\r\n\r\n","import React from 'react';\r\nimport { Col, Empty, Row, Table } from 'antd';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { columnasResumen, columnasTotal } from './columnasResumen';\r\nimport ChartActividad from './ChartActividad';\r\n\r\n\r\nfunction TabIndicadorActividad({dataSource=[], dataChart=[],  tipo}) {\r\n\r\n  if (dataSource.length <= 0 || dataChart <= 0) {\r\n    return (\r\n      <div>\r\n        <Empty style={{ margin: '5rem' }}/>\r\n      </div>\r\n    )\r\n  } else {\r\n    return (\r\n      <Row style={{ marginTop: '2rem', marginBottom: '1rem' }}>\r\n        <Col sm={24}>\r\n          <ChartActividad data={dataChart} field={tipo}/>\r\n        </Col>\r\n        <Col sm={24}>\r\n          <Row style={{ margin: '1rem 0' }}>\r\n            <Table\r\n              style={{ background: \"white !important\"}}\r\n              rowKey=\"key\"\r\n              columns={columnasResumen(tipo)}\r\n              dataSource={dataSource}\r\n              size=\"small\"\r\n              pagination={false}\r\n              summary={columnasTotal}\r\n            />\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  };\r\n}\r\n\r\nTabIndicadorActividad.propTypes = {\r\n  dataSource: PropTypes.array,\r\n  dataChart: PropTypes.array,\r\n  tipo: PropTypes.string\r\n};\r\n\r\nexport default TabIndicadorActividad;\r\n\r\n","import { estadosToa } from \"../constants/valoresToa\";\r\n\r\nexport function separarBucket(data=[]) {\r\n  let buckets = [];\r\n  if (data && data.length !== 0) {\r\n    let estados = [];\r\n    let newData = [];\r\n    data.forEach((o) => !buckets.includes(o.bucket) ? buckets.push(o.bucket): null);\r\n    data.forEach((o) => !estados.includes(o.estado) ? estados.push(o.estado): null);\r\n    buckets.forEach((b) => {\r\n      estados.forEach((e) => {\r\n        let numOrdenes = data.filter((d) => d.bucket === b && d.estado === e).length;\r\n        newData.push({\r\n          bucket: String(b).substring(6),\r\n          estado: e,\r\n          ordenes: numOrdenes,\r\n        });\r\n      })\r\n    });\r\n    return {ordenes: newData, buckets, estados};\r\n  } else {\r\n    return {ordenes: [], buckets, estados: []} ;\r\n  };\r\n};\r\n\r\nexport function separarContrata(data=[]) {\r\n  let contratas = [];\r\n  if (data && data.length !== 0) {\r\n    let estados = [];\r\n    let newData = [];\r\n    data.forEach((o) => {\r\n      if (o.contrata && o.contrata.nombre) {\r\n        if (!contratas.includes(o.contrata.nombre)) contratas.push(o.contrata.nombre)\r\n      }\r\n    });\r\n    data.forEach((o) => !estados.includes(o.estado) ? estados.push(o.estado): null);\r\n    contratas.forEach((g) => {\r\n      estados.forEach((e) => {\r\n        let numOrdenes = data.filter((d) => {\r\n          if (d.contrata && d.contrata.nombre){\r\n            return d.contrata.nombre === g && d.estado === e\r\n          } else {\r\n            return false;\r\n          }\r\n        }).length;\r\n        newData.push({\r\n          contrata: g,\r\n          estado: e,\r\n          ordenes: numOrdenes,\r\n        });\r\n      })\r\n    });\r\n    return {ordenes: newData, contratas};\r\n  } else {\r\n    return {ordenes: [], contratas} ;\r\n  };\r\n};\r\n\r\nexport function separarGestor(data=[]) {\r\n  let gestores = [];\r\n  if (data && data.length !== 0) {\r\n    let estados = [];\r\n    let newData = [];\r\n    data.forEach((o) => {\r\n      if (o.gestor && o.gestor.nombre) {\r\n        if (!gestores.includes(o.gestor.nombre)) gestores.push(o.gestor.nombre)\r\n      }\r\n    });\r\n    data.forEach((o) => !estados.includes(o.estado) ? estados.push(o.estado): null);\r\n    gestores.forEach((g) => {\r\n      estados.forEach((e) => {\r\n        let numOrdenes = data.filter((d) => {\r\n          if (d.gestor && d.gestor.nombre){\r\n            return d.gestor.nombre === g && d.estado === e\r\n          } else {\r\n            return false;\r\n          }\r\n        }).length;\r\n        newData.push({\r\n          gestor: g,\r\n          estado: e,\r\n          ordenes: numOrdenes,\r\n        });\r\n      })\r\n    });\r\n    return {ordenes: newData, gestores};\r\n  } else {\r\n    return {ordenes: [], gestores} ;\r\n  };\r\n};\r\n\r\nexport function separarMotivo(data=[]) {\r\n  let gestores = [];\r\n  if (data && data.length !== 0) {\r\n    let motivos = [];\r\n    let newData = [];\r\n    data.forEach((o) => {\r\n      if (o.gestor && o.gestor.nombre) {\r\n        if (!gestores.includes(o.gestor.nombre)) gestores.push(o.gestor.nombre)\r\n      } else {\r\n        if (!gestores.includes('-')) gestores.push('-')\r\n      }\r\n    });\r\n    data.forEach((o) => !motivos.includes(o.motivo_no_realizado) ? motivos.push(o.motivo_no_realizado) : null);\r\n    gestores.forEach((g) => {\r\n      motivos.forEach((m) => {\r\n        let numOrdenes = data.filter((d) => {\r\n          if (d.gestor && d.gestor.nombre){\r\n            return d.gestor.nombre === g && d.motivo_no_realizado === m\r\n          } else {\r\n            return false;\r\n          }\r\n        }).length;\r\n        newData.push({\r\n          gestor: g,\r\n          descripcion: m,\r\n          motivo: String(m).substr(9).replace(/-/g, ''),\r\n          ordenes: numOrdenes,\r\n        });\r\n      })\r\n    });\r\n    return {ordenes: newData, gestores};\r\n  } else {\r\n    return {ordenes: [], gestores} ;\r\n  };\r\n};\r\n\r\nexport function ordenarResumen(data=[], tipo) {\r\n  if (data && data.length > 0) {\r\n    let tipos = [];\r\n    let nuevaData = [];\r\n\r\n    data.forEach((d) => { if (!tipos.includes(d[tipo])) tipos.push(d[tipo]) });\r\n\r\n    tipos.filter((e) => e).forEach((e, i) => {\r\n      if (nuevaData.length <= 0) {\r\n        nuevaData = [{\r\n          key: i,\r\n          [tipo]: e,\r\n          completado: data.filter((d) => d.estado === estadosToa.COMPLETADO && e === d[tipo]).length,\r\n          iniciado: data.filter((d) => d.estado === estadosToa.INICIADO && e === d[tipo]).length,\r\n          no_realizada: data.filter((d) => d.estado === estadosToa.NO_REALIZADA && e === d[tipo]).length,\r\n          pendiente: data.filter((d) => d.estado === estadosToa.PENDIENTE && e === d[tipo]).length,\r\n          suspendido: data.filter((d) => d.estado === estadosToa.SUSPENDIDO && e === d[tipo]).length,\r\n          cancelado: data.filter((d) => d.estado === estadosToa.CANCELADO && e === d[tipo]).length,\r\n          total: data.filter((d) => e === d[tipo]).length,\r\n        }]\r\n      } else {\r\n        nuevaData.push({\r\n          key: i,\r\n          [tipo]: e,\r\n          completado: data.filter((d) => d.estado === estadosToa.COMPLETADO && e === d[tipo]).length,\r\n          iniciado: data.filter((d) => d.estado === estadosToa.INICIADO && e === d[tipo]).length,\r\n          no_realizada: data.filter((d) => d.estado === estadosToa.NO_REALIZADA && e === d[tipo]).length,\r\n          pendiente: data.filter((d) => d.estado === estadosToa.PENDIENTE && e === d[tipo]).length,\r\n          suspendido: data.filter((d) => d.estado === estadosToa.SUSPENDIDO && e === d[tipo]).length,\r\n          cancelado: data.filter((d) => d.estado === estadosToa.CANCELADO && e === d[tipo]).length,\r\n          total: data.filter((d) => e === d[tipo]).length,\r\n        })\r\n      }\r\n    })\r\n\r\n    return nuevaData;\r\n  } else {\r\n    return [];\r\n  }\r\n};\r\n\r\nexport function ordenarResumenId(data=[], tipo) {\r\n  if (data && data.length > 0) {\r\n    let tipos = [];\r\n    let nuevaData = [];\r\n\r\n    data.forEach((d) => { if (!tipos.includes(d[tipo].nombre)) tipos.push(d[tipo].nombre) });\r\n\r\n    tipos.filter((e) => e).forEach((e, i) => {\r\n      if (nuevaData.length <= 0) {\r\n        nuevaData = [{\r\n          key: i,\r\n          [tipo]: e,\r\n          completado: data.filter((d) => d.estado === estadosToa.COMPLETADO && e === d[tipo].nombre).length,\r\n          iniciado: data.filter((d) => d.estado === estadosToa.INICIADO && e === d[tipo].nombre).length,\r\n          no_realizada: data.filter((d) => d.estado === estadosToa.NO_REALIZADA && e === d[tipo].nombre).length,\r\n          pendiente: data.filter((d) => d.estado === estadosToa.PENDIENTE && e === d[tipo].nombre).length,\r\n          suspendido: data.filter((d) => d.estado === estadosToa.SUSPENDIDO && e === d[tipo].nombre).length,\r\n          cancelado: data.filter((d) => d.estado === estadosToa.CANCELADO && e === d[tipo].nombre).length,\r\n          total: data.filter((d) => e === d[tipo].nombre).length,\r\n        }]\r\n      } else {\r\n        nuevaData.push({\r\n          key: i,\r\n          [tipo]: e,\r\n          completado: data.filter((d) => d.estado === estadosToa.COMPLETADO && e === d[tipo].nombre).length,\r\n          iniciado: data.filter((d) => d.estado === estadosToa.INICIADO && e === d[tipo].nombre).length,\r\n          no_realizada: data.filter((d) => d.estado === estadosToa.NO_REALIZADA && e === d[tipo].nombre).length,\r\n          pendiente: data.filter((d) => d.estado === estadosToa.PENDIENTE && e === d[tipo].nombre).length,\r\n          suspendido: data.filter((d) => d.estado === estadosToa.SUSPENDIDO && e === d[tipo].nombre).length,\r\n          cancelado: data.filter((d) => d.estado === estadosToa.CANCELADO && e === d[tipo].nombre).length,\r\n          total: data.filter((d) => e === d[tipo].nombre).length,\r\n        })\r\n      }\r\n    })\r\n\r\n    return nuevaData;\r\n  } else {\r\n    return [];\r\n  }\r\n};","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Row, Select, Tabs, Typography } from 'antd';\r\nimport { DatabaseOutlined, UsergroupAddOutlined, UserOutlined } from '@ant-design/icons';\r\n\r\nimport { tipoOrdenes, tipoTecnologia } from '../../../constants/tipoOrden';\r\nimport { bajas, gponAltas, gponAverias, gponRutinas, hfcAltas, hfcAverias, hfcRutinas } from '../../../constants/valoresToa';\r\nimport TabIndicadorActividad from './TabIndicadorActividad';\r\nimport { ordenarResumen, ordenarResumenId, separarBucket, separarContrata, separarGestor } from '../../../libraries/separarField';\r\n\r\n\r\nconst { Option } = Select;\r\nconst { Text } = Typography;\r\nconst { TabPane } = Tabs;\r\n\r\nfunction Index({hora, ordenes=[]}) {\r\n  const [negocio, setNegocio] = useState(tipoOrdenes.AVERIAS);\r\n  const [tecnologia, setTecnologia] = useState(tipoTecnologia.HFC);\r\n  const [ordenesFiltradas, setOrdenesFiltradas] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if(negocio === tipoOrdenes.BAJAS && tecnologia !== 'Todo') setTecnologia('Todo')\r\n    aplicarFiltros();\r\n  //eslint-disable-next-line\r\n  },[ordenes, negocio, tecnologia]);\r\n\r\n  async function aplicarFiltros() {\r\n    if (ordenes && ordenes.length > 0) {\r\n      return new Promise((resolve) => resolve(filtroNegocio(ordenes)))\r\n        .then((data) => filtroTecnologia(data))\r\n        .then((data2) => setOrdenesFiltradas(data2))\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      setOrdenesFiltradas([]);\r\n      return;\r\n    };\r\n  };\r\n\r\n  function filtroNegocio(data=[]) {\r\n    if(!data && data.length < 1) return [];\r\n    const averiaActicidad = [...hfcAverias, ...gponAverias];\r\n    const altaActividad = [...hfcAltas, ...gponAltas];\r\n    const rutinaActicidad = [...hfcRutinas, ...gponRutinas];\r\n\r\n    if (negocio === tipoOrdenes.AVERIAS) {\r\n      return data.filter((e) => e && e.subtipo_actividad && averiaActicidad.includes(e.subtipo_actividad));\r\n    } else if  (negocio === tipoOrdenes.ALTAS) {\r\n      return data.filter((e) => e && e.subtipo_actividad && altaActividad.includes(e.subtipo_actividad));\r\n    } else if (negocio === tipoOrdenes.RUTINAS) {\r\n      return data.filter((e) => e && e.subtipo_actividad && rutinaActicidad.includes(e.subtipo_actividad));\r\n    } else if (negocio === tipoOrdenes.BAJAS) {\r\n      return data.filter((e) => e && e.subtipo_actividad && bajas.includes(e.subtipo_actividad));\r\n    } else {\r\n      return data;\r\n    }\r\n  };\r\n\r\n  function filtroTecnologia(data=[]) {\r\n    if(!data && data.length < 1) return [];\r\n    const hfc = [...hfcAverias,...hfcAltas,...hfcRutinas];\r\n    const gpon = [...gponAverias,...gponAltas,...gponRutinas];\r\n\r\n    if (tecnologia === tipoTecnologia.HFC) {\r\n      return data.filter((e) => e && e.subtipo_actividad && hfc.includes(e.subtipo_actividad));\r\n    } else if (tecnologia === tipoTecnologia.GPON) {\r\n      return data.filter((e) => e && e.subtipo_actividad && gpon.includes(e.subtipo_actividad));\r\n    } else {\r\n      return data;\r\n    };\r\n  };\r\n  \r\n  return (\r\n    <div>\r\n      <div style={{ marginTop: '.5rem' }}>\r\n        <h3>Indicadores de Actividad - {hora}</h3>\r\n        <Row>\r\n          <Col sm={7}>\r\n            <span>Negocio: </span>\r\n            <Select size=\"small\" style={{ width: '100px', marginLeft: '.5rem' }} value={negocio} onChange={(e) => setNegocio(e)}>\r\n              <Option value={tipoOrdenes.AVERIAS}>Averias</Option>\r\n              <Option value={tipoOrdenes.ALTAS}>Altas</Option>\r\n              <Option value={tipoOrdenes.RUTINAS}>Rutinas</Option>\r\n              <Option value={tipoOrdenes.BAJAS}>Bajas</Option>\r\n              <Option value=\"Todo\">Todo</Option>\r\n            </Select>\r\n          </Col>\r\n          <Col sm={7}>\r\n            <span>Tecnología:</span>\r\n            <Select size=\"small\" disabled={negocio === tipoOrdenes.BAJAS} style={{ width: '100px', marginLeft: '.5rem' }} value={tecnologia} onChange={(e) => setTecnologia(e)}>\r\n              <Option value={tipoTecnologia.HFC}>HFC</Option>\r\n              <Option value={tipoTecnologia.GPON}>GPON</Option>\r\n              <Option value=\"Todo\">Todo</Option>\r\n            </Select>\r\n          </Col>\r\n          <Col sm={7}>\r\n            <span>Zona: </span>\r\n            <Text type=\"secondary\">LIMA</Text>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n      <Tabs style={{paddingLeft: '1rem'}} animated={false}>\r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <DatabaseOutlined />\r\n              Bucket\r\n            </span>\r\n          }\r\n          key=\"1\"\r\n        >\r\n          <TabIndicadorActividad \r\n            dataSource={ordenarResumen(ordenesFiltradas, 'bucket')} \r\n            dataChart={separarBucket(ordenesFiltradas).ordenes}\r\n            tipo=\"bucket\" \r\n          />\r\n        </TabPane>\r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <UsergroupAddOutlined />\r\n              Contrata\r\n            </span>\r\n          }\r\n          key=\"2\"\r\n        >\r\n           <TabIndicadorActividad \r\n            dataSource={ordenarResumenId(ordenesFiltradas.filter((d) => d.tecnico && d.contrata), 'contrata')} \r\n            dataChart={separarContrata(ordenesFiltradas.filter((d) => d.tecnico && d.contrata)).ordenes}\r\n            tipo=\"contrata\" \r\n          />\r\n        </TabPane>\r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <UserOutlined />\r\n              Gestor\r\n            </span>\r\n          }\r\n          key=\"3\"\r\n        >\r\n           <TabIndicadorActividad \r\n            dataSource={ordenarResumenId(ordenesFiltradas.filter((d) => d.tecnico && d.gestor), 'gestor')} \r\n            dataChart={separarGestor(ordenesFiltradas.filter((d) => d.tecnico && d.gestor)).ordenes}\r\n            tipo=\"gestor\" \r\n          />\r\n        </TabPane>\r\n      </Tabs>\r\n    </div>\r\n  )\r\n};\r\n\r\nIndex.propTypes = {\r\n  hora: PropTypes.string,\r\n  ordenes: PropTypes.array\r\n};\r\n\r\nexport default Index;\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Progress, Row, Statistic, Tooltip } from 'antd';\r\nimport { AlertOutlined, CheckCircleOutlined } from '@ant-design/icons';\r\n\r\nimport colores from '../../../constants/colores'\r\n\r\nfunction IndicadorPorcentaje({hora, plazo, vencidas, porcentaje}) {\r\n  return (\r\n    <Col sm={12}style={{ justifyContent: 'center', textAlign: 'center' }} >\r\n      <h4>Plazo {hora}h</h4>\r\n      <Row gutter={16} style={{ margin: '1rem 0' }}>\r\n        <Col sm={12} >\r\n          <Tooltip title={`${plazo} En plazo / ${vencidas} Vencidas`}>\r\n            <Progress\r\n              format={(p) => p + '%'}\r\n              strokeColor={porcentaje < 50 ? colores.error : porcentaje >= 50 && porcentaje < 70 ? colores.warning : colores.success}\r\n              percent={porcentaje} \r\n              strokeWidth={10}\r\n              width={160}\r\n              gapDegree={80}\r\n              trailColor=\"#CCCCFF\"\r\n              type=\"dashboard\" \r\n              showInfo\r\n            />\r\n          </Tooltip>\r\n        </Col>\r\n        <Col sm={12}>\r\n          <Row style={{marginBottom: '.5rem'}}>\r\n            <Statistic\r\n              title=\"En plazo\"\r\n              value={plazo}\r\n              valueStyle={{ color: colores.success }}\r\n              prefix={<CheckCircleOutlined />}\r\n            />\r\n          </Row>\r\n          <Row style={{marginBottom: '.5rem'}}>\r\n            <Statistic\r\n              title=\"Vencidas\"\r\n              value={vencidas}\r\n              valueStyle={{ color: colores.error }}\r\n              prefix={<AlertOutlined />}\r\n            />\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </Col>\r\n  )\r\n};\r\n\r\nIndicadorPorcentaje.propTypes = {\r\n  hora: PropTypes.number,\r\n  plazo: PropTypes.number,\r\n  vencidas: PropTypes.number,\r\n  porcentaje: PropTypes.number,\r\n};\r\n\r\nexport default IndicadorPorcentaje;\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Table, Tag, Typography } from 'antd';\r\nimport moment from 'moment';\r\n\r\nconst { Text } = Typography;\r\n\r\nfunction ModalDetalleOrden({ordenes=[], visible, abrir, horas}) {\r\n\r\n  const columnasDetalle = [\r\n    {\r\n      title: '#',\r\n      width: 40,\r\n      align: 'center',\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Requerimiento',\r\n      dataIndex: 'requerimiento',\r\n      width: 115,\r\n      align: 'center',\r\n      render: (r) => <Text copyable>{r}</Text>\r\n    },\r\n    {\r\n      title: 'Cliente',\r\n      dataIndex: 'codigo_cliente',\r\n      width: 100,\r\n      align: 'center',\r\n      render: (r) => <Text copyable>{r}</Text>\r\n    },\r\n    {\r\n      title: 'Gestor',\r\n      dataIndex: 'gestor',\r\n      width: 180,\r\n      ellipsis: true,\r\n      render: (t) => t && t.nombre ? <Text>{`${t.nombre} ${t.apellidos}`}</Text> : '-'\r\n    },\r\n    {\r\n      title: 'Tecnico',\r\n      dataIndex: 'tecnico',\r\n      width: 180,\r\n      ellipsis: true,\r\n      render: (t) => t && t.nombre ? <Text>{`${t.nombre} ${t.apellidos}`}</Text> : '-'\r\n    },\r\n    {\r\n      title: 'Carnet',\r\n      dataIndex: 'carnet',\r\n      width: 80,\r\n      align: 'center'\r\n    },\r\n    {\r\n      title: 'Actividad',\r\n      dataIndex: 'subtipo_actividad',\r\n      width: 220,\r\n    },\r\n    {\r\n      title: 'Tipo de Cita',\r\n      dataIndex: 'tipo_cita',\r\n      width: 150,\r\n    },\r\n    {\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro_legados',\r\n      width: 120,\r\n      align: 'center',\r\n      render: (f) => moment(f).format('DD/MM/YY HH:mm')\r\n    },\r\n    {\r\n      title: 'Fecha Liquidado',\r\n      dataIndex: 'fecha_pre_no_realizado',\r\n      width: 120,\r\n      align: 'center',\r\n      render: (f) => moment(f).format('DD/MM/YY HH:mm')\r\n    },\r\n    {\r\n      title: 'Horas',\r\n      dataIndex: 'fecha_registro_legados',\r\n      width: 60,\r\n      align: 'center',\r\n      render: (f, row) => {\r\n        let a = moment(row.fecha_pre_no_realizado).diff(f, 'hour');\r\n        if (a < horas) {\r\n          return <Tag color=\"success\">{a}</Tag>\r\n        } else {\r\n          return <Tag color=\"error\">{a}</Tag>\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Lista de Ordenes\"\r\n      visible={visible}\r\n      onOk={abrir}\r\n      onCancel={abrir}\r\n      footer={false}\r\n      width=\"85vw\"\r\n      centered\r\n    >\r\n      <Table\r\n        rowKey=\"requerimiento\"\r\n        dataSource={ordenes}\r\n        columns={columnasDetalle}\r\n        pagination={{\r\n          pageSize: 50\r\n        }}\r\n        size=\"small\"\r\n        bordered\r\n        scroll={{ y: '60vh', x: '80vw' }}\r\n      />\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalDetalleOrden.propTypes = {\r\n  ordenes: PropTypes.array,\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  horas: PropTypes.number\r\n};\r\n\r\nexport default ModalDetalleOrden;\r\n\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { Chart, Tooltip, Legend, Facet } from \"bizcharts\";\r\nimport { Spin } from \"antd\";\r\nimport { green } from '@ant-design/colors';\r\n\r\nimport ModalDetalleOrden from \"./ModalDetalleOrden\";\r\n\r\nexport default function TablaDetalle({data=[], paddingLeft, height}) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [modalDetalle, setModalDetalle] = useState(false);\r\n  const [ordenesDetalle, setOrdenesDetalle] = useState([]);\r\n  const [horas, setHoras] = useState(0);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    setTimeout(() => {\r\n      setLoading(false)\r\n    }, 80);\r\n  },[data, modalDetalle]);\r\n\r\n  const abrirDetalle = (data) => {\r\n    if (data && data.data) {\r\n      if (data.data.indexCode === \"Plazo 72h\") {\r\n        setHoras(72);\r\n      } else {\r\n        setHoras(24);\r\n      }\r\n      setOrdenesDetalle(data.data.ordenes);\r\n      abrirModalDetalle();\r\n    };\r\n  };\r\n\r\n  const abrirModalDetalle = () => setModalDetalle(!modalDetalle);\r\n\r\n  const indexNameColorMap = {\r\n    \"Averias 24h\": {\r\n      title: \"Averias 24h\",\r\n      color: green[4],\r\n    },\r\n    \"Plazo 72h\": {\r\n      title: \"Plazo 72h\",\r\n      color: green[4],\r\n    },\r\n  };\r\n\r\n  const typeNameMap = {\r\n    plazo: 'Plazo',\r\n    vencido: 'Vencido'\r\n  };\r\n  \r\n  if (loading || !data || data.length < 1) {\r\n    return (\r\n      <div \r\n        style={{ \r\n          width: '100%', \r\n          height: height,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}\r\n      >\r\n        <Spin spinning tip=\"Cargando...\" size=\"large\"/>\r\n      </div>\r\n    )\r\n  } else {\r\n    return (\r\n      <Chart\r\n        autoFit\r\n        data={data}\r\n        height={height}\r\n        padding={[20, 20, 20, paddingLeft]}\r\n        appendPadding={[10]}\r\n        onClick={({data}) => abrirDetalle(data)}\r\n      >\r\n        <Legend visible={true} itemName={{\r\n          formatter: (text, item) => {\r\n            return typeNameMap[text];\r\n          }\t\r\n        }} />\r\n        <Tooltip showMarkers={false} />\r\n        <Facet\r\n          fields={[\"indexCode\"]}\r\n          type=\"rect\"\r\n          columnTitle={{\r\n            offsetY: -15,\r\n            style: {\r\n              fontSize: 14,\r\n              fontWeight: 300,\r\n              fill: \"#505050\",\r\n            },\r\n            formatter: (val) => {\r\n              return indexNameColorMap[val].title;\r\n            },\r\n          }}\r\n          eachView={(view, facet) => {\r\n            view.coordinate().transpose();\r\n  \r\n            if (facet.columnIndex === 0) {\r\n              view.axis(\"nombre\", {\r\n                tickLine: null,\r\n                line: null,\r\n              });\r\n              view.axis(\"value\", false);\r\n            } else {\r\n              view.axis(false);\r\n            }\r\n            const color = indexNameColorMap[facet.columnValue].color;\r\n            view\r\n              .interval()\r\n              .adjust(\"stack\")\r\n              .position(\"nombre*value\")\r\n              .color(\"type\", [color, \"#FFE2DC\"])\r\n              .size(20)\r\n              .label(\"value*type\", (value, type) => {\r\n                if (type === \"vencido\") {\r\n                  return null;\r\n                }\r\n                const offset = value < 30 ? 10 : -4;\r\n                return {\r\n                  content: `${value}%`,\r\n                  offset,\r\n                };\r\n              })\r\n              .tooltip(\r\n                \"nombre*value*indexCode*type*ordenes\",\r\n                (nombre, value, indexCode, type, ordenes) => {\r\n                  return {\r\n                    title: nombre,\r\n                    value: `${type} : ${ordenes.length}`,\r\n                    name: indexCode,\r\n                  };\r\n                }\r\n              );\r\n            view.interaction(\"element-active\");\r\n          }}\r\n        />\r\n        <ModalDetalleOrden ordenes={ordenesDetalle} abrir={abrirModalDetalle} visible={modalDetalle} horas={horas} />\r\n      </Chart>\r\n       \r\n    );\r\n  };\r\n};\r\n\r\nTablaDetalle.propTypes = {\r\n  data: PropTypes.array,\r\n  paddingLeft: PropTypes.number,\r\n  height: PropTypes.number\r\n};\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Row, Checkbox, Tabs } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport { gponAltas, gponAverias, hfcAltas, hfcAverias } from '../../../constants/valoresToa';\r\nimport IndicadorPorcentaje from './IndicadorPorcentaje';\r\nimport { DatabaseOutlined, UsergroupAddOutlined, UserOutlined } from '@ant-design/icons';\r\nimport TablaDetalle from './TablaDetalle';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nfunction Index({ordenes=[], hora}) {\r\n  const [altas, setAltas] = useState({plazo:[], vencidas: [], porcentaje: 0});\r\n  const [averias, setAverias] = useState({plazo:[], vencidas: [], porcentaje: 0});\r\n  const [tipoAgenda, setTipoAgenda] = useState(false);\r\n  const [bucketDetalle, setBucketDetalle] = useState([]);\r\n  const [contrataDetalle, setContrataDetalle] = useState([]);\r\n  const [gestorDetalle, setGestorDetalle] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (ordenes && ordenes.length > 0) {\r\n      filtrarOrdenes();\r\n      // filtrarBucket();\r\n    } else {\r\n      setAltas({plazo:[], vencidas: [], porcentaje: 0});\r\n      setAverias({plazo:[], vencidas: [], porcentaje: 0});\r\n    }\r\n  //eslint-disable-next-line\r\n  },[ordenes, tipoAgenda]);\r\n  // && String(e.tipo_cita).toLowerCase() !== 'telefónica'\r\n  function filtrarOrdenes() {\r\n    const averiasActividad = [...hfcAverias, ...gponAverias];\r\n    const altasActividad = [...hfcAltas, ...gponAltas];\r\n    const todoOrdenes = [...averiasActividad, ...altasActividad];\r\n    let ordenesAgendas = tipoAgenda ? \r\n      ordenes.filter((e) => todoOrdenes.includes(e.subtipo_actividad) && String(e.tipo_cita).toLowerCase() === \"telefónica\")\r\n    : \r\n      ordenes.filter((e) => todoOrdenes.includes(e.subtipo_actividad));\r\n    const averiasTCFL = obtenerTcfl(ordenesAgendas.filter((e) => averiasActividad.includes(e.subtipo_actividad)), 24);\r\n    const altasTCFL = obtenerTcfl(ordenesAgendas.filter((e) => altasActividad.includes(e.subtipo_actividad)), 72);\r\n\r\n    try {\r\n      filtrarBucket(ordenesAgendas, averiasTCFL, altasTCFL);\r\n      filtrarContrata(ordenesAgendas, averiasTCFL, altasTCFL);\r\n      filtrarGestor(ordenesAgendas, averiasTCFL, altasTCFL);\r\n    } catch (error) {\r\n      console.log(error);\r\n    };\r\n    setAverias(averiasTCFL);\r\n    setAltas(altasTCFL);\r\n  };\r\n\r\n  function obtenerTcfl(data, hora) {\r\n    const plazo = data.filter((e) => moment(e.fecha_pre_no_realizado).diff(e.fecha_registro_legados, 'hour') < hora);\r\n    const vencidas = data.filter((e) => moment(e.fecha_pre_no_realizado).diff(e.fecha_registro_legados, 'hour') >= hora);\r\n    const porcentaje = Math.round((plazo.length*100) / (plazo.length + vencidas.length) );\r\n    \r\n    return {plazo, vencidas, porcentaje}\r\n  };\r\n\r\n  function filtrarBucket(data, averiasTCFL, altasTCFL) {\r\n    let buckets = [];\r\n    let bucketsChart = [];\r\n    data.forEach((e) => {\r\n      if (!buckets.includes(e.bucket)) {\r\n        buckets.push(e.bucket)\r\n      }\r\n    });\r\n    buckets.filter(e => e).forEach((e) => {\r\n      let averiasPlazo = averiasTCFL.plazo.filter((obj) => obj && obj.bucket === e);\r\n      let averiasVencidas = averiasTCFL.vencidas.filter((obj) => obj && obj.bucket === e);\r\n      let altasPlazo = altasTCFL.plazo.filter((obj) => obj && obj.bucket === e);\r\n      let altasVencidas = altasTCFL.vencidas.filter((obj) => obj && obj.bucket === e);\r\n      \r\n      bucketsChart.push(...generarObjeto(String(e).substring(6), averiasPlazo, averiasVencidas, altasPlazo, altasVencidas))\r\n    })\r\n    setBucketDetalle(bucketsChart);\r\n  };\r\n\r\n  function filtrarContrata(data, averiasTCFL, altasTCFL) {\r\n    let contratas = [];\r\n    let contratasChart = [];\r\n    data.forEach((e) => {\r\n      if (e.contrata && !contratas.includes(e.contrata.nombre)) {\r\n        contratas.push(e.contrata.nombre)\r\n      }\r\n    });\r\n    contratas.filter(e => e).forEach((e) => {\r\n      let averiasPlazo = averiasTCFL.plazo.filter((obj) => obj && obj.contrata && obj.contrata.nombre === e);\r\n      let averiasVencidas = averiasTCFL.vencidas.filter((obj) => obj && obj.contrata && obj.contrata.nombre === e);\r\n      let altasPlazo = altasTCFL.plazo.filter((obj) => obj && obj.contrata && obj.contrata.nombre === e);\r\n      let altasVencidas = altasTCFL.vencidas.filter((obj) => obj && obj.contrata && obj.contrata.nombre === e);\r\n      \r\n      contratasChart.push(...generarObjeto(e, averiasPlazo, averiasVencidas, altasPlazo, altasVencidas))\r\n    })\r\n    setContrataDetalle(contratasChart);\r\n  };\r\n\r\n  function filtrarGestor(data, averiasTCFL, altasTCFL) {\r\n    let gestores = [];\r\n    let gestoresChart = [];\r\n    data.forEach((e) => {\r\n      if (e.gestor && !gestores.includes(e.gestor.nombre)) {\r\n        gestores.push(e.gestor.nombre)\r\n      }\r\n    });\r\n    gestores.filter(e => e).forEach((e) => {\r\n      let averiasPlazo = averiasTCFL.plazo.filter((obj) => obj && obj.gestor && obj.gestor.nombre === e);\r\n      let averiasVencidas = averiasTCFL.vencidas.filter((obj) => obj && obj.gestor && obj.gestor.nombre === e);\r\n      let altasPlazo = altasTCFL.plazo.filter((obj) => obj && obj.gestor && obj.gestor.nombre === e);\r\n      let altasVencidas = altasTCFL.vencidas.filter((obj) => obj && obj.gestor && obj.gestor.nombre === e);\r\n      \r\n      gestoresChart.push(...generarObjeto(e, averiasPlazo, averiasVencidas, altasPlazo, altasVencidas))\r\n    })\r\n    setGestorDetalle(gestoresChart);\r\n  };\r\n\r\n  function generarObjeto(e, averiasPlazo, averiasVencidas, altasPlazo, altasVencidas) {\r\n    return [{\r\n      indexCode: \"Averias 24h\",\r\n      nombre: e,\r\n      type: \"plazo\",\r\n      ordenes: averiasPlazo,\r\n      value: Math.round((averiasPlazo.length * 100) / (averiasPlazo.length + averiasVencidas.length)),\r\n    },{\r\n      indexCode: \"Averias 24h\",\r\n      nombre: e,\r\n      type: \"vencido\",\r\n      ordenes: averiasVencidas,\r\n      value: Math.round((averiasVencidas.length * 100) / (averiasPlazo.length + averiasVencidas.length)),\r\n    },{\r\n      indexCode: \"Plazo 72h\",\r\n      nombre: e,\r\n      type: \"plazo\",\r\n      ordenes: altasPlazo,\r\n      value: Math.round((altasPlazo.length * 100) / (altasPlazo.length + altasVencidas.length)),\r\n    },{\r\n      indexCode: \"Plazo 72h\",\r\n      nombre: e,\r\n      type: \"vencido\",\r\n      ordenes: altasVencidas,\r\n      value: Math.round((altasVencidas.length * 100) / (altasPlazo.length + altasVencidas.length)),\r\n    }]\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginTop: '.5rem' }}>\r\n      <h3>Indicadores TCFL - {hora}</h3>\r\n      <Checkbox checked={tipoAgenda} onChange={(e) => setTipoAgenda(e.target.checked)}/> Excluir Agendas\r\n      <Row style={{ margin: '1rem 0' }}>\r\n        <IndicadorPorcentaje hora={24} plazo={averias.plazo.length} vencidas={averias.vencidas.length} porcentaje={averias.porcentaje}/>\r\n        <IndicadorPorcentaje hora={72} plazo={altas.plazo.length} vencidas={altas.vencidas.length} porcentaje={altas.porcentaje}/>\r\n      </Row>\r\n      <Tabs style={{paddingLeft: '1rem'}} animated={false}>\r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <DatabaseOutlined />\r\n              Bucket\r\n            </span>\r\n          }\r\n          key=\"1\"\r\n        >\r\n          <TablaDetalle data={bucketDetalle} paddingLeft={120} height={350}/>\r\n        </TabPane>\r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <UsergroupAddOutlined />\r\n              Contrata\r\n            </span>\r\n          }\r\n          key=\"2\"\r\n        >\r\n           <TablaDetalle data={contrataDetalle} paddingLeft={190} height={350}/>\r\n        </TabPane>\r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <UserOutlined />\r\n              Gestor\r\n            </span>\r\n          }\r\n          key=\"3\"\r\n        >\r\n          <TablaDetalle data={gestorDetalle} paddingLeft={120} height={750}/>\r\n        </TabPane>\r\n      </Tabs>\r\n    </div>\r\n  )\r\n};\r\n\r\nIndex.propTypes = {\r\n  ordenes: PropTypes.array,\r\n  hora: PropTypes.string\r\n};\r\n\r\nexport default Index;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Row, Select } from 'antd';\r\nimport ChartProduccion from '../ChartProduccion';\r\nimport { tipoOrdenes } from '../../../constants/tipoOrden';\r\n\r\nconst { Option } = Select;\r\n\r\nconst todo = \"Todo\";\r\n\r\nfunction Index({ordenes=[], hora}) {\r\n  const [listaContratas, setListaContratas] = useState([]);\r\n  const [contrataSeleccionada, setContrataSeleccionada] = useState(todo);\r\n  const [filtradosAverias, setFiltradosAverias] = useState([]);\r\n  const [filtradosAltas, setFiltradosAltas] = useState([]);\r\n  const [heightChart, setHeightChart] = useState(500);\r\n\r\n  useEffect(() => {\r\n    listarContratas();\r\n    filtrarData();\r\n  //eslint-disable-next-line\r\n  },[ordenes]);\r\n\r\n  useEffect(() => {\r\n    filtrarData();\r\n  //eslint-disable-next-line\r\n  },[contrataSeleccionada]);\r\n\r\n  useEffect(() => {\r\n    if (filtradosAverias.length > 0 || filtradosAltas.length > 0) {\r\n      const tamaño = filtradosAverias.length > filtradosAltas.length ? filtradosAverias.length : filtradosAltas.length;\r\n      setHeightChart(tamaño > 35 ? tamaño*19 : tamaño*23)\r\n    } else {\r\n      setHeightChart(400)\r\n    }\r\n  },[filtradosAverias, filtradosAltas])\r\n\r\n  async function listarContratas() {\r\n    if (ordenes && ordenes.length > 0) {\r\n      let contratas = [\"Todo\"];\r\n      ordenes.forEach((e) => {\r\n        if (e.contrata && e.contrata.nombre && !contratas.includes(e.contrata.nombre)) {\r\n          contratas.push(e.contrata.nombre);\r\n        }\r\n      });\r\n      setListaContratas(contratas.filter((e) => e));\r\n    };\r\n  };\r\n\r\n  async function filtrarData() {\r\n    if (ordenes && ordenes.length > 0) {\r\n      const averias = ordenes.filter((e) => e.tipo === tipoOrdenes.AVERIAS);\r\n      const altas = ordenes.filter((e) => e.tipo === tipoOrdenes.ALTAS);\r\n      \r\n      setFiltradosAverias(filtrarOrdenes(averias));\r\n      setFiltradosAltas(filtrarOrdenes(altas));\r\n    } else {\r\n      setFiltradosAverias([]);\r\n      setFiltradosAltas([]);\r\n    }\r\n  };\r\n\r\n  function filtrarOrdenes(data) {\r\n    let tecnicos = [];\r\n    let apellidos = [];\r\n    let obj = [{\r\n      nombre: false,\r\n      tecnico: false,\r\n      cantidad: false\r\n    }]\r\n\r\n    data.forEach((e) => {\r\n      let condicion = contrataSeleccionada === todo ? true : e.contrata.nombre === contrataSeleccionada;\r\n      if (condicion && !tecnicos.includes(`${e.tecnico.nombre} ${e.tecnico.apellidos}`)) {\r\n        tecnicos.push(`${e.tecnico.nombre} ${e.tecnico.apellidos}`);\r\n        apellidos.push(e.tecnico.apellidos)\r\n      }\r\n    });\r\n    apellidos = apellidos.filter(e => e);\r\n    tecnicos.filter(e => e).forEach((t) => {\r\n      const ordenesF = data.filter((e) => {\r\n        let condicion = contrataSeleccionada === todo ? true : e.contrata.nombre === contrataSeleccionada;\r\n        return ((e.tecnico.nombre+' '+e.tecnico.apellidos) === t && condicion)\r\n      });\r\n      const aux =  String(ordenesF[0].tecnico.nombre).substring(0,1)+'. '+ordenesF[0].tecnico.apellidos;\r\n      const nombre = String(aux).length > 20 ? String(aux).substring(0,20) + '...' : String(aux);\r\n      obj.push({\r\n        nombre: nombre.replace(/ {3}/g,\" \"),\r\n        tecnico: String(t).replace(/ {3}/g,\" \"),\r\n        cantidad: ordenesF.length\r\n      })\r\n    });\r\n    obj = obj.filter(e => e.nombre)\r\n    return obj;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ marginTop: '.5rem' }}>\r\n        <h3>Indicadores de Producción - {hora}</h3>\r\n        <Row style={{ marginTop: '1rem' }}>\r\n          <span>Contrata: </span>\r\n          <Select size=\"small\" style={{ width: '260px', marginLeft: '.5rem' }} value={contrataSeleccionada} onChange={(e) => setContrataSeleccionada(e)}>\r\n          {\r\n            listaContratas.length > 0 ?\r\n            listaContratas.map((c, i) => (\r\n              <Option key={i} value={c}>{c}</Option>\r\n            )):\r\n            <Option value={0}>-</Option>\r\n          }\r\n          </Select>\r\n        </Row>\r\n      </div>\r\n      <Row style={{ margin: '1rem 0' }}>\r\n        <Col sm={12} style={{ textAlign: 'center', margin: 0, padding: 0 }}>\r\n          <h4>Averias</h4>\r\n          <ChartProduccion data={filtradosAverias} field=\"tecnico\" height={heightChart} paddinLeft={180}/>\r\n        </Col>\r\n        <Col sm={12} style={{ textAlign: 'center', margin: 0, padding: 0 }}>\r\n          <h4>Altas</h4>\r\n          <ChartProduccion data={filtradosAltas} field=\"tecnico\" height={heightChart} paddinLeft={180}/>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n};\r\n\r\nIndex.propTypes = {\r\n  ordenes: PropTypes.array,\r\n  hora: PropTypes.string,\r\n};\r\n\r\nexport default Index;\r\n\r\n","import { rutas as listaRutas } from '../constants/listaRutas';\r\nimport ResumenGeneral from '../views/Dashboard/ResumenGeneral';\r\n\r\nconst rutas = [\r\n  {\r\n    path: listaRutas.resumenGeneral,\r\n    exact: true,\r\n    component: ResumenGeneral\r\n  }\r\n]\r\n\r\nexport default rutas","import React, { useState, useEffect } from 'react';\r\nimport cogoToast from 'cogo-toast';\r\nimport moment from 'moment';\r\n\r\nimport { socket } from '../../services/socket';\r\nimport Contenedor from '../../components/common/Contenedor';\r\nimport TituloVista from '../../components/common/TituloContent';\r\nimport IndicadoresLiquidacion from '../../components/dashboard/IndicadoresLiquidacion';\r\nimport IndicadoresActividad from '../../components/dashboard/IndicadoresActividad';\r\nimport IndicadoresTCFL from '../../components/dashboard/IndicadoresTCFL';\r\nimport IndicadoresProduccion from '../../components/dashboard/IndicadoresProduccion';\r\nimport { estadosToa } from '../../constants/valoresToa';\r\n\r\nexport default function ResumenGeneral() {\r\n  const [ordenes, setOrdenes] = useState([]);\r\n  const [horaActualizado, setHoraActualizado] = useState('');\r\n\r\n  useEffect(() => {\r\n    socket.emit('obtenerOrdenes');\r\n    \r\n    socket.on('ordenesGraficos', ({averias, altas, hora}) => {\r\n      const jsonAverias = new Array(JSON.parse(averias));\r\n      const jsonAltas = new Array(JSON.parse(altas));\r\n      if (hora && moment(new Date(hora)).isValid()) setHoraActualizado(moment(new Date(hora)).format('HH:mm'));\r\n      if(jsonAverias && jsonAverias[0] && jsonAverias[0].length > 0\r\n        && jsonAltas && jsonAltas[0] && jsonAltas[0].length > 0) setOrdenes([...jsonAverias[0], ...jsonAltas[0]]);\r\n    });\r\n\r\n    socket.on('error', (e) => {\r\n      console.log(e);\r\n      cogoToast.error('Error conectando al servidor.', { position: 'top-left' })\r\n    });\r\n\r\n    return () => {\r\n      socket.off('ordenesGraficos');\r\n    };\r\n    // eslint-disable-next-line\r\n  },[]);\r\n\r\n  return (\r\n    <div>\r\n      <TituloVista titulo=\"Resumen General\" subtitulo=\"Dashboard\"/>\r\n      <IndicadoresLiquidacion ordenes={ordenes} hora={horaActualizado}/>\r\n      <Contenedor>\r\n        <IndicadoresActividad ordenes={ordenes} hora={horaActualizado} />\r\n      </Contenedor>\r\n      <Contenedor>\r\n        <IndicadoresTCFL \r\n          ordenes={ordenes.filter((e) => e.estado_toa === estadosToa.COMPLETADO)} \r\n          hora={horaActualizado}\r\n        />\r\n      </Contenedor>\r\n      <Contenedor>\r\n        <IndicadoresProduccion \r\n          ordenes={ordenes.filter((e) => e.estado_toa === estadosToa.COMPLETADO && e.contrata && e.contrata.nombre)}\r\n          hora={horaActualizado}\r\n        />\r\n      </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","import { restPrivate } from './requestHelper';\r\n\r\n/**\r\n * @param {boolean} toast false si debe buscar sin mostrar avisos\r\n */\r\nexport const getAreas = async (toast) => restPrivate({\r\n  url: 'areas', method: 'GET'\r\n}, toast);\r\n\r\n/**\r\n * @param {object} data \r\n * @param {string} data.metodo\r\n * @param {object} data.data\r\n */\r\nexport const postArea = async (data) => restPrivate({\r\n  url: 'areas', method: 'POST', data\r\n}, true);\r\n\r\n/**\r\n * @param {string} id \r\n * @param {object} data \r\n * @param {string} data.metodo\r\n * @param {object} data.data\r\n */\r\nexport const putArea = async (id, data) => restPrivate({\r\n  url: 'areas/' + id, method: 'PUT', data\r\n}, true);\r\n/**\r\n * \r\n * @param {string} id id de la contrata\r\n * @param {string} metodo metodo a enviar\r\n */\r\nexport const deleteArea = async (id, metodo) => restPrivate({\r\n  url: 'areas/' + id, method: 'DELETE', data: { metodo }\r\n}, true)\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Input, Modal } from 'antd';\r\n\r\nconst { TextArea } = Input;\r\n\r\nfunction ModalArea({obj={}, visible, abrir, guardar}) {\r\n  const [nombre, setNombre] = useState(null);\r\n  const [descripcion, setDescripcion] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (obj && obj.nombre) {\r\n      setNombre(obj.nombre);\r\n      setDescripcion(obj.descripcion)\r\n    } else {\r\n      setNombre(null);\r\n      setDescripcion(null);\r\n    }\r\n  //eslint-disable-next-line\r\n  },[obj]);\r\n\r\n  return (\r\n    <Modal\r\n      visible={visible}\r\n      onOk={abrir}\r\n      onCancel={abrir}\r\n      width={350}\r\n      centered\r\n      destroyOnClose\r\n    >\r\n      <h3>Nombre</h3>\r\n      <Input \r\n        value={nombre}\r\n        size=\"small\"\r\n        onChange={(e) => setNombre(e.target.value)}\r\n        placeholder=\"Nombre\"\r\n      /><br/><br/>\r\n      <h3>Descripción</h3>\r\n      <TextArea\r\n        value={descripcion}\r\n        rows={4}\r\n        onChange={(e) => setDescripcion(e.target.value)}\r\n        placeholder=\"Descripción\"\r\n      />\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalArea.propTypes = {\r\n  obj: PropTypes.object,\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func\r\n};\r\n\r\nexport default ModalArea;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Popconfirm, Table } from 'antd';\r\nimport { DeleteTwoTone, EditTwoTone, LoadingOutlined, SaveOutlined } from '@ant-design/icons';\r\n\r\nimport colores from '../../../constants/colores';\r\nimport { getAreas } from '../../../services/apiAreas';\r\nimport ModalArea from './ModalArea';\r\n\r\nexport default function ConfiguracionAreas() {\r\n  const [listaAreas, setListaAreas] = useState([]);\r\n  const [loadingAreas, setLoadingAreas] = useState(false);\r\n  const [loadingCrear, setLoadingCrear] = useState(false);\r\n  const [modalArea, setModalArea] = useState(false);\r\n  const [objArea, setObjArea] = useState({});\r\n\r\n  useEffect(() => {\r\n    listarAreas();\r\n  },[]);\r\n\r\n  async function listarAreas() {\r\n    setLoadingAreas(true);\r\n    return await getAreas(true).then(({data}) => {\r\n      if (data && data.length > 0) {\r\n        setListaAreas(data);\r\n      }\r\n    }).catch((err) => console.log(err)).finally(() => setLoadingAreas(false));\r\n  };\r\n\r\n  const abrirModalArea = () => setModalArea(!modalArea);\r\n\r\n  const editarArea = (row) => {\r\n    setObjArea(row);\r\n    abrirModalArea();\r\n  };\r\n\r\n  const crearArea = (row) => {\r\n    setObjArea({});\r\n    abrirModalArea();\r\n  };\r\n\r\n  const columnas = [\r\n    {\r\n      title: \"Id\",\r\n      dataIndex: \"_id\",\r\n      width: 130\r\n    },\r\n    {\r\n      title: \"Nombre\",\r\n      dataIndex: \"nombre\",\r\n      width: 100\r\n    },\r\n    {\r\n      title: \"Descripción\",\r\n      dataIndex: \"descripcion\",\r\n    },\r\n    {\r\n      title: \"Actualizar\",\r\n      dataIndex: \"_id\",\r\n      align: \"center\",\r\n      width: 100,\r\n      render: (id, row) => <div>\r\n        <EditTwoTone\r\n          onClick={() => editarArea(row)}\r\n          style={{ fontSize: \"1.2rem\", cursor: \"pointer\", marginRight: \".5rem\" }}\r\n          twoToneColor={colores.warning}\r\n        />\r\n        <Popconfirm\r\n          placement=\"topRight\"\r\n          title=\"Esta acción será permanente. ¿Deseas continuar?\"\r\n          // onConfirm={confirm}\r\n          okText=\"Yes\"\r\n          cancelText=\"No\"\r\n        >\r\n          <DeleteTwoTone\r\n            style={{ fontSize: \"1.2rem\", cursor: \"pointer\" }}\r\n            twoToneColor={colores.error}\r\n          />\r\n        </Popconfirm>\r\n      </div>\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <h3 style={{ marginTop: '.5em' }}>Configuracion de Areas</h3>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        title={() => <div>\r\n            <Button\r\n              icon={ loadingCrear ? <LoadingOutlined sping/> : <SaveOutlined/> }\r\n              onClick={crearArea}\r\n              size=\"small\"\r\n              type=\"primary\"\r\n            >\r\n              Agregar\r\n            </Button>\r\n          </div>\r\n        }\r\n        dataSource={listaAreas}\r\n        columns={columnas}\r\n        loading={loadingAreas}\r\n        size=\"small\"\r\n        pagination={false}\r\n        style={{ marginBottom: '1rem'}}\r\n      />\r\n      <ModalArea obj={objArea} abrir={abrirModalArea} visible={modalArea}/>\r\n    </div>\r\n  )\r\n};\r\n","import { restPrivate } from './requestHelper';\r\n/**\r\n * @param {boolean} toast false si debe buscar sin mostrar avisos\r\n */\r\nexport const getCargos = async (toast) => restPrivate({\r\n  url: 'cargos', method: 'GET'\r\n}, toast);\r\n\r\n/**\r\n * @param {object} data \r\n * @param {string} data.metodo\r\n * @param {object} data.data\r\n * @param {string} data.data.nombre\r\n * @param {number} data.data.nivel\r\n */\r\nexport const postCargo = async (data) => restPrivate({\r\n  url: 'cargos', method: 'POST', data\r\n}, true);\r\n\r\n/**\r\n * \r\n * @param {string} id \r\n * @param {object} data \r\n * @param {string} data.metodo\r\n * @param {object} data.data\r\n * @param {string} data.data.nombre\r\n * @param {number} data.data.nivel\r\n */\r\nexport const putCargo = async (id, data) => restPrivate({\r\n  url: 'cargos/' + id, method: 'PUT', data\r\n}, true);\r\n/**\r\n * \r\n * @param {string} id id de la contrata\r\n * @param {string} metodo metodo a enviar\r\n */\r\nexport const deleteCargo = async (id, metodo) => restPrivate({\r\n  url: 'cargos/' + id, method: 'DELETE', data: { metodo }\r\n}, true)\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Input, InputNumber, Modal } from 'antd';\r\n\r\nfunction ModalCargo({obj={}, visible, abrir, guardar}) {\r\n  const [id, setId] = useState(null);\r\n  const [nombre, setNombre] = useState(null);\r\n  const [nivel, setNivel] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setId(null);\r\n    setNombre(null);\r\n    setNivel(null);\r\n  //eslint-disable-next-line\r\n  },[]);\r\n\r\n  useEffect(() => {\r\n    if (obj && obj.nombre) {\r\n      setId(obj._id)\r\n      setNombre(obj.nombre);\r\n      setNivel(obj.nivel);\r\n    }\r\n  //eslint-disable-next-line\r\n  },[obj])\r\n\r\n  async function guardarCambios() {\r\n    return await guardar(id, nombre, nivel)\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      visible={visible}\r\n      onOk={guardarCambios}\r\n      onCancel={abrir}\r\n      width={350}\r\n      centered\r\n      destroyOnClose\r\n    >\r\n      <h3>Nombre</h3>\r\n      <Input \r\n        value={nombre}\r\n        size=\"small\"\r\n        onChange={(e) => setNombre(e.target.value)}\r\n        placeholder=\"Nombre\"\r\n      /><br/><br/>\r\n      <h3>Nivel</h3>\r\n      <InputNumber\r\n        value={nivel}\r\n        size=\"small\"\r\n        onChange={(e) => setNivel(e)}\r\n        placeholder=\"Nivel\"\r\n      />\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalCargo.propTypes = {\r\n  obj: PropTypes.object,\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  guardar: PropTypes.func\r\n};\r\n\r\nexport default ModalCargo;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Popconfirm, Table } from 'antd';\r\nimport { DeleteTwoTone, EditTwoTone, LoadingOutlined, SaveOutlined } from '@ant-design/icons';\r\n\r\nimport colores from '../../../constants/colores';\r\nimport { getCargos, postCargo, putCargo } from '../../../services/apiCargos';\r\nimport ModalCargo from './ModalCargo';\r\nimport metodos from '../../../constants/metodos';\r\n\r\nexport default function ConfiguracionCargo() {\r\n  const [listaCargos, setListaCargos] = useState([]);\r\n  const [loadingCargos, setLoadingCargos] = useState(false);\r\n  const [loadingCrear, setLoadingCrear] = useState(false);\r\n  const [modalEditar, setModalEditar] = useState(false);\r\n  const [modalCrear, setModalCrear] = useState(false);\r\n  const [objCargo, setObjCargo] = useState({});\r\n\r\n  useEffect(() => {\r\n    listarCargos();\r\n  },[]);\r\n\r\n  async function listarCargos() {\r\n    setLoadingCargos(true);\r\n    return await getCargos(true).then(({data}) => {\r\n      if (data && data.length > 0) {\r\n        setListaCargos(data);\r\n      }\r\n    }).catch((err) => console.log(err)).finally(() => setLoadingCargos(false));\r\n  };\r\n\r\n  async function enviarCrearCargo(id, nombre, nivel) {\r\n    return await postCargo({metodo: metodos.CARGO_CREAR, data: { nombre, nivel }})\r\n      .then(async() => {\r\n        abrirModalCrear()\r\n        await listarCargos()\r\n      }).catch((err) => console.log(err))\r\n  };\r\n\r\n  async function enviarEditarCargo(id, nombre, nivel) {\r\n    return await putCargo(id, { metodo: metodos.CARGO_ACTUALIZAR, data: { nombre, nivel }})\r\n      .then(async() => {\r\n        abrirModalEditar()\r\n        await listarCargos()\r\n      }).catch((err) => console.log(err))\r\n  };\r\n\r\n  const abrirModalEditar = () => setModalEditar(!modalEditar);\r\n  const abrirModalCrear = () => setModalCrear(!modalCrear);\r\n\r\n  const editarCargo = (row) => {\r\n    setObjCargo(row);\r\n    abrirModalEditar();\r\n  };\r\n\r\n  const crearCargo = () => {\r\n    abrirModalCrear();\r\n  };\r\n\r\n  const columnas = [\r\n    {\r\n      title: \"Id\",\r\n      dataIndex: \"_id\",\r\n      width: 130\r\n    },\r\n    {\r\n      title: \"Nombre\",\r\n      dataIndex: \"nombre\",\r\n      width: 200\r\n    },\r\n    {\r\n      title: \"Nivel\",\r\n      dataIndex: \"nivel\",\r\n    },\r\n    {\r\n      title: \"Actualizar\",\r\n      dataIndex: \"_id\",\r\n      align: \"center\",\r\n      width: 100,\r\n      render: (id, row) => <div>\r\n        <EditTwoTone\r\n          onClick={() => editarCargo(row)}\r\n          style={{ fontSize: \"1.2rem\", cursor: \"pointer\", marginRight: \".5rem\" }}\r\n          twoToneColor={colores.warning}\r\n        />\r\n        <Popconfirm\r\n          placement=\"topRight\"\r\n          title=\"Esta acción será permanente. ¿Deseas continuar?\"\r\n          // onConfirm={confirm}\r\n          okText=\"Yes\"\r\n          cancelText=\"No\"\r\n        >\r\n          <DeleteTwoTone\r\n            style={{ fontSize: \"1.2rem\", cursor: \"pointer\" }}\r\n            twoToneColor={colores.error}\r\n          />\r\n        </Popconfirm>\r\n      </div>\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <h3 style={{ marginTop: '.5em' }}>Configuracion de Cargos</h3>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        title={() => <div>\r\n            <Button\r\n              icon={ loadingCrear ? <LoadingOutlined sping/> : <SaveOutlined/> }\r\n              onClick={crearCargo}\r\n              size=\"small\"\r\n              type=\"primary\"\r\n            >\r\n              Agregar\r\n            </Button>\r\n          </div>\r\n        }\r\n        dataSource={listaCargos}\r\n        columns={columnas}\r\n        loading={loadingCargos}\r\n        size=\"small\"\r\n        pagination={false}\r\n        style={{ marginBottom: '1rem'}}\r\n      />\r\n      <ModalCargo obj={objCargo} abrir={abrirModalEditar} visible={modalEditar} guardar={enviarEditarCargo}/>\r\n      <ModalCargo abrir={abrirModalCrear} visible={modalCrear} guardar={enviarCrearCargo}/>\r\n    </div>\r\n  )\r\n};\r\n","import { restPrivate } from './requestHelper';\r\n\r\n/**\r\n * @param {boolean} toast false si debe buscar sin mostrar avisos\r\n */\r\nexport const getTipoEmpleados = async (toast) => restPrivate({\r\n  url: 'tipoempleados', method: 'GET'\r\n}, toast);\r\n\r\n/**\r\n * @param {object} data \r\n * @param {string} data.metodo\r\n * @param {object} data.data\r\n * @param {string} data.data.nombre\r\n * @param {string} data.data.acron\r\n */\r\nexport const postTipoEmpleado = async (data) => restPrivate({\r\n  url: 'tipoempleados', method: 'POST', data\r\n}, true);\r\n\r\n/**\r\n * @param {string} id \r\n * @param {object} data \r\n * @param {string} data.metodo\r\n * @param {object} data.data\r\n * @param {string} data.data.nombre\r\n * @param {string} data.data.acron\r\n */\r\nexport const putTipoEmpleado = async (id, data) => restPrivate({\r\n  url: 'tipoempleados/' + id, method: 'PUT', data\r\n}, true);\r\n/**\r\n * \r\n * @param {string} id id de la contrata\r\n * @param {string} metodo metodo a enviar\r\n */\r\nexport const deleteTipoEmpleado = async (id, metodo) => restPrivate({\r\n  url: 'tipoempleados/' + id, method: 'DELETE', data: { metodo }\r\n}, true)\r\n","import { restPrivate } from './requestHelper';\r\n/**\r\n * @param {boolean} toast false si debe buscar sin mostrar avisos\r\n */\r\nexport const getVistas = async (toast) => restPrivate({\r\n  url: 'vistas', method: 'GET'\r\n}, toast);\r\n\r\n/**\r\n * @param {object} data \r\n * @param {string} data.metodo\r\n * @param {object} data.data\r\n * @param {string} data.data.titulo\r\n * @param {string} data.data.ruta\r\n * @param {array} data.data.cargos\r\n * @param {array} data.data.tipos_empleado\r\n * @param {array} data.data.areas\r\n */\r\nexport const postVista = async (data) => restPrivate({\r\n  url: 'vistas', method: 'POST', data\r\n}, true);\r\n\r\n/**\r\n * \r\n * @param {string} id \r\n * @param {object} data \r\n * @param {string} data.metodo\r\n * @param {object} data.data\r\n * @param {string} data.data.titulo\r\n * @param {string} data.data.ruta\r\n * @param {array} data.data.cargos\r\n * @param {array} data.data.tipos_empleado\r\n * @param {array} data.data.areas\r\n */\r\nexport const putVista = async (id, data) => restPrivate({\r\n  url: 'vistas/' + id, method: 'PUT', data\r\n}, true);\r\n/**\r\n * \r\n * @param {string} id id de la contrata\r\n * @param {string} metodo metodo a enviar\r\n */\r\nexport const deleteVista = async (id, metodo) => restPrivate({\r\n  url: 'vistas/' + id, method: 'DELETE', data: { metodo }\r\n}, true)\r\n","import { rutas as lisaRutas } from '../../constants/listaRutas';\r\nimport Areas from '../../views/Sistemas/ConfiguracionEmpleados/Areas';\r\nimport Cargos from '../../views/Sistemas/ConfiguracionEmpleados/Cargos';\r\nimport TipoEmpleados from '../../views/Sistemas/ConfiguracionEmpleados/TipoEmpleados';\r\nimport Vistas from '../../views/Sistemas/ConfiguracionEmpleados/Vistas';\r\nimport Zonas from '../../views/Sistemas/ConfiguracionEmpleados/Zonas';\r\n\r\n\r\nconst rutas = [\r\n  {\r\n    path: lisaRutas.areas,\r\n    exact: true,\r\n    component: Areas,\r\n  },\r\n  {\r\n    path: lisaRutas.cargos,\r\n    exact: true,\r\n    component: Cargos,\r\n  },\r\n  {\r\n    path: lisaRutas.tipoEmpleados,\r\n    exact: true,\r\n    component: TipoEmpleados,\r\n  },\r\n  {\r\n    path: lisaRutas.vistas,\r\n    exact: true,\r\n    component: Vistas,\r\n  },\r\n  {\r\n    path: lisaRutas.zonas,\r\n    exact: true,\r\n    component: Zonas,\r\n  }\r\n]\r\n\r\nexport default rutas","import React from 'react';\r\n\r\nimport TituloVista from '../../../components/common/TituloContent';\r\nimport Contenedor from '../../../components/common/Contenedor';\r\nimport ConfiguracionAreas from '../../../components/sistemas/confEmpleados/ConfiguracionAreas';\r\n\r\nexport default function Areas() {\r\n  return (\r\n    <div>\r\n      <TituloVista titulo=\"Areas\" subtitulo=\"Configuracion de Empleados\"/>\r\n      <Contenedor>\r\n        <ConfiguracionAreas/>\r\n      </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\n\r\nimport Contenedor from '../../../components/common/Contenedor';\r\nimport TituloVista from '../../../components/common/TituloContent';\r\nimport ConfiguracionCargo from '../../../components/sistemas/confEmpleados/ConfiguracionCargos';\r\n\r\nexport default function Cargos() {\r\n  return (\r\n    <div>\r\n      <TituloVista titulo=\"Cargos\" subtitulo=\"Configuracion de Empleados\"/>\r\n      <Contenedor>\r\n        <ConfiguracionCargo/>\r\n      </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function TipoEmpleados() {\r\n  return (\r\n    <div>\r\n      Tipo Empleados\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Button, Checkbox, Input, Table, Tag,  } from 'antd';\r\nimport { SaveOutlined, LoadingOutlined } from '@ant-design/icons';\r\n\r\nimport Contenedor from '../../../components/common/Contenedor';\r\nimport { getAreas } from '../../../services/apiAreas';\r\nimport { getCargos } from '../../../services/apiCargos';\r\nimport { getTipoEmpleados } from '../../../services/apiTipoEmpleados';\r\nimport { getVistas, postVista } from '../../../services/apiVistas';\r\nimport metodos from '../../../constants/metodos';\r\nimport TituloVista from '../../../components/common/TituloContent';\r\n\r\nexport default function Vistas() {\r\n  const [listaVistas, setListaVistas] = useState([]);\r\n  const [listaAreas, setListaAreas] = useState([]);\r\n  const [listaCargos, setListaCargos] = useState([]);\r\n  const [listaTipos, setListaTipos] = useState([]);\r\n  const [tituloRuta, setTituloRuta] = useState(null);\r\n  const [ruta, setRuta] = useState(null);\r\n  const [areasSeleccionadas, setAreasSeleccionadas] = useState([]);\r\n  const [cargosSeleccionados, setCargosSeleccionados] = useState([]);\r\n  const [tiposSeleccionados, setTiposSeleccionados] = useState([]);\r\n  const [loadingGuardar, setLoadingGuardar] = useState(false);\r\n  const [loadingVistas, setLoadingVistas] = useState(false);\r\n\r\n  useEffect(() => {\r\n    listarVistas();\r\n    listarAreas();\r\n    listarCargos();\r\n    listarTipoEmpleados();\r\n  }, []);\r\n\r\n  async function listarVistas() {\r\n    setLoadingVistas(true);\r\n    return await getVistas(false).then(({data}) => {\r\n      if (data && data.length > 0) {\r\n        console.log(data);\r\n        setListaVistas(data);\r\n      } else {\r\n        setListaVistas([]);\r\n      };  \r\n    }).catch((err) => console.log(err)).finally(() => setLoadingVistas(false))\r\n  }\r\n\r\n  async function listarAreas() {\r\n    return await getAreas(false).then(({data}) => {\r\n      if (data && data.length > 0) {\r\n        setListaAreas(data);\r\n      } else {\r\n        setListaAreas([]);\r\n      }\r\n    })\r\n  };\r\n\r\n  async function listarCargos() {\r\n    return await getCargos(false).then(({data}) => {\r\n      if (data && data.length > 0) {\r\n        setListaCargos(data);\r\n      } else {\r\n        setListaCargos([]);\r\n      }\r\n    })\r\n  };\r\n\r\n  async function listarTipoEmpleados() {\r\n    return await getTipoEmpleados(false).then(({data}) => {\r\n      if (data && data.length > 0) {\r\n        setListaTipos(data);\r\n      } else {\r\n        setListaTipos([]);\r\n      }\r\n    })\r\n  };\r\n\r\n  async function guardarVista() {\r\n    setLoadingGuardar(true);\r\n    return await postVista({metodo: metodos.VISTA_CREAR, data: {\r\n      titulo: tituloRuta,\r\n      ruta: ruta,\r\n      cargos: cargosSeleccionados,\r\n      tipos_empleado: tiposSeleccionados,\r\n      areas: areasSeleccionadas\r\n    }}).catch((err) => console.log(err)).finally(() => setLoadingGuardar(false));\r\n  };\r\n\r\n  const columnas = [\r\n    {\r\n      title: \"#\",\r\n      width: 60,\r\n      render: (_,__,i) => i+1 \r\n    },\r\n    {\r\n      title: \"ID\",\r\n      dataIndex: \"_id\",\r\n      width: 150\r\n    },\r\n    {\r\n      title: \"Titulo\",\r\n      dataIndex: \"titulo\",\r\n      widt: 150\r\n    },\r\n    {\r\n      title: \"Ruta\",\r\n      dataIndex: \"ruta\"\r\n    },\r\n    {\r\n      title: \"Areas\",\r\n      dataIndex: \"areas\",\r\n      width: 150  ,\r\n      render: (obj) => {\r\n        if (obj && obj.length > 0) {\r\n          return (<div>\r\n          {\r\n            obj.map((area,i) => (\r\n              <Tag color=\"blue\" key={i}>{area.nombre}</Tag>\r\n            ))\r\n          }\r\n          </div>)\r\n        } else {\r\n          \r\n        }\r\n      } \r\n    },\r\n    {\r\n      title: \"Cargos\",\r\n      dataIndex: \"cargos\",\r\n      render: (obj) => {\r\n        if (obj && obj.length > 0) {\r\n          return (<div>\r\n          {\r\n            obj.map((cargo,i) => (\r\n              <Tag color=\"purple\" key={i}>{cargo.nombre}</Tag>\r\n            ))\r\n          }\r\n          </div>)\r\n        } else {\r\n          \r\n        }\r\n      } \r\n    },\r\n    {\r\n      title: \"Tipos\",\r\n      dataIndex: \"tipos_empleado\",\r\n      render: (obj) => {\r\n        if (obj && obj.length > 0) {\r\n          return (<div>\r\n          {\r\n            obj.map((tipo,i) => (\r\n              <Tag color=\"orange\" key={i}>{tipo.nombre}</Tag>\r\n            ))\r\n          }\r\n          </div>)\r\n        } else {\r\n          \r\n        }\r\n      } \r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <TituloVista titulo=\"Configurar Vista\" subtitulo=\"Configuracion de Empleados\"/>\r\n      <Contenedor>\r\n        <h4>Titulo Ruta</h4>\r\n        <Input \r\n          style={{ marginBottom: '1rem', width: 250 }}\r\n          placeholder=\"Titulo de la ruta\"\r\n          size=\"small\"\r\n          onChange={(e) => setTituloRuta(e.target.value)}\r\n          value={tituloRuta}\r\n        />\r\n        <h4>Dirección Ruta</h4>\r\n        <Input \r\n          style={{ marginBottom: '1rem', width: 250 }}\r\n          placeholder=\"Dirección de la ruta\"\r\n          size=\"small\"\r\n          onChange={(e) => setRuta(e.target.value)}\r\n          value={ruta}\r\n        />\r\n        <h4>Lista Areas</h4>\r\n        <Checkbox.Group\r\n          style={{ marginBottom: '1rem' }}\r\n          options={listaAreas.length > 0 ? listaAreas.map((a,i) => ({key:i,  label: a.nombre, value: a._id})) : [] }\r\n          value={areasSeleccionadas}\r\n          onChange={(a) => setAreasSeleccionadas(a)}\r\n        />\r\n        <h4>Lista Cargos</h4>\r\n        <Checkbox.Group\r\n          style={{ marginBottom: '1rem' }}\r\n          options={listaCargos.length > 0 ? listaCargos.map((a,i) => ({key:i,  label: a.nombre, value: a._id})) : [] }\r\n          value={cargosSeleccionados}\r\n          onChange={(a) => setCargosSeleccionados(a)}\r\n        />\r\n        <h4>Lista Tipos</h4>\r\n        <Checkbox.Group\r\n          style={{ marginBottom: '1rem' }}\r\n          options={listaTipos.length > 0 ? listaTipos.map((a,i) => ({key:i,  label: a.nombre, value: a._id})) : [] }\r\n          value={tiposSeleccionados}\r\n          onChange={(a) => setTiposSeleccionados(a)}\r\n        /><br/>\r\n        <Button\r\n          style={{ margin: '1rem 0' }}\r\n          icon={loadingGuardar ? <LoadingOutlined spin/> : <SaveOutlined/>}\r\n          type=\"primary\"\r\n          size=\"small\"\r\n          onClick={guardarVista}\r\n        >\r\n          Guardar\r\n        </Button>\r\n      </Contenedor>\r\n      <Contenedor>\r\n        <Table\r\n          rowKey=\"_id\"\r\n          dataSource={listaVistas}\r\n          columns={columnas}\r\n          loading={loadingVistas}\r\n          size=\"small\"\r\n          pagination={false}\r\n          scroll={{ x: \"70vw\" }}\r\n        />\r\n      </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Zonas() {\r\n  return (\r\n    <div>\r\n      Zonas\r\n    </div>\r\n  )\r\n}\r\n","import configuracionEmpleados from './configuracionEmpleados';\r\n\r\nconst rutasSistemas = [\r\n  ...configuracionEmpleados,\r\n];\r\n\r\nexport default rutasSistemas;","import React, { useState } from 'react';\r\nimport { Button, Input, Radio  } from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\n\r\n\r\nconst { Search } = Input;\r\n\r\nexport default function HeaderEmpleados(abrirModalCrear, totalEmpleados, setDataEmpleados) {\r\n  const [tipoBusqueda, setTipoBusqueda] = useState(\"nombre\");\r\n\r\n  async function buscarPersonal(value) {\r\n    if (value && value.target.value) {\r\n      setDataEmpleados(totalEmpleados.filter((e) =>String(e[tipoBusqueda])\r\n        .toUpperCase()\r\n        .indexOf(String(value.target.value).toUpperCase()) === 0))\r\n    } else {\r\n      await setDataEmpleados(totalEmpleados);\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"header-tabla\">\r\n      <div className=\"busqueda\">\r\n        <Radio.Group \r\n          onChange={(e) => setTipoBusqueda(e.target.value)} \r\n          value={tipoBusqueda}\r\n          style={{ paddingTop: '.22rem' }}\r\n        >\r\n          <Radio value=\"nombre\">Nombre</Radio>\r\n          <Radio value=\"numero_documento\">Documento</Radio>\r\n          <Radio value=\"carnet\">Carnet</Radio>\r\n        </Radio.Group>\r\n        <Search\r\n          placeholder=\"Buscar personal\"\r\n          allowClear\r\n          enterButton={false}\r\n          size=\"small\"\r\n          onChange={buscarPersonal}\r\n          style={{ width: 200, margin: 0 }}\r\n        />\r\n      </div>\r\n      {/* <div className=\"boton-agregar\"> */}\r\n        <Button\r\n          size=\"small\"\r\n          type=\"primary\"\r\n          icon={<PlusOutlined/>}\r\n          onClick={abrirModalCrear}\r\n        >\r\n          Agregar\r\n        </Button>\r\n      {/* </div> */}\r\n    </div>\r\n  )\r\n}\r\n","export const niveles = {\r\n  ROOT: 0,\r\n  ADMINISTRADOR: 1,\r\n  JEFES_AREA: 2,\r\n  JEFES_PERSONAL: 3,\r\n  JEFES_MINI_PERSONAL: 4,\r\n  BACK_OFFICE: 5,\r\n  OPERATIVO: 6,\r\n  FUERA_SISTEMA: 7,\r\n};","const estadoEmpleado = {\r\n  ACTIVO: 'Activo',\r\n  SUSPENDIDO: 'Suspendido',\r\n  INACTIVO: 'Inactivo',\r\n};\r\n\r\nexport default estadoEmpleado;\r\n","import { Tag } from 'antd';\r\nimport { CheckCircleOutlined, ExclamationCircleOutlined, CloseCircleOutlined } from '@ant-design/icons';\r\nimport React from 'react';\r\n\r\nimport { niveles } from '../../../constants/cargos';\r\nimport capitalizar from '../../../libraries/capitalizar'\r\nimport colores from '../../../constants/colores';\r\nimport estadoEmpleado from '../../../constants/estadoEmpleado';\r\n\r\nexport function CargoTag({nivel, cargo}) {\r\n  switch (nivel) {\r\n    case niveles.ROOT:\r\n      return (<Tag color=\"geekblue\">{capitalizar(cargo)}</Tag>)\r\n    case niveles.ADMINISTRADOR:\r\n      return (<Tag color=\"blue\">{capitalizar(cargo)}</Tag>)\r\n    case niveles.JEFES_AREA:\r\n      return (<Tag color=\"cyan\">{capitalizar(cargo)}</Tag>)\r\n    case niveles.JEFES_PERSONAL:\r\n      return (<Tag color=\"purple\">{capitalizar(cargo)}</Tag>)\r\n    case niveles.JEFES_MINI_PERSONAL:\r\n      return (<Tag color=\"green\">{capitalizar(cargo)}</Tag>)\r\n    case niveles.BACK_OFFICE:\r\n      return (<Tag color=\"orange\">{capitalizar(cargo)}</Tag>)\r\n    case niveles.OPERATIVO:\r\n      return (<Tag color=\"magenta\">{capitalizar(cargo)}</Tag>)\r\n    case niveles.FUERA_SISTEMA:\r\n      return (<Tag>{capitalizar(cargo)}</Tag>)\r\n    default:\r\n      return (<Tag>Sin cargo</Tag>)\r\n  }\r\n};\r\n\r\nexport function EstadoTag({estado}) {\r\n  switch (estado) {\r\n    case estadoEmpleado.ACTIVO: \r\n      return (<Tag icon={<CheckCircleOutlined/>} color={colores.success}>{estado}</Tag>);\r\n    case estadoEmpleado.SUSPENDIDO:\r\n      return (<Tag icon={<ExclamationCircleOutlined/>} color={colores.warning}>{estado}</Tag>)\r\n    case estadoEmpleado.INACTIVO:\r\n      return (<Tag icon={<CloseCircleOutlined />} color={colores.error}>{estado}</Tag>)\r\n    default:\r\n      return (<Tag>Desconocido</Tag>);\r\n  }\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { DatePicker, Descriptions, Input, Modal, Select } from 'antd';\r\n\r\nimport moment from 'moment';\r\nimport metodos from '../../../constants/metodos';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nconst { Option } = Select;\r\n\r\nfunction ModalEmpleado({\r\n  accion, \r\n  visible, \r\n  abrir, \r\n  empleado={}, \r\n  cargos=[],\r\n  tipos=[],\r\n  areas=[],\r\n  zonas=[],\r\n  contratas=[], \r\n  guardar\r\n}) {\r\n  const [empleadoObj, setEmpleadoObj] = useState({carnet: null, numero_documento:null});\r\n\r\n  useEffect(() => {\r\n    if (empleado._id) {\r\n      setEmpleadoObj({\r\n        ...empleado,\r\n        cargo: empleado.cargo ? empleado.cargo._id : null,\r\n        tipo_empleado:  empleado.tipo_empleado ? empleado.tipo_empleado._id : null,\r\n        area: empleado.area ? empleado.area._id : null,\r\n        zonas: empleado.zonas ? empleado.zonas.map((e) => e._id) : null,\r\n        contrata: empleado.contrata ? empleado.contrata._id : null\r\n      }) \r\n    }\r\n  //eslint-disable-next-line\r\n  },[empleado]);\r\n\r\n  async function onOk() {\r\n    if (accion === \"editar\" && !empleadoObj._id) return cogoToast.warn(\"No se encuentra el ID del Usuario\", {position: \"top-right\"});\r\n    if (!empleadoObj.usuario && !empleadoObj.usuario.email) return cogoToast.warn(\"Falta el Email\", {position: \"top-right\"});\r\n    if (!empleadoObj.nombre) return cogoToast.warn(\"Falta el nombre\", {position: \"top-right\"});\r\n    if (!empleadoObj.cargo) return cogoToast.warn(\"Falta el Cargo\", {position: \"top-right\"});\r\n    if (!empleadoObj.area) return cogoToast.warn(\"Falta el Area\", {position: \"top-right\"});\r\n    if (!empleadoObj.tipo_empleado) return cogoToast.warn(\"Falta el Tipo de Empleado\", {position: \"top-right\"});\r\n    if (!empleadoObj.numero_documento) return cogoToast.warn(\"Falta el Número de Documento\", {position: \"top-right\"});\r\n    \r\n    await guardar({\r\n      id: empleadoObj._id, \r\n      metodo: accion === \"crear\" ?  metodos.EMPLEADOS_CREAR : metodos.EMPLEADOS_ACTUALIZAR, \r\n      email: empleadoObj.usuario.email, \r\n      empleado: empleadoObj\r\n    });\r\n    \r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      width=\"75vw\"\r\n      okButtonProps={{ size:\"small\" }}\r\n      cancelButtonProps={{ size:\"small\" }}\r\n      cancelText=\"Cancelar\"\r\n      okText=\"Guardar\"\r\n      title={accion === 'crear' ? \"Crear Empleado\": \"Editar Empleado\"}\r\n      visible={visible}\r\n      onOk={onOk}\r\n      onCancel={abrir}\r\n      destroyOnClose\r\n      centered\r\n    >\r\n      <Descriptions bordered size=\"small\" column={4}>\r\n        <Descriptions.Item label=\"Nombre:\" span={2}>\r\n          <Input\r\n            placeholder=\"Nombre\"\r\n            size=\"small\"\r\n            value={empleadoObj && empleadoObj.nombre ? empleadoObj.nombre : null}\r\n            onChange={(e) => setEmpleadoObj({...empleadoObj, nombre: e.target.value})}\r\n          />\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Apellidos:\" span={2}>\r\n          <Input\r\n            placeholder=\"Nombre\"\r\n            size=\"small\"\r\n            value={empleadoObj && empleadoObj.apellidos ? empleadoObj.apellidos : null}\r\n            onChange={(e) => setEmpleadoObj({...empleadoObj, apellidos: e.target.value })}\r\n          />\r\n        </Descriptions.Item>\r\n        \r\n        <Descriptions.Item label=\"Email:\" span={2}>\r\n          <Input\r\n            placeholder=\"Email\"\r\n            size=\"small\"\r\n            type=\"email\"\r\n            value={empleadoObj && empleadoObj.usuario && empleadoObj.usuario.email ? empleadoObj.usuario.email : null}\r\n            onChange={(e) => setEmpleadoObj({...empleadoObj, usuario: { email: e.target.value } })}\r\n          />\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Carnet:\" span={1}>\r\n          <Input\r\n            placeholder=\"Carnet\"\r\n            size=\"small\"\r\n            value={empleadoObj && empleadoObj.carnet ? empleadoObj.carnet : null}\r\n            onChange={(e) => setEmpleadoObj({...empleadoObj, carnet: e.target.value })}\r\n          />\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Cargo:\" span={1}>\r\n          <Select \r\n            size=\"small\" \r\n            style={{ width: \"100%\" }}\r\n            placeholder=\"Seleccionar Cargo\"\r\n            disabled={accion === \"editar\"}\r\n            value={empleadoObj && empleadoObj.cargo ? empleadoObj.cargo : null} \r\n            onChange={(e) => setEmpleadoObj({...empleadoObj, cargo: e})}\r\n          >\r\n          {\r\n            cargos && cargos.length > 0 ?\r\n            cargos.map((obj,i) => (\r\n              <Option key={i} value={obj._id}>{obj.nombre}</Option>\r\n            )):null\r\n          }\r\n          </Select>\r\n        </Descriptions.Item>\r\n       \r\n        <Descriptions.Item label=\"Tipo:\" span={2}>\r\n          <Select \r\n            size=\"small\" \r\n            style={{ width: \"100%\" }}\r\n            placeholder=\"Seleccionar Tipo\"\r\n            value={empleadoObj && empleadoObj.tipo_empleado ? empleadoObj.tipo_empleado : null} \r\n            onChange={(e) => setEmpleadoObj({...empleadoObj, tipo_empleado: e})}\r\n          >\r\n          {\r\n            tipos && tipos.length > 0 ?\r\n            tipos.map((obj, i) => (\r\n              <Option key={i} value={obj._id}>{obj.nombre}</Option>\r\n            )):null\r\n          }\r\n          </Select>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Area:\" span={1}>\r\n          <Select \r\n            size=\"small\" \r\n            style={{ width: \"100%\" }}\r\n            placeholder=\"Seleccionar Area\"\r\n            value={empleadoObj && empleadoObj.area ? empleadoObj.area : null} \r\n            onChange={(e) => setEmpleadoObj({...empleadoObj, area: e})}\r\n          >\r\n          {\r\n            areas && areas.length > 0 ?\r\n            areas.map((obj, i) => (\r\n              <Option key={i} value={obj._id}>{obj.nombre}</Option>\r\n            )):null\r\n          }\r\n          </Select>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Contrata:\" span={1}>\r\n          <Select \r\n            size=\"small\"\r\n            placeholder=\"Seleccionar Contrata\"\r\n            style={{ width: \"100%\" }}\r\n            value={empleadoObj && empleadoObj.contrata ? empleadoObj.contrata : null} \r\n            onChange={(e) => setEmpleadoObj({...empleadoObj, contrata: e})}\r\n          >\r\n          {\r\n            contratas && contratas.length > 0 ?\r\n            contratas.map((obj,i) => (\r\n              <Option key={i} value={obj._id}>{obj.nombre}</Option>\r\n            )):null\r\n          }\r\n          </Select>\r\n        </Descriptions.Item>\r\n        \r\n        <Descriptions.Item label=\"Zonas:\" span={2}>\r\n          <Select \r\n            size=\"small\" \r\n            mode=\"multiple\"\r\n            placeholder=\"Seleccionar Zonas\"\r\n            style={{ width: \"100%\" }}\r\n            value={empleadoObj && empleadoObj.zonas ? empleadoObj.zonas : []}\r\n            onChange={(e) => setEmpleadoObj({...empleadoObj, zonas: e})} \r\n          >\r\n          {\r\n            zonas && zonas.length > 0 ?\r\n            zonas.map((obj) => (\r\n              <Option key={obj._id}>{obj.nombre}</Option>\r\n            )):null\r\n          }\r\n          </Select>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Fecha de Ingreso:\" span={1}>\r\n          <DatePicker\r\n            size=\"small\"\r\n            placeholder=\"Fecha de Ingreso\"\r\n            value={empleadoObj && empleadoObj.fecha_ingreso ? moment(empleadoObj.fecha_ingreso) : null}\r\n            onChange={(e) => setEmpleadoObj({...empleadoObj, fecha_ingreso: e.toDate()})}\r\n          />\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Fecha de Nacimiento:\" span={1}>\r\n          <DatePicker\r\n            size=\"small\"\r\n            placeholder=\"Fecha de Nacimiento\"\r\n            value={empleadoObj && empleadoObj.fecha_nacimiento ? moment(empleadoObj.fecha_nacimiento) : null}\r\n            onChange={(e) => setEmpleadoObj({...empleadoObj, fecha_nacimiento: e ? e.toDate(): e})}\r\n          />\r\n        </Descriptions.Item>\r\n        \r\n        <Descriptions.Item label=\"Numero de Documento:\" span={2}>\r\n          <Input\r\n            placeholder=\"Documento de Identidad\"\r\n            size=\"small\"\r\n            value={empleadoObj && empleadoObj.numero_documento ? empleadoObj.numero_documento : null}\r\n            onChange={(e) => setEmpleadoObj({...empleadoObj, numero_documento: e.target.value})}\r\n          />\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Tipo de Documento:\" span={1}>\r\n          <Select \r\n            size=\"small\"\r\n            style={{ width: \"100%\"}}\r\n            placeholder=\"Tipo Documento\"\r\n            value={empleadoObj && empleadoObj.tipo_documento ? empleadoObj.tipo_documento : null}\r\n            onChange={(e) => setEmpleadoObj({...empleadoObj, tipo_documento: e})}\r\n          >\r\n            <Option value=\"DNI\">DNI</Option>\r\n            <Option value=\"OTRO\">OTRO</Option>\r\n          </Select>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Nacionalidad:\" span={1}>\r\n          <Input\r\n            placeholder=\"Nacionalidad\"\r\n            size=\"small\"\r\n            value={empleadoObj && empleadoObj.nacionalidad ? empleadoObj.nacionalidad : null}\r\n            onChange={(e) => setEmpleadoObj({...empleadoObj, nacionalidad: e.target.value})}\r\n          />\r\n        </Descriptions.Item>\r\n        \r\n        <Descriptions.Item label=\"Observacion:\" span={4}>\r\n          <Input\r\n            placeholder=\"Observacion\"\r\n            size=\"small\"\r\n            value={empleadoObj && empleadoObj.observacion ? empleadoObj.observacion : null}\r\n            onChange={(e) => setEmpleadoObj({...empleadoObj, observacion: e.target.value})}\r\n          />\r\n        </Descriptions.Item>\r\n      </Descriptions>\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalEmpleado.propTypes = {\r\n  accion: PropTypes.string,\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  empleado: PropTypes.object,\r\n  cargos: PropTypes.array,\r\n  tipos: PropTypes.array,\r\n  areas: PropTypes.array,\r\n  zonas: PropTypes.array,\r\n  contratas: PropTypes.array,\r\n  guardar: PropTypes.func\r\n};\r\n\r\nexport default ModalEmpleado;\r\n\r\n\r\n","import { restPrivate } from './requestHelper';\r\n/**\r\n * @param {boolean} toast false si debe buscar sin mostrar avisos\r\n * @param {string} metodo\r\n */\r\nexport const getContratas = async (toast, metodo) => restPrivate({\r\n  url: 'contratas', method: 'GET', params: {metodo}\r\n}, toast);\r\n\r\n/**\r\n * @param {object} data \r\n * @param {string} data.metodo\r\n * @param {object} data.contrata\r\n */\r\nexport const postContrata = async ({ metodo, contrata }) => restPrivate({\r\n  url: 'contratas', method: 'POST', data: { metodo, contrata }\r\n}, true);\r\n\r\n/**\r\n * \r\n * @param {string} id \r\n * @param {object} data \r\n * @param {string} data.metodo\r\n * @param {object} data.contrata\r\n */\r\nexport const putContrata = async (id, { metodo, contrata }) => restPrivate({\r\n  url: 'contratas/' + id, method: 'PUT', data: { metodo, contrata } \r\n}, true);\r\n/**\r\n * \r\n * @param {string} id id de la contrata\r\n * @param {object} data objeto a enviar\r\n * @param {bool} data.activo\r\n * @param {Date} data.fecha_baja\r\n */\r\nexport const patchContrata = async (id, data) => restPrivate({\r\n  url: 'contratas/' + id, method: 'PATCH', data\r\n}, true)\r\n","import { restPrivate } from './requestHelper';\r\n\r\n/**\r\n * @param {boolean} toast false si debe buscar sin mostrar avisos\r\n */\r\nexport const getZonas = async (toast) => restPrivate({\r\n  url: 'zonas', method: 'GET'\r\n}, toast);\r\n\r\n/**\r\n * @param {object} data \r\n * @param {string} data.metodo\r\n * @param {object} data.data\r\n */\r\nexport const postZona = async (data) => restPrivate({\r\n  url: 'zonas', method: 'POST', data\r\n}, true);\r\n\r\n/**\r\n * @param {string} id \r\n * @param {object} data \r\n * @param {string} data.metodo\r\n * @param {object} data.data\r\n */\r\nexport const putZona = async (id, data) => restPrivate({\r\n  url: 'zonas/' + id, method: 'PUT', data\r\n}, true);\r\n/**\r\n * \r\n * @param {string} id id de la contrata\r\n * @param {string} metodo metodo a enviar\r\n */\r\nexport const deleteZona = async (id, metodo) => restPrivate({\r\n  url: 'zonas/' + id, method: 'DELETE', data: { metodo }\r\n}, true)\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Descriptions, Modal, Typography } from 'antd';\r\nimport moment from 'moment';\r\n\r\nconst { Text } = Typography;\r\n\r\nfunction ModalDetalle({visible, abrirModal, empleado={}}) {\r\n  return (\r\n    <Modal\r\n      width={450}\r\n      cancelText=\"Cancelar\"\r\n      okText=\"Aceptar\"\r\n      title=\"Detalle del Usuario\"\r\n      visible={visible}\r\n      onOk={abrirModal}\r\n      onCancel={abrirModal}\r\n      destroyOnClose={true}\r\n      centered\r\n    >\r\n      <Descriptions layout=\"vertical\" bordered size=\"small\" column={2}>\r\n        {empleado && empleado.gestor&&(<Descriptions.Item label=\"Gestor:\">{empleado && empleado.gestor.nombre && empleado && empleado.gestor.nombre}</Descriptions.Item>)}\r\n        <Descriptions.Item label=\"Tipo de Doc.:\">{empleado && empleado.tipo_documento}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Numero de Doc.:\">\r\n          <Text copyable>{empleado && empleado.numero_documento}</Text>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Fecha de Nacimiento:\">{empleado && empleado.fecha_nacimiento && moment(empleado && empleado.fecha_nacimiento).format('DD-MM-YYYY')}</Descriptions.Item>\r\n        {empleado && empleado.fecha_ingreso&&(<Descriptions.Item label=\"Fecha de Ingreso\">{moment(empleado && empleado.fecha_ingreso).format('DD-MM-YYYY')}</Descriptions.Item>)}\r\n        {empleado && empleado.fecha_baja&&(<Descriptions.Item label=\"Fecha de Baja\">{moment(empleado && empleado.fecha_baja).format('DD-MM-YYYY')}</Descriptions.Item>)}\r\n        <Descriptions.Item label=\"Nacionalidad\">{empleado && empleado.nacionalidad?empleado && empleado.nacionalidad:'-'}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Observación\" span={2}>{empleado && empleado.observacion}</Descriptions.Item>\r\n      </Descriptions>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalDetalle.propTypes = {\r\n  visible: PropTypes.bool,\r\n  abrirModal: PropTypes.func,\r\n  empleado: PropTypes.object\r\n}\r\n\r\nexport default ModalDetalle\r\n\r\n","import moment from \"moment\";\r\n\r\n/**\r\n * @param {array} data \r\n * @param {string} field \r\n */\r\nexport function obtenerFiltroId(data=[], field, persona=false) {\r\n  if (data.length === 0) {\r\n    return ([]);\r\n  } else {\r\n    let filtrosArray = [];\r\n    let isNull = false;\r\n    try {\r\n      data.forEach((e) => {\r\n        if (e[field] !== undefined && e[field] !== null && e[field]._id && e[field]._id !== null) {\r\n          const i = filtrosArray.findIndex(c => c.value === e[field]._id)\r\n          if (i === -1) {\r\n            filtrosArray.push({\r\n              text: persona ? e[field].nombre + ' ' + e[field].apellidos : e[field].nombre,\r\n              value: e[field]._id\r\n            })\r\n          } \r\n        } else {\r\n          isNull = true;\r\n        };\r\n      });\r\n      if (isNull) {\r\n        return ([...filtrosArray, { text: '-', value: '-'}]);\r\n      } else {\r\n        return filtrosArray;\r\n      };\r\n    } catch (error) {\r\n      console.log(error);\r\n      return [];\r\n    }\r\n  };\r\n};\r\n\r\nexport function obtenerFiltroNombre(data=[], field) {\r\n  if (data.length === 0) {\r\n    return [];\r\n  } else {\r\n    let filtrosArray = [];\r\n    try {\r\n      data.forEach((e) => {\r\n        if (e[field] !== undefined && e[field] !== null) {\r\n          const i = filtrosArray.findIndex(c => c.value === e[field])\r\n          if (i === -1) {\r\n            filtrosArray.push({\r\n              text: e[field],\r\n              value: e[field]\r\n            })\r\n          } \r\n        };\r\n      });\r\n      return (filtrosArray);\r\n    } catch (error) {\r\n      console.log(error);\r\n      return ([]);\r\n    }\r\n  }\r\n};\r\n\r\nexport function obtenerFiltroFecha(data=[], field) {\r\n  if (data.length === 0) {\r\n    return ([]);\r\n  } else {\r\n    let filtrosArray = [];\r\n    try {\r\n      data.forEach((e) => {\r\n        if (e[field] !== undefined && e[field] !== null) {\r\n          const i = filtrosArray.findIndex(c => c.value === moment(e[field]).format('DD/MM/YY'))\r\n          if (i === -1) {\r\n            filtrosArray.push({\r\n              text: moment(e[field]).format('DD/MM/YY'),\r\n              value: moment(e[field]).format('DD/MM/YY')\r\n            })\r\n          } \r\n        };\r\n      });\r\n      filtrosArray.push({text: '-', value: '-'})\r\n      return (filtrosArray);\r\n    } catch (error) {\r\n      console.log(error);\r\n      return ([]);\r\n    }\r\n  }\r\n};","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Select } from 'antd';\r\n\r\nimport { patchEmpleados } from '../../../services/apiEmpleado';\r\nimport metodos from '../../../constants/metodos';\r\n\r\n// const { Option } = Select;\r\n\r\nfunction ModalPermisos({visible, setVisible, listarEmpleados, id}) {\r\n  const [cargo, setCargo] = useState(4);\r\n\r\n  async function actualizarCargo() {\r\n    await patchEmpleados(true, { id, metodo: metodos.EMPLEADOS_ACTUALIZAR_PERMISOS, cargo } )\r\n      .then(() => setVisible(!visible))\r\n      .catch((error) => {\r\n        setVisible(false);\r\n        console.log(error);\r\n      })\r\n  };\r\n\r\n  const cambiarCargo = (value) => setCargo(value);\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Actualizar Cargo\"\r\n      visible={visible}\r\n      width={300}\r\n      onOk={actualizarCargo}\r\n      onCancel={() => setVisible(false)}\r\n      centered\r\n    >\r\n      <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n        *Recuerda que no es posible otorgar un cargo superior \r\n        al tuyo y que todo cambio quedará registrado en el \r\n        sistema.\r\n      </p>\r\n      <p>Seleccionar Cargo:</p>\r\n      <Select\r\n        defaultValue={cargo}\r\n        onChange={cambiarCargo}\r\n        style={{ width: 180 }}\r\n      >\r\n        {/* <Option value={cargos.LIDER_GESTION}>Lider de Gestion</Option>\r\n        <Option value={cargos.ASISTENTE_LOGISTICA}>Asistente de Logistica</Option>\r\n        <Option value={cargos.JEFE_CONTRATA}>Jefe de contrata</Option>\r\n        <Option value={cargos.GESTOR}>Gestor</Option>\r\n        <Option value={cargos.ALMACENERO}>Almacenero</Option>\r\n        <Option value={cargos.AUDITOR}>Auditor</Option>\r\n        <Option value={cargos.TECNICO}>Tecnico</Option> */}\r\n      </Select>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalPermisos.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  listarEmpleados: PropTypes.func,\r\n  id: PropTypes.string\r\n}\r\n\r\nexport default ModalPermisos\r\n\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Select, DatePicker, Space } from 'antd';\r\nimport metodos from '../../../constants/metodos';\r\nimport { patchEmpleados } from '../../../services/apiEmpleado';\r\n\r\nconst { Option } = Select;\r\n\r\nfunction ModalEstado({visible, setVisible, listarEmpleados, id}) {\r\n  const [estado, setEstado] = useState(1);\r\n  const [fechaBaja, setFechaBaja] = useState('');\r\n\r\n  async function onOk() {\r\n    await patchEmpleados(true, { \r\n      id, \r\n      metodo: metodos.EMPLEADOS_EDITAR_ESTADO_EMPRESA,\r\n      fecha_baja: fechaBaja, \r\n      estado_empresa: estado\r\n    }).then(async () => {\r\n        setVisible(false);\r\n        await listarEmpleados();\r\n      }).catch((e) => console.log(e));\r\n  };\r\n\r\n  const cambiarFecha = (_,b) => setFechaBaja(b);\r\n\r\n  const cambiarEstado = (v) => setEstado(v);\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Estado Empresa\"\r\n      visible={visible}\r\n      width={300}\r\n      onOk={onOk}\r\n      onCancel={() => setVisible(false)}\r\n      centered\r\n    >\r\n      <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n        *Un usuario \"Activo\" tiene la cuenta habilitada y aparece en las listas del personal (ordenes, inventario, etc.)\r\n      </p>\r\n      <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n        *Un usuario \"Suspendido\" no podrá iniciar sesión en el sistema, pero seguirá apareciendo en las listas del personal (ordenes, inventario, etc.)\r\n      </p>\r\n      <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n        *Un usuario \"Inactivo\" no podrá iniciar sesión en el sistema y desaparecerá por completo de las listas del sistema (usuario de baja)  \r\n      </p>      \r\n      <Space direction=\"vertical\">\r\n        Seleccionar: \r\n        <Select \r\n          defaultValue={estado}\r\n          onChange={cambiarEstado}\r\n          style={{ width: 150 }}\r\n        >\r\n          <Option value={1}>Activo</Option>\r\n          <Option value={2}>Suspendido</Option>\r\n          <Option value={3}>Inactivo</Option>\r\n        </Select>\r\n        Fecha de suspensión / baja:\r\n        <DatePicker onChange={cambiarFecha} />\r\n      </Space>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalEstado.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  listarEmpleados: PropTypes.func,\r\n  id: PropTypes.string\r\n}\r\n\r\nexport default ModalEstado\r\n\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport { Button, Modal } from 'antd';\r\nimport { \r\n  LockOutlined, \r\n  CloseCircleOutlined, \r\n  CaretUpOutlined,\r\n  UserOutlined,\r\n  ExclamationCircleOutlined\r\n} from '@ant-design/icons'\r\nimport { patchEmpleados } from '../../../services/apiEmpleado';\r\nimport ModalPermisos from './ModalPermisos';\r\nimport metodos from '../../../constants/metodos';\r\nimport ModalEstado from './ModalEstado';\r\n\r\nfunction ModalConfiguracion({visible, abrir, id, listarEmpleados}) {\r\n  const [modalPermisos, setModalPermisos] = useState(false);\r\n  const [modalEstados, setModalEstados] = useState(false);\r\n\r\n  async function actualizarEmpleado(metodo) {\r\n    await patchEmpleados(true, { id, metodo })\r\n    .then(() => {\r\n      listarEmpleados();\r\n      abrir();\r\n    })\r\n    .catch((error) => console.log(error))\r\n  };\r\n\r\n  const abrirModalPermisos = () => setModalPermisos(!modalPermisos);\r\n  const abrirModalEstado = () => setModalEstados(!modalEstados);\r\n\r\n  const onOk = async () => {\r\n    await listarEmpleados();\r\n    abrir()\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Configuraciones\"\r\n      visible={visible}\r\n      width={250}\r\n      onOk={onOk}\r\n      onCancel={abrir}\r\n      centered\r\n    >\r\n      <Button \r\n        block\r\n        icon={<LockOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={() => actualizarEmpleado(metodos.EMPLEADOS_RESET_PASS)}\r\n      >Reiniciar Contraseña</Button>\r\n      <Button \r\n        block\r\n        icon={<CloseCircleOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={() => actualizarEmpleado(metodos.EMPLEADOS_CERRAR_SESION)}\r\n      >Cerrar Sessión</Button>\r\n      <Button \r\n        block\r\n        icon={<CaretUpOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={abrirModalPermisos}\r\n      >Permisos</Button>\r\n      <Button \r\n        block\r\n        icon={<UserOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={() => actualizarEmpleado(metodos.EMPLEADOS_ACTIVAR_CUENTA)}\r\n      >Activar Cuenta</Button>\r\n      <Button \r\n        block\r\n        danger\r\n        icon={<ExclamationCircleOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={abrirModalEstado}\r\n      >Cambiar Estado</Button>\r\n      {/* MODAL PARA CAMBIAR LOS PERMISOS DEL USUARIO */}\r\n      <ModalPermisos \r\n        visible={modalPermisos} \r\n        setVisible={setModalPermisos}\r\n        listarEmpleados={listarEmpleados}\r\n        id={id}\r\n      />\r\n      {/* MODAL PARA CAMBIAR EL ESTADO DEL EMPLEADO EN LA EMPRESA */}\r\n      <ModalEstado\r\n        visible={modalEstados}\r\n        setVisible={setModalEstados}\r\n        listarEmpleados={listarEmpleados}\r\n        id={id}\r\n      />\r\n\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalConfiguracion.propTypes = {\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  id: PropTypes.string,\r\n  listarEmpleados: PropTypes.func\r\n}\r\n\r\nexport default ModalConfiguracion\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Table, Tag, Tooltip, Typography } from 'antd'\r\n\r\nimport Contenedor from '../../common/Contenedor'\r\nimport HeaderEmpleados from './HeaderEmpleados';\r\nimport { CargoTag, EstadoTag } from './EmpleadoTag';\r\nimport ModalEmpleado from './ModalEmpleado';\r\nimport { getEmpleados, postEmpleados, putEmpleados } from '../../../services/apiEmpleado';\r\nimport { getContratas } from '../../../services/apiContrata';\r\nimport { getAreas } from '../../../services/apiAreas';\r\nimport { getCargos } from '../../../services/apiCargos';\r\nimport { getTipoEmpleados } from '../../../services/apiTipoEmpleados';\r\nimport { getZonas } from '../../../services/apiZonas';\r\nimport metodos from '../../../constants/metodos';\r\nimport ModalDetalle from './ModalDetalle';\r\nimport { obtenerFiltroId } from '../../../libraries/obtenerFiltro';\r\nimport { EditTwoTone, SettingTwoTone } from '@ant-design/icons';\r\nimport colores from '../../../constants/colores';\r\nimport ModalConfiguracion from './ModalConfiguracion';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport default function TablaEmpleados() {\r\n  const [totalEmpleados, setTotalEmpleados] = useState([]);\r\n  const [dataEmpleados, setDataEmpleados] = useState([]);\r\n  const [objEmpleado, setObjEmpleado] = useState({});\r\n  const [idEmpleado, setIdEmpleado] = useState(null);\r\n  const [modalCrear, setModalCrear] = useState(false);\r\n  const [modalEditar, setModalEditar] = useState(false);\r\n  const [modalConfiguraciones, setModalConfiguraciones] = useState(false);\r\n  const [modalDetalle, setModalDetalle] = useState(false);\r\n  const [listaContratas, setListaContratas] = useState([]);\r\n  const [listaAreas, setListaAreas] = useState([]);\r\n  const [listaCargos, setListaCargos] = useState([]);\r\n  const [listaTipos, setListaTipos] = useState([]);\r\n  const [listaZonas, setListaZonas] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [filtroCargos, setFiltroCargos] = useState([]);\r\n  const [filtroTipos, setFiltroTipos] = useState([]);\r\n  const [filtroAreas, setFiltroAreas] = useState([]);\r\n  const [filtroContratas, setFiltroContratas] = useState([]);\r\n  \r\n  useEffect(() => {\r\n    listarEmpleados();\r\n    listarContratas();\r\n    listarAreas();\r\n    listarCargos();\r\n    listarTipos();\r\n    listarZonas();\r\n  //eslint-disable-next-line\r\n  },[]);\r\n\r\n  async function listarEmpleados() {\r\n    setLoading(true);\r\n    await getEmpleados(\r\n      true, { metodo: metodos.EMPLEADOS_LISTAR_TODO }\r\n    ).then(({data}) => {\r\n      if (data && data.length > 0) {\r\n        setTotalEmpleados(data);\r\n        setDataEmpleados(data);\r\n        setFiltroCargos(obtenerFiltroId(data, \"cargo\", false));\r\n        setFiltroTipos(obtenerFiltroId(data, \"tipo_empleado\", false));\r\n        setFiltroAreas(obtenerFiltroId(data, \"area\", false));\r\n        setFiltroContratas(obtenerFiltroId(data, \"contrata\", false));\r\n      } else {\r\n        setDataEmpleados([]);\r\n      };\r\n    }).catch((error) => console.log(error)).finally(() => setLoading(false))\r\n  };\r\n\r\n  async function listarContratas() {\r\n    return await getContratas(false, metodos.CONTRATA_LISTAR_NOMBRES)\r\n      .then(({data}) => setListaContratas(data))\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  async function listarAreas() {\r\n    return await getAreas(false)\r\n      .then(({data}) => setListaAreas(data))\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  async function listarCargos() {\r\n    return await getCargos(false)\r\n      .then(({data}) => setListaCargos(data))\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  async function listarTipos() {\r\n    return await getTipoEmpleados(false)\r\n    .then(({data}) => setListaTipos(data))\r\n    .catch((error) => console.log(error));\r\n  };\r\n\r\n  async function listarZonas() {\r\n    return await getZonas(false)\r\n    .then(({data}) => setListaZonas(data))\r\n    .catch((error) => console.log(error));\r\n  };\r\n\r\n  async function guardarEmpleado({id, metodo, email, empleado}) {\r\n    await postEmpleados({metodo, email, empleado})\r\n      .then(() => abrirModalCrear())\r\n      .then(async() => await listarEmpleados())\r\n      .catch(error => console.log(error));\r\n  };\r\n\r\n  async function actualizarEmpleado({id, metodo, email, empleado}) {\r\n    await putEmpleados(id, { metodo, email, empleado })\r\n      .then(() => abrirModalEditar())\r\n      .then(async() => await listarEmpleados())\r\n      .catch(error => console.log(error));\r\n  }\r\n\r\n  const abrirModalCrear = () => setModalCrear(!modalCrear);\r\n  const abrirModalEditar = () => setModalEditar(!modalEditar);\r\n  const abrirModalDetalle = () => setModalDetalle(!modalDetalle);\r\n  const abrirModalConfigurar = () => setModalConfiguraciones(!modalConfiguraciones);\r\n\r\n  const verDetalleEmpleado = (empleado) => {\r\n    // setEmpleadoObj(empleado);\r\n    abrirModalDetalle();\r\n  };\r\n\r\n  const editarEmpleado  = (obj) => {\r\n    setObjEmpleado(obj);\r\n    abrirModalEditar();\r\n  };\r\n\r\n  const configurarEmpleado = (id) => {\r\n    setIdEmpleado(id);\r\n    abrirModalConfigurar();\r\n  };\r\n\r\n  const columnas = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Nombre',\r\n      dataIndex: 'nombre',\r\n      width: 150\r\n    },\r\n    {\r\n      title: 'Apellidos',\r\n      dataIndex: 'apellidos',\r\n      width: 150,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: apellidos => (\r\n        <Tooltip placement=\"topLeft\" title={apellidos}>\r\n          {apellidos}\r\n        </Tooltip>\r\n      ),\r\n    },\r\n    {\r\n      title: 'Email',\r\n      dataIndex: 'usuario',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (u) => (\r\n        <Tooltip placement=\"topLeft\" title={u && u.email}>\r\n          {u && u.email}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Cargo',\r\n      dataIndex: 'cargo',\r\n      width: 150,\r\n      filters: filtroCargos,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.cargo\r\n        } else if( r.cargo !== undefined) {\r\n          return r.cargo._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (u) => <CargoTag nivel={u.nivel} cargo={u.nombre}/>\r\n    },\r\n    {\r\n      title: 'Area',\r\n      dataIndex: 'area',\r\n      width: 150,\r\n      align: \"center\",\r\n      filters: filtroAreas,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.area\r\n        } else if( r.area !== undefined) {\r\n          return r.area._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (u) => <Tag color=\"#2db7f5\">{u.nombre}</Tag>\r\n    },\r\n    {\r\n      title: 'Tipo',\r\n      dataIndex: 'tipo_empleado',\r\n      width: 150,\r\n      align: \"center\",\r\n      filters: filtroTipos,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.tipo_empleado\r\n        } else if( r.tipo_empleado !== undefined) {\r\n          return r.tipo_empleado._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (u) => <Tag color=\"#A442FE\">{u.nombre}</Tag>\r\n    },\r\n    {\r\n      title: 'Zonas',\r\n      dataIndex: 'zonas',\r\n      width: 150,\r\n      render: (u) => {\r\n        if (u && u.length > 0) {\r\n          return (<div>\r\n          {\r\n            u.map((obj, i) => (<Tag key={i}>{obj.nombre}</Tag>))\r\n          }\r\n          </div>)\r\n        } else { return \"-\"}\r\n      }\r\n    },\r\n    {\r\n      title: 'Contrata',\r\n      dataIndex: 'contrata',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroContratas,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.contrata\r\n        } else if( r.contrata !== undefined) {\r\n          return r.contrata._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (c) => (\r\n        <Tooltip placement=\"topLeft\" title={c && c.nombre}>\r\n          {c && c.nombre}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Carnet',\r\n      dataIndex: 'carnet',\r\n      width: 150,\r\n      render: (c) => {\r\n        if (c) {\r\n          return (<Text copyable>{c}</Text>)\r\n        } else {\r\n          return \"-\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Estado',\r\n      dataIndex: 'estado_empresa',\r\n      width: 150,\r\n      render: (estado) => <EstadoTag estado={estado}/>\r\n    },\r\n    {\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      align: 'center',\r\n      fixed: \"right\",\r\n      width: 100,\r\n      render: (id, row) => <span>\r\n        <EditTwoTone\r\n          title=\"Editar\"\r\n          twoToneColor={colores.warning} \r\n          style={{paddingRight:'8px', fontSize: '1.5rem'}}\r\n          onClick={() => editarEmpleado(row)}\r\n        />\r\n        <SettingTwoTone\r\n          title=\"Configuraciones\"\r\n          style={{paddingRight:'8px', fontSize: '1.5rem'}}\r\n          onClick={() => configurarEmpleado(id)}\r\n        />\r\n      </span>\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Contenedor>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        onRow={(record) => {\r\n          return {\r\n            onDoubleClick: () => verDetalleEmpleado(record)\r\n          }\r\n        }}\r\n        className=\"tabla-personal\"\r\n        title={() => HeaderEmpleados(abrirModalCrear, totalEmpleados, setDataEmpleados)}\r\n        columns={columnas}\r\n        dataSource={dataEmpleados}\r\n        loading={loading}\r\n        size=\"small\"\r\n        scroll={{ x: '1250px', y: '65vh' }}\r\n        pagination={{\r\n          defaultPageSize: 50,\r\n          pageSizeOptions: [50,100, 200]\r\n        }}\r\n      />\r\n      {/* MODAL PARA CREAR EL NUEVO EMPLEADO */}\r\n      <ModalEmpleado\r\n        accion=\"crear\"\r\n        cargos={listaCargos}\r\n        tipos={listaTipos}\r\n        areas={listaAreas}\r\n        zonas={listaZonas}\r\n        contratas={listaContratas}\r\n        visible={modalCrear}\r\n        abrir={abrirModalCrear}\r\n        guardar={guardarEmpleado}\r\n      />\r\n      {/* MODAL PARA EDITAR EL EMPLEADO */}\r\n      <ModalEmpleado\r\n        accion=\"editar\"\r\n        cargos={listaCargos}\r\n        tipos={listaTipos}\r\n        areas={listaAreas}\r\n        zonas={listaZonas}\r\n        contratas={listaContratas}\r\n        visible={modalEditar}\r\n        abrir={abrirModalEditar}\r\n        empleado={objEmpleado}\r\n        guardar={actualizarEmpleado}\r\n      />\r\n      {/* MODAL DETALLE DEL EMPLEADO */}\r\n      <ModalDetalle\r\n        visible={modalDetalle}\r\n        abrirModal={abrirModalDetalle}\r\n        empleado={idEmpleado}\r\n      />\r\n      {/* MODAL PARA CONFIGURAR */}\r\n      <ModalConfiguracion\r\n        visible={modalConfiguraciones}\r\n        abrir={abrirModalConfigurar}\r\n        listarEmpleados={listarEmpleados}\r\n        id={idEmpleado}\r\n      />\r\n    </Contenedor>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Input, DatePicker, Select } from 'antd';\r\nimport moment from 'moment';\r\n\r\nconst { Option } = Select;\r\n\r\nfunction ModalContrata({visible, setVisible, accion, guardar, dataZonas=[], contrata={}}) {\r\n  const [nombre, setNombre] = useState(null);\r\n  const [zonas, setZonas] = useState([]);\r\n  const [ruc, setRuc] = useState(null);\r\n  const [fecha_incorporacion, setFecha_incorporacion] = useState(null);\r\n  const [observacion, setObservacion] = useState(null)\r\n\r\n  useEffect(() => {\r\n    if (contrata.nombre) {\r\n      setNombre(contrata.nombre);\r\n      setZonas(contrata.zonas)\r\n      setRuc(contrata.ruc);\r\n      setFecha_incorporacion(contrata.fecha_incorporacion);\r\n      setObservacion(contrata.observacion);\r\n    }\r\n  // eslint-disable-next-line\r\n  },[contrata]);\r\n\r\n  const limpiarEstados = async () => {\r\n    setNombre(null);\r\n    setZonas([]);\r\n    setRuc(null);\r\n    setFecha_incorporacion(null);\r\n    setObservacion(null);\r\n    setVisible(false);\r\n  };\r\n\r\n  const onOk = async () => {\r\n    await guardar({nombre, zonas, ruc, \r\n      fecha_incorporacion: fecha_incorporacion && fecha_incorporacion, \r\n      observacion: observacion && observacion\r\n    }, contrata.id);\r\n    limpiarEstados();\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      width={270}\r\n      cancelText=\"Cancelar\"\r\n      okText=\"Guardar\"\r\n      title={accion === 'crear' ? 'Crear Contrata':'Editar Contrata'}\r\n      visible={visible}\r\n      onOk={onOk}\r\n      onCancel={limpiarEstados}\r\n      destroyOnClose={true}\r\n      centered\r\n    >\r\n        <p>Nombre de Contrata:</p>\r\n        <Input\r\n          size=\"small\"\r\n          placeholder=\"Nombre de Contrata\" \r\n          defaultValue={nombre} \r\n          onChange={e => setNombre(e.target.value)}\r\n        /><br/><br/>\r\n        <p>Zonas:</p>\r\n        <Select\r\n          size=\"small\" \r\n          mode=\"multiple\"\r\n          placeholder=\"Seleccionar Zonas\"\r\n          style={{ width: \"100%\" }}\r\n          value={zonas}\r\n          onChange={(e) => setZonas(e)} \r\n        >\r\n        {\r\n          dataZonas && dataZonas.length > 0 ?\r\n          dataZonas.map((obj) => (\r\n            <Option key={obj._id}>{obj.nombre}</Option>\r\n          )):null\r\n        }\r\n        </Select><br/><br/>\r\n        <p>RUC:</p>\r\n        <Input\r\n          size=\"small\" \r\n          placeholder=\"RUC\" \r\n          defaultValue={ruc} \r\n          onChange={e => setRuc(e.target.value)}\r\n        /><br/><br/>\r\n        <p>Fecha de Incorporación:</p>\r\n        <DatePicker\r\n          size=\"small\"\r\n          defaultValue={fecha_incorporacion && moment.utc(fecha_incorporacion)} \r\n          onChange={(_, date) => setFecha_incorporacion(date)}\r\n        /><br/><br/>\r\n        <p>Observacion:</p>\r\n        <Input\r\n          size=\"small\"\r\n          placeholder=\"Observacion\" \r\n          defaultValue={observacion} \r\n          onChange={e => setObservacion(e.target.value)}\r\n        /><br/><br/>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalContrata.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  accion: PropTypes.string,\r\n  guardar: PropTypes.func,\r\n  contrata: PropTypes.object,\r\n  dataZonas: PropTypes.array\r\n}\r\n\r\nexport default ModalContrata\r\n\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { DatePicker, Modal, Radio, Space } from 'antd';\r\n\r\n\r\nfunction ModalEliminar({visible, setVisible, guardar, contrata={}}) {\r\n  const [activo, setActivo] = useState(true);\r\n  const [fecha_baja, setFecha_baja] = useState(null);\r\n\r\n  async function onOk() {\r\n    if (contrata._id) {\r\n      await guardar(contrata._id, { activo, fecha_baja });\r\n      limpiarModal();\r\n    } else {  \r\n      console.log('objeto contrata vacio.')\r\n    }\r\n  };\r\n\r\n  const cambiarEstado = (e) => setActivo(e.target.value);\r\n  const cambiarFecha = (_,f) => setFecha_baja(f);\r\n\r\n  const limpiarModal = () => {\r\n    setActivo(true);\r\n    setFecha_baja(null);\r\n    setVisible(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      width={250}\r\n      cancelText=\"Cancelar\"\r\n      okText=\"Guardar\"\r\n      title=\"Desactivar Contrata\"\r\n      visible={visible}\r\n      onOk={onOk}\r\n      onCancel={limpiarModal}\r\n      destroyOnClose={true}\r\n      centered\r\n    >\r\n      <Space direction=\"vertical\">\r\n        <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n          *La contrata no se eliminará de la base de datos, pero si dejará de aparecer en las listas del sistema.\r\n        </p>\r\n        Seleccionar estado:\r\n        <Radio.Group onChange={cambiarEstado} value={activo}>\r\n          <Radio value={true}>Activo</Radio>\r\n          <Radio value={false}>Inactivo</Radio>\r\n        </Radio.Group>\r\n        Seleccionar fecha de baja:\r\n        <DatePicker onChange={cambiarFecha}/>\r\n      </Space>\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalEliminar.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  guardar: PropTypes.func,\r\n  contrata: PropTypes.object\r\n};\r\n\r\nexport default ModalEliminar;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Table, Tag } from 'antd';\r\nimport { EditTwoTone, PlusOutlined, DeleteTwoTone } from '@ant-design/icons';\r\nimport moment from 'moment';\r\n\r\nimport Contenedor from '../../common/Contenedor';\r\nimport { getContratas, patchContrata, postContrata, putContrata } from '../../../services/apiContrata';\r\nimport metodos from '../../../constants/metodos';\r\nimport ModalContrata from './ModalContrata';\r\nimport colores from '../../../constants/colores';\r\nimport ModalEliminar from './ModalEliminar';\r\nimport { getZonas } from '../../../services/apiZonas';\r\n\r\nexport default function TablaContratas() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [dataContratas, setDataContratas] = useState([]);\r\n  const [dataZonas, setDataZonas] = useState([]);\r\n  const [modalCrear, setModalCrear] = useState(false);\r\n  const [modalEditar, setModalEditar] = useState(false);\r\n  const [modalEliminar, setModalEliminar] = useState(false);\r\n  const [contrata, setContrata] = useState({});\r\n\r\n  useEffect(() => {\r\n    cargarContratas();\r\n    cargarZonas();\r\n  },[]);\r\n\r\n  async function cargarContratas() {\r\n    setLoading(true);\r\n    await getContratas(true, metodos.CONTRATA_LISTAR_TODO)\r\n      .then(({data}) => setDataContratas(data && data))\r\n      .catch((error) => console.log(error))\r\n      .finally(() => setLoading(false));\r\n  };\r\n\r\n  async function cargarZonas() {\r\n    return await getZonas()\r\n      .then(({data}) => setDataZonas(data && data))\r\n      .catch((error) => console.log(error))\r\n  };\r\n\r\n  async function crearContrata(data) {\r\n    await postContrata({ metodo: metodos.CONTRATA_CREAR, contrata: data })\r\n      .then(async() => await cargarContratas())\r\n      .catch((error) => {\r\n        console.log(error);\r\n        abrirModalCrear();\r\n      })\r\n  };\r\n\r\n  async function editarContrata(data) {\r\n    if (contrata._id) {\r\n      await putContrata(contrata._id, { metodo: metodos.CONTRATA_EDITAR, contrata: data })\r\n        .then(async() => await cargarContratas())\r\n        .catch((error) => {\r\n          console.log(error);\r\n          abrirModalEditar();\r\n        })\r\n    }\r\n  };\r\n\r\n  async function eliminarContrata(id, data) {\r\n    await patchContrata(id, data)\r\n      .then(async() => await cargarContratas())\r\n      .catch(error => {\r\n        console.log(error);\r\n        abrirModalEliminar();\r\n      })\r\n  };\r\n\r\n  const abrirModalCrear = () => setModalCrear(!modalCrear);\r\n  const abrirModalEditar = () => setModalEditar(!modalEditar);\r\n  const abrirModalEliminar = () => setModalEliminar(!modalEliminar);\r\n\r\n  const columnas = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Nombre',\r\n      dataIndex: 'nombre',\r\n      width: 250,\r\n    },\r\n    {\r\n      title: 'Estado',\r\n      dataIndex: 'activo',\r\n      width: 150,\r\n      render: (a) => {\r\n        if (a) {\r\n          return (<Tag color=\"success\">Activo</Tag>)\r\n        } else {\r\n          return (<Tag color=\"error\">Inactivo</Tag>)\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Zonas',\r\n      dataIndex: 'zonas',\r\n      width: 150,\r\n      render: (u) => {\r\n        if (u && u.length > 0) {\r\n          return (<div>\r\n          {\r\n            u.map((obj, i) => (<Tag key={i}>{obj.nombre}</Tag>))\r\n          }\r\n          </div>)\r\n        } else { return \"-\"}\r\n      }\r\n    },\r\n    {\r\n      title: 'Fecha Inicio',\r\n      dataIndex: 'fecha_incorporacion',\r\n      width: 150,\r\n      render: (f) => f?moment(f).format('DD-MM-YYYY'):'-'\r\n    },\r\n    {\r\n      title: 'Fecha Baja',\r\n      dataIndex: 'fecha_baja',\r\n      width: 150,\r\n      render: (f) => f ? moment(f).format('DD-MM-YYYY'): '-'\r\n    },\r\n    {\r\n      title: 'Observación',\r\n      dataIndex: 'observacion'\r\n    },\r\n    {\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      align: 'center',\r\n      width: 100,\r\n      fixed: \"right\",\r\n      render: (_, row) => (\r\n        <span>\r\n          <EditTwoTone\r\n            title=\"Editar\"\r\n            twoToneColor={colores.warning} \r\n            style={{paddingRight:'8px', fontSize: '1.5rem'}}\r\n            onClick={() => {\r\n              abrirModalEditar();\r\n              setContrata(row);\r\n            }}\r\n          />\r\n          <DeleteTwoTone \r\n            title=\"Configuraciones\"\r\n            twoToneColor={colores.error} \r\n            style={{paddingRight:'8px', fontSize: '1.5rem'}}\r\n            onClick={() => {\r\n              abrirModalEliminar();\r\n              setContrata(row);\r\n            }}\r\n          />\r\n        </span>\r\n      )\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Contenedor>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        style={{ marginBottom: '1rem' }}\r\n        // className=\"tabla-personal\"\r\n        title={() => \r\n          <Button \r\n            icon={<PlusOutlined/>}\r\n            onClick={abrirModalCrear}\r\n          >\r\n            Agregar\r\n          </Button>\r\n        }\r\n        columns={columnas}\r\n        dataSource={dataContratas}\r\n        loading={loading}\r\n        size=\"small\"\r\n        scroll={{ y: '65vh' }}\r\n        pagination={false}\r\n      />\r\n      {/* MODAL PARA AGREGAR CONTRATA */}\r\n      <ModalContrata\r\n        visible={modalCrear}\r\n        setVisible={setModalCrear}\r\n        guardar={crearContrata}\r\n        dataZonas={dataZonas}\r\n        accion=\"crear\"\r\n      />\r\n      {/* MODAL PARA EDITAR CONTRATA */}\r\n      <ModalContrata\r\n        visible={modalEditar}\r\n        setVisible={setModalEditar}\r\n        guardar={editarContrata}\r\n        dataZonas={dataZonas}\r\n        contrata={contrata}\r\n        accion=\"editar\"\r\n      />\r\n      {/* MODAL ELIMINAR CONTRATA */}\r\n      <ModalEliminar\r\n        visible={modalEliminar}\r\n        setVisible={setModalEliminar}\r\n        guardar={eliminarContrata}\r\n        contrata={contrata}\r\n      />\r\n    </Contenedor>\r\n  )\r\n}\r\n","import { rutas as listaRutas } from '../constants/listaRutas';\r\nimport ListaPersonal from \"../views/GestionPersonal/ListaPersonal\";\r\nimport ListaContratas from '../views/GestionPersonal/ListaContratas';\r\n\r\nconst rutas = [\r\n  {\r\n    path: listaRutas.listaPersonal,\r\n    exact: true,\r\n    component: ListaPersonal\r\n  },\r\n  {\r\n    path: listaRutas.listaContratas,\r\n    exact: true,\r\n    component: ListaContratas\r\n  }\r\n]\r\n\r\nexport default rutas","import React from 'react';\r\n\r\nimport TituloVista from '../../components/common/TituloContent';\r\nimport TablaEmpleados from '../../components/gestionEmpleados/personal/TablaEmpleados';\r\n\r\nexport default function ListaPersonal() {\r\n  return (\r\n    <div>\r\n      <TituloVista\r\n        titulo=\"Lista de Personal\"\r\n        subtitulo=\"Usuarios y Personal\"\r\n      />\r\n      <TablaEmpleados/>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\n\r\nimport TituloContent from '../../components/common/TituloContent';\r\nimport TablaContratas from '../../components/gestionEmpleados/contrata/TablaContratas';\r\n\r\nexport default function ListaContratas() {\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Lista de Contratas\" subtitulo=\"Usuarios y Personal\"/>\r\n      <TablaContratas/>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Select, Table, Button, Row, Col, Radio, Input, Tooltip, Typography } from 'antd';\r\nimport { CheckCircleOutlined, ExportOutlined, LoadingOutlined } from '@ant-design/icons';\r\nimport { useJsonToCsv } from 'react-json-csv';\r\nimport moment from 'moment';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nimport { getEmpleados, patchEmpleados } from '../../../../services/apiEmpleado';\r\nimport metodos from '../../../../constants/metodos';\r\nimport { obtenerFiltroId } from '../../../../libraries/obtenerFiltro';\r\nimport { tipoNegocio, subTipoNegocio } from '../../../../constants/tipoOrden';\r\nimport capitalizar from '../../../../libraries/capitalizar';\r\n\r\nconst { Option } = Select;\r\nconst { Search } = Input;\r\nconst { Text } = Typography;\r\n\r\nconst valoresTecnicos = {\r\n  contrata: \"Contrata\",\r\n  carnet: \"Carnet\",\r\n  tecnico: \"Tecnico\",\r\n  gestor: \"Gestor\",\r\n  auditor: \"auditor\",\r\n  supervisor: \"supervisor\",\r\n  tipo_negocio: \"Negocio\",\r\n  sub_tipo_negocio: \"Sub Negocio\"\r\n};\r\n\r\nfunction TablaRutasOperativas({gestores=[], loadingGestores, auditores=[], loadingAuditores, supervisores=[], loadingSupervisores}) {\r\n  const [totalTecnicos, setTotalTecnicos] = useState([]);\r\n  const [dataTecnicos, setDataTecnicos] = useState([]);\r\n  const [loadingTecnicos, setLoadingTecnicos] = useState(false);\r\n  const [loadingAsignar, setLoadingAsignar] = useState({\r\n    gestor: false,\r\n    supervisor: false,\r\n    auditor: false,\r\n    negocio: false,\r\n    subNegocio: false\r\n  });\r\n  const [tecnicosSeleccionados, setTecnicosSeleccionados] = useState([]);\r\n  const [tipoSeleccionado, setTipoSeleccionado] = useState({\r\n    gestor: null,\r\n    supervisor: null,\r\n    auditor: null,\r\n    negocio: null,\r\n    subNegocio: null\r\n  })\r\n  const [filtroContrata, setFiltroContrata] = useState([]);\r\n  const [filtroGestor, setFiltroGestor] = useState([]);\r\n  const [filtroAuditor, setFiltroAuditor] = useState([]);\r\n  const [filtroSupervisor, setFiltroSupervisor] = useState([]);\r\n  const [tipoBusqueda, setTipoBusqueda] = useState(\"nombre\");\r\n  const [filtros, setFiltros] = useState(null);\r\n  const { saveAsCsv } = useJsonToCsv();\r\n\r\n  useEffect(() => {\r\n    cargarEmpleados();\r\n  },[]);\r\n\r\n  useEffect(() => {\r\n    if (dataTecnicos && dataTecnicos.length > 0) {\r\n      generarFiltros(dataTecnicos);\r\n    } \r\n  //eslint-disable-next-line\r\n  },[dataTecnicos]);\r\n\r\n  async function cargarEmpleados() {\r\n    setLoadingTecnicos(true);\r\n    await getEmpleados(true, { metodo: metodos.EMPLEADOS_LISTAR_TECNICOS }).then(async({data}) => {\r\n      if (data) {\r\n        setDataTecnicos(data);\r\n        setTotalTecnicos(data);\r\n      } else {\r\n        setDataTecnicos([]);\r\n        setTotalTecnicos([]);\r\n      }\r\n    }).catch((error) => console.log(error)).finally(() => setLoadingTecnicos(false));\r\n  };\r\n\r\n  async function asignarTecnico(tipo) {\r\n    if (tecnicosSeleccionados.length < 1) return cogoToast.warn(\"No hay tecnicos seleccionados\", { position: \"top-right\" });\r\n    const dataSend = {\r\n      metodo: metodos.EMPLEADOS_ACTUALIZAR_RUTA, \r\n      [tipo]: tipoSeleccionado[tipo],\r\n      tecnicos: tecnicosSeleccionados\r\n    }\r\n    if (tipo === 'gestor' && !tipoSeleccionado[tipo]) return cogoToast.warn(`Debes seleccionar un ${tipo}`, { position: \"top-right\" });\r\n    if (tipo === 'auditor' && !tipoSeleccionado[tipo]) return cogoToast.warn(`Debes seleccionar un ${tipo}`, { position: \"top-right\" });\r\n    if (tipo === 'supervisor' && !tipoSeleccionado[tipo]) return cogoToast.warn(`Debes seleccionar un ${tipo}`, { position: \"top-right\" });\r\n    if (tipo === 'negocio' && !tipoSeleccionado[tipo]) return cogoToast.warn(`Debes seleccionar un ${tipo}`, { position: \"top-right\" });\r\n    if (tipo === 'subNegocio' && !tipoSeleccionado[tipo]) return cogoToast.warn(`Debes seleccionar un ${tipo}`, { position: \"top-right\" });\r\n    \r\n    setLoadingAsignar({...loadingAsignar, [tipo]: true});\r\n    await patchEmpleados(true, dataSend)\r\n      .then(async() => await cargarEmpleados())\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setLoadingAsignar({...loadingAsignar, [tipo]: false}));\r\n  };\r\n\r\n  const exportarTecnicos = () => {\r\n    if (dataTecnicos && dataTecnicos.length > 0) {\r\n      return saveAsCsv({ \r\n        data: dataTecnicos.map((o) => {\r\n          return ({\r\n            ...o,\r\n            tecnico: o.nombre && o.apellidos ? o.nombre + ' ' + o.apellidos : '-',\r\n            gestor: o.gestor ? o.gestor.nombre + ' ' + o.gestor.apellidos : '-',\r\n            auditor: o.auditor && o.auditor.nombre ? o.auditor.nombre + ' ' + o.auditor.apellidos : '-',\r\n            contrata: o.contrata ? o.contrata.nombre : '-'\r\n          })\r\n        }), \r\n        fields: valoresTecnicos, \r\n        filename: `data_personal_${moment().format('DD_MM_YY_HH_mm')}`\r\n      })\r\n    }\r\n  };\r\n\r\n  const realizarBusqueda = (e) => {\r\n    const valor = e.target.value;\r\n    if (String(valor).length > 0 && tipoBusqueda && totalTecnicos.length > 0) {\r\n      setDataTecnicos(totalTecnicos.filter((e) =>String(e[tipoBusqueda]).toLowerCase().indexOf(String(valor).toLowerCase()) === 0))\r\n    } else {\r\n      setDataTecnicos(totalTecnicos)\r\n    };\r\n  };\r\n\r\n  const generarFiltros = (dataSource) => {\r\n    setFiltroContrata(obtenerFiltroId(dataSource, 'contrata'));\r\n    setFiltroGestor(obtenerFiltroId(dataSource, 'gestor', true));\r\n    setFiltroAuditor(obtenerFiltroId(dataSource, 'auditor', true));\r\n    setFiltroSupervisor(obtenerFiltroId(dataSource, 'supervisor', true));\r\n  };\r\n\r\n  const onChangeTable = (_, filters, __, dataSource) => {\r\n    generarFiltros(dataSource.currentDataSource);\r\n    setTecnicosSeleccionados([]);\r\n    setFiltros(filters);\r\n  };\r\n\r\n  const columnas = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      align: 'center',\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Nombre',\r\n      width: 150,\r\n      ellipsis: {\r\n        title: true\r\n      },\r\n      dataIndex: 'nombre',\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t}>{t}</Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Apellidos',\r\n      width: 150,\r\n      ellipsis: {\r\n        title: true\r\n      },\r\n      dataIndex: 'apellidos',\r\n      render: (t) => <Tooltip placement=\"topLeft\" title={t}>{t}</Tooltip>\r\n    },\r\n    {\r\n      title: 'Carnet',\r\n      width: 100,\r\n      dataIndex: 'carnet',\r\n      render: (e) => <Text copyable>{e}</Text>\r\n    },\r\n    {\r\n      title: 'Contrata',\r\n      width: 160,\r\n      ellipsis: {\r\n        title: true\r\n      },\r\n      dataIndex: 'contrata',\r\n      filteredValue: filtros && filtros.contrata ? filtros.contrata : null,\r\n      filters: filtroContrata,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.contrata\r\n        } else if( r.contrata !== undefined) {\r\n          return r.contrata._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t.nombre ? t.nombre: '-'}>{t ? t.nombre: '-'}</Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Gestor',\r\n      width: 150,\r\n      ellipsis: {\r\n        title: true\r\n      },\r\n      dataIndex: 'gestor',\r\n      filteredValue: filtros && filtros.gestor ? filtros.gestor : null,\r\n      filters: filtroGestor,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.gestor\r\n        } else if( r.gestor !== undefined && r.gestor !== null) {\r\n          return r.gestor._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (gestor) => {\r\n        if (gestor && gestor.nombre && gestor.apellidos) {\r\n          const nombre = gestor.nombre + ' ' + gestor.apellidos\r\n          return <Tooltip placement=\"topLeft\" title={nombre}>{nombre}</Tooltip>\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Auditor',\r\n      width: 150,\r\n      ellipsis: {\r\n        title: true\r\n      },\r\n      dataIndex: 'auditor',\r\n      filteredValue: filtros && filtros.auditor ? filtros.auditor : null,\r\n      filters: filtroAuditor,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.auditor\r\n        } else if( r.auditor !== undefined) {\r\n          return r.auditor._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (auditor) => {\r\n        if (auditor && auditor.nombre && auditor.apellidos) {\r\n          const nombre = auditor.nombre + ' ' + auditor.apellidos;\r\n          return <Tooltip placement=\"topLeft\" title={nombre}>{nombre}</Tooltip>\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Supervisor',\r\n      width: 150,\r\n      ellipsis: {\r\n        title: true\r\n      },\r\n      dataIndex: 'supervisor',\r\n      filteredValue: filtros && filtros.supervisor ? filtros.supervisor : null,\r\n      filters: filtroSupervisor,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.supervisor\r\n        } else if( r.supervisor !== undefined) {\r\n          return r.supervisor._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (obj) => {\r\n        if (obj && obj.nombre && obj.apellidos) {\r\n          const nombre = obj.nombre + ' ' + obj.apellidos;\r\n          return <Tooltip placement=\"topLeft\" title={nombre}>{nombre}</Tooltip>\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Negocio',\r\n      width: 100,\r\n      align: \"center\",\r\n      dataIndex: 'tipo_negocio',\r\n      filteredValue: filtros && filtros.tipo_negocio ? filtros.tipo_negocio : null,\r\n      filters: tipoNegocio,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.tipo_negocio\r\n        } else if( r.tipo_negocio !== undefined) {\r\n          return r.tipo_negocio.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => String(t).toUpperCase()\r\n    },\r\n    {\r\n      title: 'Sub Negocio',\r\n      width: 130,\r\n      align: \"center\",\r\n      dataIndex: 'sub_tipo_negocio',\r\n      filteredValue: filtros && filtros.sub_tipo_negocio ? filtros.sub_tipo_negocio : null,\r\n      filters: subTipoNegocio,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.sub_tipo_negocio\r\n        } else if( r.sub_tipo_negocio !== undefined) {\r\n          return r.sub_tipo_negocio.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => String(t).toUpperCase()\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Row style={{ marginBottom: '.5rem', marginTop: '.5rem' }}>\r\n        <Col sm={12}>\r\n          <p>Asignar Gestor:</p>\r\n          <Select\r\n            showSearch\r\n            placeholder=\"Buscar por nombre\"\r\n            size=\"small\"\r\n            loading={loadingGestores}\r\n            defaultValue={tipoSeleccionado.gestor}\r\n            onChange={gestor => setTipoSeleccionado({...tipoSeleccionado, gestor})} \r\n            style={{ width: 300, marginBottom: '.5rem', marginRight: '.5rem' }}\r\n            filterOption={(input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0 }\r\n          >\r\n          {\r\n            gestores.length > 0 ? \r\n            gestores.map((e, i) => (\r\n              <Option key={i} value={e._id}>{`${e.nombre} ${e.apellidos}`}</Option>\r\n            ))\r\n            :\r\n            <Option>Sin data</Option>\r\n          }\r\n          </Select>\r\n          <Button \r\n            size=\"small\"\r\n            type=\"primary\"\r\n            style={{ marginBottom: \".5rem\" }}\r\n            disabled={loadingAsignar.gestor}\r\n            icon={loadingAsignar.gestor ? <LoadingOutlined spin/>: <CheckCircleOutlined/>}\r\n            onClick={() => asignarTecnico('gestor')}\r\n          >Asignar</Button>\r\n          <p>Asignar Auditor:</p>\r\n          <Select\r\n            showSearch\r\n            size=\"small\"\r\n            placeholder=\"Buscar por nombre\"\r\n            loading={loadingAuditores}\r\n            defaultValue={tipoSeleccionado.auditor}\r\n            onChange={auditor => setTipoSeleccionado({...tipoSeleccionado, auditor})} \r\n            style={{ width: 300, marginBottom: '.5rem', marginRight: '.5rem' }}\r\n            filterOption={(input, option) => {\r\n                return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n              }\r\n            }\r\n          >\r\n          {\r\n            auditores.length > 0 ? \r\n            auditores.map((e, i) => (\r\n              <Option key={i} value={e._id}>{`${e.nombre} ${e.apellidos}`}</Option>\r\n            ))\r\n            :\r\n            <Option>Sin data</Option>\r\n          }\r\n          </Select>\r\n          <Button \r\n            size=\"small\"\r\n            type=\"primary\"\r\n            disabled={loadingAsignar.auditor}\r\n            style={{ marginBottom: \".5rem\" }}\r\n            icon={loadingAsignar.auditor ? <LoadingOutlined spin/>:<CheckCircleOutlined/>}\r\n            onClick={() => asignarTecnico('auditor')}\r\n          >Asignar</Button>\r\n          <p>Asignar Supervisor:</p>\r\n          <Select\r\n            showSearch\r\n            size=\"small\"\r\n            placeholder=\"Buscar por nombre\"\r\n            loading={loadingSupervisores}\r\n            defaultValue={tipoSeleccionado.supervisor}\r\n            onChange={supervisor => setTipoSeleccionado({...tipoSeleccionado, supervisor})} \r\n            style={{ width: 300, marginBottom: '.5rem', marginRight: '.5rem' }}\r\n            filterOption={(input, option) => {\r\n                return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n              }\r\n            }\r\n          >\r\n          {\r\n            supervisores.length > 0 ? \r\n            supervisores.map((e, i) => (\r\n              <Option key={i} value={e._id}>{`${e.nombre} ${e.apellidos}`}</Option>\r\n            ))\r\n            :\r\n            <Option>Sin data</Option>\r\n          }\r\n          </Select>\r\n          <Button \r\n            size=\"small\"\r\n            type=\"primary\"\r\n            style={{ marginBottom: \".5rem\" }}\r\n            disabled={loadingAsignar.supervisor}\r\n            icon={loadingAsignar.supervisor ? <LoadingOutlined spin/>:<CheckCircleOutlined/>}\r\n            onClick={() => asignarTecnico('supervisor')}\r\n          >Asignar</Button>\r\n        </Col>\r\n        <Col sm={12}>\r\n          <p>Asignar Tipo de Negocio:</p>\r\n          <Select\r\n            size=\"small\"\r\n            placeholder=\"Buscar Tipo de Negocio\"\r\n            defaultValue={tipoSeleccionado.negocio}\r\n            onChange={negocio => setTipoSeleccionado({...tipoSeleccionado, negocio})} \r\n            style={{ width: 300, marginBottom: '.5rem', marginRight: '.5rem' }}\r\n          >\r\n          {\r\n            tipoNegocio.map((n) => (\r\n              <Option key={n.value} value={n.value}>{n.text}</Option>\r\n            ))\r\n          }\r\n          </Select>\r\n          <Button \r\n            size=\"small\"\r\n            type=\"primary\"\r\n            style={{ marginBottom: \".5rem\" }}\r\n            disabled={loadingAsignar.negocio}\r\n            icon={loadingAsignar.negocio ? <LoadingOutlined spin/>:<CheckCircleOutlined/>}\r\n            onClick={() => asignarTecnico('negocio')}\r\n          >Asignar</Button>\r\n          <p>Asignar Subtipo de Negocio:</p>\r\n          <Select\r\n            size=\"small\"\r\n            placeholder=\"Buscar Subtipo de Negocio\"\r\n            defaultValue={tipoSeleccionado.subNegocio}\r\n            onChange={subNegocio => setTipoSeleccionado({...tipoSeleccionado, subNegocio})}  \r\n            style={{ width: 300, marginBottom: '.5rem', marginRight: '.5rem' }}\r\n          >\r\n          {\r\n            subTipoNegocio.map((n) => (\r\n              <Option key={n.value} value={n.value}>{n.text}</Option>\r\n            ))\r\n          }\r\n          </Select>\r\n          <Button \r\n            size=\"small\"\r\n            type=\"primary\"\r\n            style={{ marginBottom: \".5rem\" }}\r\n            disabled={loadingAsignar.subNegocio}\r\n            icon={loadingAsignar.subNegocio ? <LoadingOutlined spin/>:<CheckCircleOutlined/>}\r\n            onClick={() => asignarTecnico('subNegocio')}\r\n          >Asignar</Button>\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        title={() => <div>\r\n          <Radio.Group size=\"small\" value={tipoBusqueda} onChange={(e) => setTipoBusqueda(e.target.value)}>\r\n            <Radio value=\"nombre\">Nombre</Radio>\r\n            <Radio value=\"apellidos\">Apellidos</Radio>\r\n            <Radio value=\"carnet\">Carnet</Radio>\r\n          </Radio.Group>\r\n          <Search \r\n            onChange={realizarBusqueda}\r\n            placeholder={`Buscar ${capitalizar(tipoBusqueda)}`} \r\n            allowClear\r\n            size=\"small\" \r\n            style={{ width: 200 }}\r\n          />\r\n        </div>}\r\n        rowKey=\"_id\"\r\n        size=\"small\"\r\n        dataSource={dataTecnicos}\r\n        loading={loadingTecnicos}\r\n        columns={columnas}\r\n        onChange={onChangeTable}\r\n        rowSelection={{\r\n          columnWidth: 30,\r\n          selectedRowKeys: tecnicosSeleccionados,\r\n          onChange: (e) => setTecnicosSeleccionados(e)\r\n        }}\r\n        pagination={{\r\n          defaultPageSize: 50,\r\n          pageSizeOptions: [50,100,200],\r\n        }}\r\n        scroll={{ y: '70vh' }}\r\n        footer={() => <Button type=\"primary\" size=\"small\" icon={<ExportOutlined/>} onClick={exportarTecnicos}>Exportar</Button>}\r\n      />      \r\n    </div>\r\n  )\r\n}\r\n\r\nTablaRutasOperativas.propTypes = {\r\n  gestores: PropTypes.array,\r\n  loadingGestores: PropTypes.bool,\r\n  auditores: PropTypes.array,\r\n  loadingAuditores: PropTypes.bool,\r\n  supervisores: PropTypes.array,\r\n  loadingSupervisores: PropTypes.bool,\r\n}\r\n\r\nexport default TablaRutasOperativas\r\n\r\n","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Modal, Select } from 'antd';\r\n\r\nconst { Option } = Select;\r\n \r\nfunction ModalAsignar({tecnicos=[], abrir, visible, guardar}) {\r\n  const [tecnicoSeleccionado, setTecnicoSeleccionado] = useState(null);\r\n\r\n  async function asignarTecnico() {\r\n    await guardar(tecnicoSeleccionado);\r\n    abrir();\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Asignar Técnico\"\r\n      width={450}\r\n      visible={visible}\r\n      onOk={asignarTecnico}\r\n      onCancel={abrir}\r\n      afterClose={() => setTecnicoSeleccionado(null)}\r\n      centered\r\n    > \r\n      <Select \r\n        placeholder=\"Seleccionar Técnico\"\r\n        filterOption={(input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0 }\r\n        style={{ width: 400 }}\r\n        value={tecnicoSeleccionado}\r\n        onChange={(e) => setTecnicoSeleccionado(e)}\r\n        showSearch\r\n      >\r\n      {\r\n        tecnicos && tecnicos.length > 0 ? tecnicos.map((e, i) => (\r\n          <Option key={i} value={e._id}>{`${e.nombre} ${e.apellidos}`}</Option>\r\n        )):null\r\n      }\r\n      </Select>\r\n\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalAsignar.propTypes = {\r\n  tecnicos: PropTypes.array,\r\n  abrir: PropTypes.func,\r\n  visible: PropTypes.bool,\r\n  guardar: PropTypes.func\r\n}\r\n\r\nexport default ModalAsignar\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { getEmpleados, patchEmpleados } from '../../../../services/apiEmpleado';\r\nimport metodos from '../../../../constants/metodos';\r\nimport { Table, Tag, Tooltip, Typography } from 'antd';\r\nimport { CheckSquareTwoTone } from '@ant-design/icons';\r\nimport { obtenerFiltroId } from '../../../../libraries/obtenerFiltro';\r\nimport ModalAsignar from './ModalAsignar';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport default function TablaRutasApoyo() {\r\n  const [listaSemilleros, setListaSemilleros] = useState([]);\r\n  const [listaTecnicos, setListaTecnicos] = useState([]);\r\n  const [loadingSemilleros, setLoadingSemilleros] = useState(false);\r\n  const [filtroCargo, setFiltroCargo] = useState([]);\r\n  const [filtroTecnico, setFiltroTecnico] = useState([]);\r\n  const [modalAsignar, setModalAsignar] = useState(false);\r\n  const [IdSemillero, setIdSemillero] = useState(null);\r\n\r\n  useEffect(() => {\r\n    cargarSemilleros();\r\n    cargarTecnicos();\r\n  },[]);\r\n\r\n  async function cargarTecnicos(){\r\n    return await getEmpleados(false, { metodo: metodos.EMPLEADOS_LISTAR_TECNICOS })\r\n      .then(({data}) => setListaTecnicos(data))\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  async function cargarSemilleros() {\r\n    setLoadingSemilleros(true);\r\n    return await getEmpleados(true, { metodo: metodos.EMPLEADOS_LISTAR_APOYO })\r\n      .then(({data}) => {\r\n        if (data && data.length > 0) {\r\n          setListaSemilleros(data);\r\n          setFiltroCargo(obtenerFiltroId(data, \"cargo\", false));\r\n          setFiltroTecnico(obtenerFiltroId(data, \"tecnico\", true))\r\n        } else {\r\n          setListaSemilleros([]);\r\n        }\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingSemilleros(false));\r\n  };\r\n\r\n  async function asignarTecnico(tecnico){\r\n    return await patchEmpleados(true, { metodo: metodos.EMPLEADOS_ACTUALIZAR_RUTA, tecnicos: [IdSemillero], tecnico })\r\n      .then(() => listaSemilleros())\r\n      .catch((err) => console.log(err))\r\n  };\r\n\r\n  const asignarEmpleado = (id) => {\r\n    setIdSemillero(id);\r\n    abrirModalAsignar();\r\n  };\r\n\r\n  const abrirModalAsignar = () => setModalAsignar(!modalAsignar);\r\n\r\n  const columnas = [\r\n    {\r\n      title: \"#\",\r\n      width: 60,\r\n      render: (_,__, i) => i+1\r\n    },\r\n    {\r\n      title: \"Nombre\",\r\n      dataIndex: \"nombre\",\r\n      width: 150,\r\n      ellipsis: {\r\n        title: true\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t}>{t}</Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: \"Apellidos\",\r\n      dataIndex: \"apellidos\",\r\n      width: 150,\r\n      ellipsis: {\r\n        title: true\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t}>{t}</Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: \"Cargo\",\r\n      dataIndex: \"cargo\",\r\n      width: 100,\r\n      filters : filtroCargo,\r\n      onFilter: (v,r) => r.cargo._id.indexOf(v) === 0,\r\n      render: (c) => <Tag>{c.nombre}</Tag>\r\n    },\r\n    {\r\n      title: \"Tecnico\",\r\n      dataIndex: \"tecnico\",\r\n      width: 150,\r\n      filters: filtroTecnico,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.tecnico\r\n        }else if (r && r.tecnico && r.tecnico._id) {\r\n          return r.tecnico._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      ellipsis: {\r\n        title: true\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t && t.apellidos}>{t && t.apellidos}</Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: \"Tecnico Carnet\",\r\n      dataIndex: \"tecnico\",\r\n      width: 150,\r\n      align: \"center\",\r\n      render: (t) => <Text>{t && t.carnet}</Text>\r\n    },\r\n    {\r\n      title: \"Asignar\",\r\n      dataIndex: \"_id\",\r\n      width: 70,\r\n      align: \"center\",\r\n      fixed: \"right\",\r\n      render: (id) => <CheckSquareTwoTone onClick={() => asignarEmpleado(id)} style={{ cursor: \"pointer\", fontSize:\"1.5rem\" }} />\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <div>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        size=\"small\"\r\n        columns={columnas}\r\n        dataSource={listaSemilleros}\r\n        loading={loadingSemilleros}\r\n        pagination={{\r\n          defaultPageSize: 50,\r\n          pageSizeOptions: [50,100,200]\r\n        }}\r\n        scroll={{ x: \"75vw\", y: \"75vh\" }}\r\n      />\r\n      {/* MODAL PARA ASIGNAR LA RUTA AL TECNICO */}\r\n      <ModalAsignar tecnicos={listaTecnicos} abrir={abrirModalAsignar} visible={modalAsignar} guardar={asignarTecnico}/>\r\n    </div>\r\n  )\r\n};\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Tabs } from 'antd';\r\n\r\nimport TituloContent from '../../../components/common/TituloContent';\r\nimport Contenedor from '../../../components/common/Contenedor';\r\nimport TablaRutasOperativas from '../../../components/operativa/listaRutas/asignarRutas/TablaRutasOperativas';\r\nimport { getEmpleados } from '../../../services/apiEmpleado';\r\nimport metodos from '../../../constants/metodos';\r\nimport { GlobalOutlined, PartitionOutlined } from '@ant-design/icons';\r\nimport TablaRutasApoyo from '../../../components/operativa/listaRutas/asignarRutas/TablaRutasApoyo';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function AsignarRutas() {\r\n  const [listaGestores, setListaGestores] = useState([]);\r\n  const [loadingGestores, setLoadingGestores] = useState(false);\r\n  const [listaAuditores, setListaAuditores] = useState([]);\r\n  const [loadingAuditores, setLoadingAuditores] = useState(false);\r\n  const [listaSupervisores, setListaSupervisores] = useState([]);\r\n  const [loadingSupervisores, setLoadingSupervisores] = useState(false);\r\n\r\n  useEffect(() => {\r\n    cargarGestores();\r\n    cargarAuditores();\r\n    cargarSupervisores();\r\n  },[]);\r\n\r\n  async function cargarGestores() {\r\n    setLoadingGestores(true);\r\n    await getEmpleados(false, { metodo: metodos.EMPLEADOS_LISTAR_GESTORES }).then(({data}) => {\r\n      if(data) setListaGestores([...data, { _id: '-', nombre: '-', apellidos: '' }]);\r\n      return;\r\n    }).catch((err) => console.log(err)).finally(() => setLoadingGestores(false));\r\n  };\r\n\r\n  async function cargarAuditores() {\r\n    setLoadingAuditores(true);\r\n    await getEmpleados(false, { metodo: metodos.EMPLEADOS_LISTAR_AUDITORES } ).then(({data}) => {\r\n      if(data) setListaAuditores(data);\r\n      return;\r\n    }).catch((err) => console.log(err)).finally(() => setLoadingAuditores(false));\r\n  };\r\n\r\n  async function cargarSupervisores() {\r\n    setLoadingSupervisores(true);\r\n    await getEmpleados(false, {metodo: metodos.EMPLEADOS_LISTAR_SUPERVISORES}).then(({data}) => {\r\n      if(data) setListaSupervisores(data);\r\n      return;\r\n    }).catch((err) => console.log(err)).finally(() => setLoadingSupervisores(false));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Asignar Rutas\" subtitulo=\"Lista Rutas\"/>\r\n      <Contenedor>\r\n        <Tabs style={{paddingLeft: '1rem'}} animated={false}>\r\n          <TabPane\r\n            tab={\r\n              <span>\r\n                <GlobalOutlined />\r\n                Rutas Operativas\r\n              </span>\r\n            }\r\n            key=\"1\"\r\n          >\r\n            <TablaRutasOperativas\r\n              gestores={listaGestores}\r\n              loadingGestores={loadingGestores}\r\n              auditores={listaAuditores}\r\n              loadingAuditores={loadingAuditores}\r\n              supervisores={listaSupervisores}\r\n              loadingSupervisores={loadingSupervisores}\r\n            />\r\n          </TabPane>\r\n          <TabPane\r\n            tab={\r\n              <span>\r\n                <PartitionOutlined />\r\n                Rutas de Apoyo \r\n              </span>\r\n            }\r\n            key=\"2\"\r\n          >\r\n            <TablaRutasApoyo/>\r\n          </TabPane>\r\n        </Tabs>\r\n      </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","import { restPrivate } from './requestHelper';\r\n\r\n/**\r\n * @param {object} data \r\n * @param {string} data.cargo\r\n * @param {Date} data.fechaInicio\r\n * @param {Date} data.fechaFin\r\n */\r\nexport const getAsistencias = async ({cargo, fechaInicio, fechaFin}) => restPrivate({\r\n  url: 'asistencias', method: 'GET', params: {cargo, fechaInicio, fechaFin}\r\n}, true);\r\n/**\r\n * @param {object} data \r\n * @param {string} data.metodo\r\n * @param {object} data.asistencia\r\n * @param {Date} data.asistencia.fecha\r\n * @param {string} data.asistencia.observacion\r\n * @param {string} data.asistencia.empleado\r\n * @param {string} data.asistencia.estado\r\n */\r\nexport const postAsistencias = async ({ metodo, asistencia }) => restPrivate({\r\n  url: 'asistencias', method: 'POST', data: { metodo, asistencia }\r\n}, true)\r\n\r\n/**\r\n * @param {object} data \r\n * @param {string} data.metodo\r\n * @param {object} data.asistencia\r\n * @param {string} data.asistencia._id\r\n * @param {string} data.asistencia.estado\r\n * @param {string} data.asistencia.observacion\r\n */\r\nexport const patchAsistencia = async ({metodo, asistencia}) => restPrivate({\r\n  url: 'asistencias', method: 'PATCH', data: { metodo, asistencia }\r\n}, true)","import moment from 'moment';\r\nimport { niveles } from '../constants/cargos';\r\n/**\r\n * @param {number} nivel\r\n * @param {array} data \r\n */\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default function(nivel, data){\r\n  if (nivel === niveles.OPERATIVO) {\r\n    return ordenarTecnicos(data);\r\n  } else if (nivel === niveles.FUERA_SISTEMA) {\r\n    return ordenarOtros(data);\r\n  } else {\r\n    return ordenarDefault(data);\r\n  };\r\n};\r\n\r\nfunction ordenarDefault(data=[]) {\r\n  try {\r\n    let nuevoArray = [];\r\n    if (data.length === 0 ) return nuevoArray\r\n    data.forEach((obj) => {\r\n      if (nuevoArray.length > 0) {\r\n        const aux = nuevoArray.findIndex((i) => i.empleado && i.empleado.nombre === obj.empleado.nombre && i.empleado.apellidos === obj.empleado.apellidos);\r\n        if (aux !== -1 && obj.fecha_asistencia ) {\r\n          const objetoNuevo = nuevoArray[aux];\r\n          const field = moment(obj.fecha_asistencia).format('DD-MM');\r\n          nuevoArray[aux] = {\r\n            ...objetoNuevo,\r\n            [field]: {\r\n              _id: obj._id,\r\n              estado: obj.estado,\r\n              iniciado: obj.iniciado,\r\n              fecha_iniciado: obj.fecha_iniciado,\r\n              historial_registro: obj.historial_registro\r\n            }\r\n          };\r\n        } else {\r\n          const field = moment(obj.fecha_asistencia).format('DD-MM');\r\n          const objetoNuevo = {\r\n            _id: obj._id,\r\n            estado_empresa: obj.empleado.estado_empresa,\r\n            empleado: obj.empleado,\r\n            cargo: obj.cargo,\r\n            idEmpleado: obj.empleado._id,\r\n            [field]: {\r\n              _id: obj._id,\r\n              estado: obj.estado,\r\n              iniciado: obj.iniciado,\r\n              fecha_iniciado: obj.fecha_iniciado,\r\n              historial_registro: obj.historial_registro\r\n            }\r\n          };\r\n          nuevoArray.push(objetoNuevo);\r\n        }\r\n      } else {\r\n        const field = moment(obj.fecha_asistencia).format('DD-MM');\r\n        nuevoArray = [{\r\n          _id: obj._id,\r\n          estado_empresa: obj.empleado.estado_empresa,\r\n          empleado: obj.empleado,\r\n          cargo: obj.cargo,\r\n          idEmpleado: obj.empleado._id,\r\n          [field]: {\r\n            _id: obj._id,\r\n            estado: obj.estado,\r\n            iniciado: obj.iniciado,\r\n            fecha_iniciado: obj.fecha_iniciado,\r\n            historial_registro: obj.historial_registro\r\n          }\r\n        }];\r\n      };\r\n    });\r\n    return nuevoArray;\r\n  } catch (error) {\r\n    console.error(error);\r\n    return [];\r\n  }\r\n};\r\n\r\nfunction ordenarTecnicos(data=[]) {\r\n  try {\r\n    let nuevoArray = [];\r\n    if (data.length === 0 ) return nuevoArray\r\n    data.forEach((obj) => {\r\n      if (nuevoArray.length > 0) {\r\n        const aux = nuevoArray.findIndex((i) => i.empleado.nombre === obj.empleado.nombre && i.empleado.apellidos === obj.empleado.apellidos);\r\n        if (aux !== -1 && obj.fecha_asistencia ) {\r\n          const objetoNuevo = nuevoArray[aux];\r\n          const field = moment(obj.fecha_asistencia).format('DD-MM');\r\n          nuevoArray[aux] = {\r\n            ...objetoNuevo,\r\n            [field]: {\r\n              _id: obj._id,\r\n              estado: obj.estado,\r\n              iniciado: obj.iniciado,\r\n              fecha_iniciado: obj.fecha_iniciado,\r\n              historial_registro: obj.historial_registro\r\n            }\r\n          };\r\n        } else {\r\n          const field = moment(obj.fecha_asistencia).format('DD-MM');\r\n          const objetoNuevo = {\r\n            _id: obj._id,\r\n            estado_empresa: obj.empleado.estado_empresa,\r\n            tipo_negocio: obj.empleado.tipo_negocio,\r\n            sub_tipo_negocio: obj.empleado.sub_tipo_negocio,\r\n            empleado: obj.empleado,\r\n            carnet: obj.empleado.carnet,\r\n            dni: obj.empleado.numero_documento,\r\n            idEmpleado: obj.empleado._id,\r\n            gestor: {\r\n              nombre: obj.empleado.gestor ? obj.empleado.gestor.nombre : '-',\r\n              apellidos: obj.empleado.gestor ? obj.empleado.gestor.apellidos: '-',\r\n              _id: obj.empleado.gestor ? obj.empleado.gestor._id: '-',\r\n            },\r\n            auditor: {\r\n              nombre: obj.empleado.auditor ? obj.empleado.auditor.nombre : '-',\r\n              apellidos: obj.empleado.auditor ? obj.empleado.auditor.apellidos: '-',\r\n              _id: obj.empleado.auditor ? obj.empleado.auditor._id: '-',\r\n            },\r\n            contrata: {\r\n              nombre: obj.empleado.contrata ? obj.empleado.contrata.nombre : '-',\r\n              _id: obj.empleado.contrata ? obj.empleado.contrata._id: '-',\r\n            },\r\n            [field]: {\r\n              _id: obj._id,\r\n              estado: obj.estado,\r\n              iniciado: obj.iniciado,\r\n              fecha_iniciado: obj.fecha_iniciado,\r\n              historial_registro: obj.historial_registro\r\n            }\r\n          };\r\n          nuevoArray.push(objetoNuevo);\r\n        }\r\n      } else {\r\n        const field = moment(obj.fecha_asistencia).format('DD-MM');\r\n        nuevoArray = [{\r\n          _id: obj._id,\r\n          estado_empresa: obj.empleado.estado_empresa,\r\n          tipo_negocio: obj.empleado.tipo_negocio,\r\n          sub_tipo_negocio: obj.empleado.sub_tipo_negocio,\r\n          empleado: obj.empleado,\r\n          carnet: obj.empleado.carnet,\r\n          dni: obj.empleado.numero_documento,\r\n          idEmpleado: obj.empleado._id,\r\n          gestor: {\r\n            nombre: obj.empleado.gestor ? obj.empleado.gestor.nombre : '-',\r\n            apellidos: obj.empleado.gestor ? obj.empleado.gestor.apellidos: '-',\r\n            _id: obj.empleado.gestor ? obj.empleado.gestor._id: '-',\r\n          },\r\n          auditor: {\r\n            nombre: obj.empleado.auditor ? obj.empleado.auditor.nombre: '-',\r\n            apellidos: obj.empleado.auditor ? obj.empleado.auditor.apellidos: '-',\r\n            _id: obj.empleado.auditor ? obj.empleado.auditor._id: '-',\r\n          },\r\n          contrata: {\r\n            nombre: obj.empleado.contrata ? obj.empleado.contrata.nombre : '-',\r\n            _id: obj.empleado.contrata ? obj.empleado.contrata._id: '-',\r\n          },\r\n          [field]: {\r\n            _id: obj._id,\r\n            estado: obj.estado,\r\n            iniciado: obj.iniciado,\r\n            fecha_iniciado: obj.fecha_iniciado,\r\n            historial_registro: obj.historial_registro\r\n          }\r\n        }];\r\n      };\r\n    });\r\n    return nuevoArray;\r\n  } catch (error) {\r\n    console.error(error);\r\n    return [];\r\n  }\r\n};\r\n\r\nfunction ordenarOtros(data=[]) {\r\n  try {\r\n    let nuevoArray = [];\r\n    if (data.length === 0 ) return nuevoArray\r\n    data.forEach((obj) => {\r\n      if (nuevoArray.length > 0) {\r\n        const aux = nuevoArray.findIndex((i) => i.empleado && i.empleado.nombre === obj.empleado.nombre && i.empleado.apellidos === obj.empleado.apellidos);\r\n        if (aux !== -1 && obj.fecha_asistencia ) {\r\n          const objetoNuevo = nuevoArray[aux];\r\n          const field = moment(obj.fecha_asistencia).format('DD-MM');\r\n          nuevoArray[aux] = {\r\n            ...objetoNuevo,\r\n            [field]: {\r\n              _id: obj._id,\r\n              estado: obj.estado,\r\n              iniciado: obj.iniciado,\r\n              fecha_iniciado: obj.fecha_iniciado,\r\n              historial_registro: obj.historial_registro\r\n            }\r\n          };\r\n        } else {\r\n          const field = moment(obj.fecha_asistencia).format('DD-MM');\r\n          const objetoNuevo = {\r\n            _id: obj._id,\r\n            estado_empresa: obj.empleado.estado_empresa,\r\n            empleado: obj.empleado,\r\n            tecnico: obj.empleado ? obj.empleado.tecnico : null,\r\n            cargo: obj.cargo,\r\n            idEmpleado: obj.empleado._id,\r\n            [field]: {\r\n              _id: obj._id,\r\n              estado: obj.estado,\r\n              iniciado: obj.iniciado,\r\n              fecha_iniciado: obj.fecha_iniciado,\r\n              historial_registro: obj.historial_registro\r\n            }\r\n          };\r\n          nuevoArray.push(objetoNuevo);\r\n        }\r\n      } else {\r\n        const field = moment(obj.fecha_asistencia).format('DD-MM');\r\n        nuevoArray = [{\r\n          _id: obj._id,\r\n          estado_empresa: obj.empleado.estado_empresa,\r\n          empleado: obj.empleado,\r\n          tecnico: obj.empleado ? obj.empleado.tecnico : null,\r\n          cargo: obj.cargo,\r\n          idEmpleado: obj.empleado._id,\r\n          [field]: {\r\n            _id: obj._id,\r\n            estado: obj.estado,\r\n            iniciado: obj.iniciado,\r\n            fecha_iniciado: obj.fecha_iniciado,\r\n            historial_registro: obj.historial_registro\r\n          }\r\n        }];\r\n      };\r\n    });\r\n    return nuevoArray;\r\n  } catch (error) {\r\n    console.error(error);\r\n    return [];\r\n  }\r\n};","const estadoAsistencia = {\r\n  FALTA: 'F',\r\n  ASISTIO: 'A',\r\n  TARDANZA: 'T',\r\n  DESCANSO: 'D',\r\n  PERMISO: 'P',\r\n  SUSPENDIDO: 'S',\r\n  DESCANSO_MEDICO: 'DM',\r\n  EXAMEN_MEDICO: 'EM',\r\n  VACACIONES: 'V',\r\n  BAJA: 'BAJA',\r\n  GUARDIA: 'GUARDIA'\r\n};\r\n\r\nexport default estadoAsistencia;","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Button, Modal, Select, Input, Typography } from 'antd'\r\nimport { LoadingOutlined, SaveOutlined } from '@ant-design/icons';\r\nimport moment from 'moment';\r\n\r\nimport estadoAsistencia from '../../../../constants/estadoAsistencia';\r\nimport { postAsistencias } from '../../../../services/apiAsistencia';\r\nimport cogoToast from 'cogo-toast';\r\nimport metodos from '../../../../constants/metodos';\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\nconst { Text } = Typography;\r\n\r\nfunction ModalCrearAsistencia({actualizar, row, fecha, visible, abrir}) {\r\n  const [loadingCrear, setLoadingCrear] = useState(false);\r\n  const [estadoSeleccionado, setEstadoSeleccionado] = useState(null);\r\n  const [observacion, setObservacion] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setEstadoSeleccionado(null);\r\n    setObservacion(null);\r\n  }, [])\r\n\r\n  async function guardar() {\r\n    if (moment(fecha).isValid() && row.idEmpleado && estadoSeleccionado) {\r\n      setLoadingCrear(true);\r\n      return await postAsistencias({\r\n        metodo: metodos.ASISTENCIA_CREAR,\r\n        asistencia: {\r\n          empleado: row.idEmpleado,\r\n          estado: estadoSeleccionado,\r\n          fecha, \r\n          observacion\r\n        }\r\n      }).catch((err) => console.log(err))\r\n        .finally(() => {\r\n          setLoadingCrear(false);\r\n          abrir()\r\n          actualizar()\r\n        })\r\n    } else {\r\n      cogoToast.warn('No hay una fecha valida o no se encontró el id', { position: 'top-right' })\r\n      console.log(fecha, row);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Actualizar el estado de la asistencia\"\r\n      onCancel={abrir}\r\n      visible={visible}\r\n      afterClose={() => setObservacion(null)}\r\n      width={350}\r\n      centered\r\n      destroyOnClose\r\n      footer={[\r\n        <Button key=\"back\" onClick={abrir}>\r\n          Cancelar\r\n        </Button>,\r\n        <Button \r\n          icon={loadingCrear ? <LoadingOutlined spin/> : <SaveOutlined/>} \r\n          disabled={loadingCrear}\r\n          key=\"submit\" \r\n          type=\"primary\" \r\n          onClick={guardar}\r\n        >\r\n          Aceptar\r\n        </Button>,\r\n      ]}\r\n    >\r\n      {\r\n        moment(fecha).isValid() ?\r\n        <Text type=\"secondary\">Fecha: {moment(fecha).format('DD-MM-YY')}</Text>:\r\n        <Text type=\"danger\">Fecha Invalida.</Text>\r\n      }<br/><br/>\r\n      <p>Seleccionar Estado:</p>\r\n      <Select\r\n        placeholder=\"Estado\"\r\n        defaultValue={estadoSeleccionado}\r\n        onChange={e => setEstadoSeleccionado(e)} \r\n        style={{ width: 300, marginBottom: '.5rem', marginRight: '.5rem' }}\r\n      >\r\n        <Option value={estadoAsistencia.ASISTIO}>Asistió</Option>\r\n        <Option value={estadoAsistencia.FALTA}>Falta</Option>\r\n        <Option value={estadoAsistencia.TARDANZA}>Tardanza</Option>\r\n        <Option value={estadoAsistencia.DESCANSO}>Descanso</Option>\r\n        <Option value={estadoAsistencia.GUARDIA}>Guardia</Option>\r\n        <Option value={estadoAsistencia.PERMISO}>Permiso</Option>\r\n        <Option value={estadoAsistencia.DESCANSO_MEDICO}>Descanso Médico</Option>\r\n        <Option value={estadoAsistencia.EXAMEN_MEDICO}>Examen Médico</Option>\r\n        <Option value={estadoAsistencia.SUSPENDIDO}>Suspendido</Option>\r\n        <Option value={estadoAsistencia.VACACIONES}>Vacaciones</Option>\r\n        <Option value={estadoAsistencia.BAJA}>Baja</Option>\r\n      </Select>\r\n      <p>Observación:</p>\r\n      <TextArea\r\n        placeholder=\"Observación...\"\r\n        rows={4}\r\n        value={observacion}\r\n        onChange={(e) => setObservacion(e.target.value)}\r\n      />\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalCrearAsistencia.propTypes = {\r\n  actualizar: PropTypes.func,\r\n  row: PropTypes.object,\r\n  fecha: PropTypes.any,\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func\r\n}\r\n\r\nexport default ModalCrearAsistencia\r\n\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Tag } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport estadoAsistencia from '../../../../constants/estadoAsistencia';\r\nimport ModalCrearAsistencia from './ModalCrearAsistencia';\r\n\r\nfunction EstadoAsistenciaTag({actualizar, row, fecha, estado}) {\r\n  const [modalCrear, setModalCrear] = useState(false);\r\n\r\n  const abrirModal = () => setModalCrear(!modalCrear);\r\n\r\n  switch (estado) {\r\n    case estadoAsistencia.FALTA:\r\n      return (<Tag color=\"error\">{estado}</Tag>);\r\n    case estadoAsistencia.ASISTIO:\r\n      return (<Tag color=\"success\">{estado}</Tag>);\r\n    case estadoAsistencia.TARDANZA:\r\n      return (<Tag color=\"lime\">{estado}</Tag>);\r\n    case estadoAsistencia.DESCANSO:\r\n      return (<Tag color=\"gold\">{estado}</Tag>);\r\n    case estadoAsistencia.GUARDIA:\r\n      return (<Tag color=\"cyan\">{estado}</Tag>);\r\n    case estadoAsistencia.PERMISO:\r\n      return (<Tag color=\"blue\">{estado}</Tag>);\r\n    case estadoAsistencia.SUSPENDIDO:\r\n      return (<Tag color=\"warning\">{estado}</Tag>);\r\n    case estadoAsistencia.DESCANSO_MEDICO:\r\n      return (<Tag color=\"geekblue\">{estado}</Tag>);\r\n    case estadoAsistencia.EXAMEN_MEDICO:\r\n      return (<Tag color=\"purple\">{estado}</Tag>);\r\n    case estadoAsistencia.VACACIONES:\r\n      return (<Tag color=\"pink\">{estado}</Tag>);\r\n    case estadoAsistencia.BAJA:\r\n      return (<Tag color=\"volcano\">{estado}</Tag>);\r\n    default:\r\n      return (<>\r\n       <Tag onClick={() => abrirModal()} style={{ cursor: 'pointer' }}>-</Tag>\r\n       <ModalCrearAsistencia actualizar={actualizar} row={row} fecha={moment(`${fecha}-2021`, 'DD-MM-YYYY').toDate()} visible={modalCrear} abrir={abrirModal}/>\r\n      </>)\r\n  };\r\n};\r\n\r\nEstadoAsistenciaTag.propTypes = {\r\n  actualizar: PropTypes.func,\r\n  row: PropTypes.object,\r\n  fecha: PropTypes.string,\r\n  estado: PropTypes.string\r\n};\r\n\r\nexport default EstadoAsistenciaTag;\r\n\r\n","import { CheckCircleOutlined, CloseCircleOutlined, EditOutlined, SolutionOutlined } from \"@ant-design/icons\";\r\nimport { Dropdown, Menu, Popover, Tag, Tooltip } from \"antd\";\r\nimport moment from \"moment\";\r\nimport { niveles } from \"../../../../constants/cargos\";\r\nimport colores from \"../../../../constants/colores\";\r\nimport estadoEmpleado from \"../../../../constants/estadoEmpleado\";\r\nimport { CargoTag } from \"../../../gestionEmpleados/personal/EmpleadoTag\";\r\nimport EstadoAsistenciaTag from './EstadoAsistenciaTag';\r\n/**\r\n * @param {object} data\r\n * @param {number} data.nivel\r\n * @param {array} data.dias\r\n * @param {boolean} data.gestor\r\n * @param {function} data.editar \r\n * @param {function} data.registro \r\n * @param {function} data.listar\r\n * @param {object} data.filtros\r\n * @param {array} data.filtros.filtroGestores\r\n * @param {array} data.filtros.filtroAuditores\r\n * @param {array} data.filtros.filtroContratas\r\n * @returns {array}\r\n */\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default function({nivel, dias, gestor, editar, registro, listar, filtros}) {\r\n  if (nivel === niveles.OPERATIVO){\r\n    return columnasTecnico(dias, gestor, editar, registro, listar, filtros);\r\n  } else if (nivel === niveles.FUERA_SISTEMA) {\r\n    return columnasSemilleros(dias, editar, registro, listar, filtros);\r\n  } else {\r\n    return columnasDefault(dias, editar, registro, listar);\r\n  }\r\n};\r\n\r\nfunction columnasDefault(listaDias, editar, registro, listar) {\r\n  const aux = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      align: 'center',\r\n      render: (_,__,i) => i+1\r\n    }, \r\n    {\r\n      title: 'Nombre',\r\n      width: 200,\r\n      ellipsis: {\r\n        title: true\r\n      },\r\n      dataIndex: \"empleado\",\r\n      render: (empleado) => {\r\n        const nombre = empleado && empleado.nombre ? empleado.nombre+' '+empleado.apellidos : '-' \r\n        return <Tooltip title={nombre}>{nombre}</Tooltip>\r\n      }\r\n    },\r\n    {\r\n      title: 'Cargo',\r\n      width: 120,\r\n      align: 'center',\r\n      dataIndex: \"cargo\",\r\n      render: (cargo) => {\r\n        const nivel = cargo ? cargo.nivel : '-' \r\n        const nombre = cargo ? cargo.nombre : '-' \r\n        return <CargoTag nivel={nivel} cargo={nombre}/>\r\n      }\r\n    },\r\n  ];\r\n\r\n  if (listaDias && listaDias.length > 0 ) {\r\n    aux.push(...listaDias.map((d) => ({\r\n      title: d,\r\n      dataIndex: d,\r\n      width: 60,\r\n      align: 'center',\r\n      render: (a, row) => {\r\n        if (a && a.estado) {\r\n          return (\r\n            <Dropdown overlay={\r\n                <Menu>\r\n                  <Menu.Item key=\"0\" icon={<EditOutlined/>} onClick={() => editar(row[d]._id)}>\r\n                    <span>Editar</span>\r\n                  </Menu.Item>\r\n                  <Menu.Item key=\"1\" icon={<SolutionOutlined/>} onClick={() => registro(a.historial_registro, d)}>\r\n                    <span>Registro</span>\r\n                  </Menu.Item>\r\n                </Menu>\r\n              } \r\n              trigger={['click']}\r\n            >\r\n              <button className=\"boton-none\">\r\n                <EstadoAsistenciaTag actualizar={listar} row={row} fecha={d} estado={a.estado}/>\r\n              </button>\r\n            </Dropdown>\r\n          )\r\n        } else {\r\n          return (<EstadoAsistenciaTag actualizar={listar} row={row} fecha={d} estado={a && a.estado_empresa ? a.estado_empresa : row.estado_empresa === estadoEmpleado.INACTIVO ? 'BAJA' : '-'}/>)\r\n        };\r\n      }\r\n    })))\r\n    return aux;\r\n  } else {\r\n    console.log(aux);\r\n    return aux;\r\n  }\r\n};\r\n\r\nfunction columnasTecnico(listaDias, gestor, editar, registro, listar, {filtroGestores=[], filtroAuditores=[], filtroContratas=[]}) {\r\n  const hoy = moment().format('DD-MM');\r\n  const aux = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      align: 'center',\r\n      render: (_,__,i) => i+1\r\n    }, \r\n    {\r\n      title: 'Tecnico',\r\n      width: 200,\r\n      ellipsis: {\r\n        title: true\r\n      },\r\n      dataIndex: \"empleado\",\r\n      render: (empleado) => {\r\n        const nombre = empleado && empleado.nombre ? empleado.nombre+' '+empleado.apellidos : '-' \r\n        return <Tooltip title={nombre}>{nombre}</Tooltip>\r\n      }\r\n    },\r\n    {\r\n      title: 'En Ruta',\r\n      dataIndex: hoy,\r\n      width: 100,\r\n      align: 'center',\r\n      filters: [{text:'Ok', value: true},{text:'No', value: false}],\r\n      onFilter: (c, record) => {\r\n        if (record[hoy]) {\r\n          if(!record[hoy].iniciado && !c) return true\r\n          return record[hoy].iniciado === c\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      render: (e) => {\r\n        if (e) {\r\n          if (e.iniciado) {\r\n            return (<Popover content={e.fecha_iniciado?moment(e.fecha_iniciado).format('HH:mm'):'-'} title=\"Fecha Iniciado\" trigger=\"click\">\r\n              <button className=\"boton-none\">\r\n                <Tag color={colores.success}><CheckCircleOutlined/></Tag>\r\n              </button>\r\n            </Popover>)\r\n          } else {\r\n            return <Tag color={colores.error}><CloseCircleOutlined/></Tag>\r\n          }\r\n        } else {\r\n          return <Tag color=\"error\">BAJA</Tag>\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n  const aux2 = [\r\n    {\r\n      title: 'Gestor',\r\n      dataIndex: 'gestor',\r\n      filters: filtroGestores,\r\n      onFilter: (c, record) => {\r\n        if (record.gestor && c) {\r\n          return record.gestor._id.indexOf(c) === 0;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      ellipsis: true,\r\n      width: 200,\r\n      render: (e) => {\r\n        const nombre = e && e.nombre ? e.nombre+' '+e.apellidos : '-' \r\n        return <Tooltip title={nombre}>{nombre}</Tooltip>\r\n      }\r\n    }, \r\n    {\r\n      title: 'Auditor',\r\n      dataIndex: 'auditor',\r\n      filters: filtroAuditores,\r\n      onFilter: (c, record) => {\r\n        if (record.auditor && c) {\r\n          return record.auditor._id.indexOf(c) === 0;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      ellipsis: true,\r\n      width: 200,\r\n      render: (e) => {\r\n        const nombre = e && e.nombre ? e.nombre+' '+e.apellidos : '-' \r\n        return <Tooltip title={nombre}>{nombre}</Tooltip>\r\n      }\r\n    }, {\r\n      title: 'Contrata',\r\n      dataIndex: 'contrata',\r\n      filters: filtroContratas,\r\n      onFilter: (c, record) => {\r\n        if (record && record.contrata && c) {\r\n          return record.contrata._id.indexOf(c) === 0;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      ellipsis: true,\r\n      width: 200,\r\n      render: (e) => {\r\n        const nombre = e && e.nombre ? e.nombre : \"-\"\r\n        return <Tooltip title={nombre}>{nombre}</Tooltip>\r\n      }\r\n    }\r\n  ]\r\n\r\n  if (!gestor) aux.splice(2,0,...aux2) \r\n\r\n  if (listaDias && listaDias.length > 0 ) {\r\n    aux.push(...listaDias.map((d) => ({\r\n      title: d,\r\n      dataIndex: d,\r\n      width: 60,\r\n      align: 'center',\r\n      render: (a, row) => {\r\n        if (a && a.estado) {\r\n          return (\r\n            <Dropdown overlay={\r\n                <Menu>\r\n                  <Menu.Item key=\"0\" icon={<EditOutlined/>} onClick={() => editar(row[d]._id)}>\r\n                    <span>Editar</span>\r\n                  </Menu.Item>\r\n                  <Menu.Item key=\"1\" icon={<SolutionOutlined/>} onClick={() => registro(a.historial_registro, d)}>\r\n                    <span>Registro</span>\r\n                  </Menu.Item>\r\n                </Menu>\r\n              } \r\n              trigger={['click']}\r\n            >\r\n              <button className=\"boton-none\">\r\n                <EstadoAsistenciaTag actualizar={listar} row={row} fecha={d} estado={a.estado}/>\r\n              </button>\r\n            </Dropdown>\r\n          )\r\n        } else {\r\n          return (<EstadoAsistenciaTag actualizar={listar} row={row} fecha={d} estado={a && a.estado_empresa ? a.estado_empresa : row.estado_empresa === estadoEmpleado.INACTIVO ? 'BAJA' : '-'}/>)\r\n        };\r\n      }\r\n    })))\r\n    return aux;\r\n  } else {\r\n    return aux;\r\n  }\r\n};\r\n\r\nfunction columnasSemilleros(listaDias, editar, registro, listar) {\r\n  const aux = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      align: 'center',\r\n      render: (_,__,i) => i+1\r\n    }, \r\n    {\r\n      title: 'Nombre',\r\n      width: 200,\r\n      ellipsis: {\r\n        title: true\r\n      },\r\n      dataIndex: \"empleado\",\r\n      render: (empleado) => {\r\n        const nombre = empleado && empleado.nombre ? empleado.nombre+' '+empleado.apellidos : '-' \r\n        return <Tooltip title={nombre}>{nombre}</Tooltip>\r\n      }\r\n    },\r\n    {\r\n      title: 'Cargo',\r\n      width: 120,\r\n      align: 'center',\r\n      dataIndex: \"cargo\",\r\n      render: (cargo) => {\r\n        const nivel = cargo ? cargo.nivel : '-' \r\n        const nombre = cargo ? cargo.nombre : '-' \r\n        return <CargoTag nivel={nivel} cargo={nombre}/>\r\n      }\r\n    },\r\n    {\r\n      title: 'Tecnico',\r\n      width: 200,\r\n      ellipsis: {\r\n        title: true\r\n      },\r\n      dataIndex: \"tecnico\",\r\n      render: (tecnico) => {\r\n        const nombre = tecnico && tecnico.nombre ? tecnico.nombre+' '+tecnico.apellidos : '-' \r\n        return <Tooltip title={nombre}>{nombre}</Tooltip>\r\n      }\r\n    },\r\n  ];\r\n\r\n  if (listaDias && listaDias.length > 0 ) {\r\n    aux.push(...listaDias.map((d) => ({\r\n      title: d,\r\n      dataIndex: d,\r\n      width: 60,\r\n      align: 'center',\r\n      render: (a, row) => {\r\n        if (a && a.estado) {\r\n          return (\r\n            <Dropdown overlay={\r\n                <Menu>\r\n                  <Menu.Item key=\"0\" icon={<EditOutlined/>} onClick={() => editar(row[d]._id)}>\r\n                    <span>Editar</span>\r\n                  </Menu.Item>\r\n                  <Menu.Item key=\"1\" icon={<SolutionOutlined/>} onClick={() => registro(a.historial_registro, d)}>\r\n                    <span>Registro</span>\r\n                  </Menu.Item>\r\n                </Menu>\r\n              } \r\n              trigger={['click']}\r\n            >\r\n              <button className=\"boton-none\">\r\n                <EstadoAsistenciaTag actualizar={listar} row={row} fecha={d} estado={a.estado}/>\r\n              </button>\r\n            </Dropdown>\r\n          )\r\n        } else {\r\n          return (<EstadoAsistenciaTag actualizar={listar} row={row} fecha={d} estado={a && a.estado_empresa ? a.estado_empresa : row.estado_empresa === estadoEmpleado.INACTIVO ? 'BAJA' : '-'}/>)\r\n        };\r\n      }\r\n    })))\r\n    return aux;\r\n  } else {\r\n    console.log(aux);\r\n    return aux;\r\n  }\r\n};","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Modal, Select, Input, Button } from 'antd';\r\nimport { LoadingOutlined, SaveOutlined } from '@ant-design/icons';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nimport estadoAsistencia from '../../../../constants/estadoAsistencia';\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nfunction ModalEditarAsistencia({visible, abrir, loadingActualizar, actualizar}) {\r\n  const [estadoSeleccionado, setEstadoSeleccionado] = useState(null);\r\n  const [observacion, setObservacion] = useState(null);\r\n\r\n\r\n  useEffect(() => {\r\n    setEstadoSeleccionado(null);\r\n    setObservacion(null);\r\n  },[]);\r\n\r\n  async function guardar() {\r\n    if (estadoSeleccionado !== null) {\r\n      await actualizar(estadoSeleccionado, observacion);\r\n    } else {\r\n      cogoToast.warn('No hay usuario seleccionado.', { position: 'top-right' })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Actualizar el estado de la asistencia\"\r\n      visible={visible}\r\n      afterClose={() => setObservacion(null)}\r\n      width={350}\r\n      centered\r\n      destroyOnClose\r\n      onCancel={abrir}\r\n      footer={[\r\n        <Button key=\"back\" onClick={abrir}>\r\n          Cancelar\r\n        </Button>,\r\n        <Button \r\n          icon={loadingActualizar ? <LoadingOutlined spin/> : <SaveOutlined/>} \r\n          key=\"submit\" \r\n          type=\"primary\" \r\n          onClick={guardar}\r\n        >\r\n          Aceptar\r\n        </Button>,\r\n      ]}\r\n    >\r\n      <p>Seleccionar Estado:</p>\r\n      <Select\r\n        placeholder=\"Estado\"\r\n        defaultValue={estadoSeleccionado}\r\n        onChange={e => setEstadoSeleccionado(e)} \r\n        style={{ width: 300, marginBottom: '.5rem', marginRight: '.5rem' }}\r\n      >\r\n        <Option value={estadoAsistencia.ASISTIO}>Asistió</Option>\r\n        <Option value={estadoAsistencia.TARDANZA}>Tardanza</Option>\r\n        <Option value={estadoAsistencia.FALTA}>Falta</Option>\r\n        <Option value={estadoAsistencia.DESCANSO}>Descanso</Option>\r\n        <Option value={estadoAsistencia.GUARDIA}>Guardia</Option>\r\n        <Option value={estadoAsistencia.PERMISO}>Permiso</Option>\r\n        <Option value={estadoAsistencia.DESCANSO_MEDICO}>Descanso Médico</Option>\r\n        <Option value={estadoAsistencia.EXAMEN_MEDICO}>Examen Médico</Option>\r\n        <Option value={estadoAsistencia.SUSPENDIDO}>Suspendido</Option>\r\n        <Option value={estadoAsistencia.VACACIONES}>Vacaciones</Option>\r\n        <Option value={estadoAsistencia.BAJA}>Baja</Option>\r\n      </Select>\r\n      <p>Observación:</p>\r\n      <TextArea\r\n        placeholder=\"Observación...\"\r\n        rows={4}\r\n        value={observacion}\r\n        onChange={(e) => setObservacion(e.target.value)}\r\n      />\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalEditarAsistencia.propTypes = {\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  loadingActualizar: PropTypes.bool,\r\n  actualizar: PropTypes.func\r\n};\r\n\r\nexport default ModalEditarAsistencia;\r\n\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Modal, Table, Tag, Tooltip } from 'antd';\r\nimport moment from 'moment';\r\n\r\n// usuario fecha_registro observacion\r\n\r\nfunction ModalRegistroAsistencia({fecha, registro=[], visible, abrir}) {\r\n  const columnas = [\r\n    {\r\n      title: \"#\",\r\n      width: 60,\r\n      render: (_,__, i) => i+1\r\n    },\r\n    {\r\n      title: \"Fecha\",\r\n      width: 100,\r\n      align:\"center\",\r\n      dataIndex: \"fecha_registro\",\r\n      render: (fecha) => <Tag>{moment(fecha).format(\"DD-MM-YYYY\")}</Tag>\r\n    },\r\n    {\r\n      title: \"Usuario\",\r\n      dataIndex: \"usuario\",\r\n      width: 150,\r\n      ellipsis: true,\r\n      render: (e) => {\r\n        const nombre = e && e.nombre ? e.nombre+\" \"+e.apellidos : \"Sistema\"\r\n        return (<Tooltip title={nombre}>{nombre}</Tooltip>)\r\n      }\r\n    },\r\n    {\r\n      title: \"Observacion\",\r\n      width: 300,\r\n      dataIndex: \"observacion\",\r\n    },\r\n  ]\r\n  return (\r\n    <Modal\r\n      title={`Historial de Cambios - ${fecha}`}\r\n      width={700}\r\n      visible={visible}\r\n      onOk={abrir}\r\n      onCancel={abrir}\r\n      centered\r\n    >\r\n      <Table\r\n        rowKey={\"fecha_registro\"}\r\n        size=\"small\"\r\n        columns={columnas}\r\n        dataSource={registro}\r\n        pagination={false}\r\n        scroll={{ x: 650}}\r\n      />\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalRegistroAsistencia.propTypes = {\r\n  fecha: PropTypes.string,\r\n  registro: PropTypes.array,\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func\r\n};\r\n\r\nexport default ModalRegistroAsistencia;\r\n\r\n","import React, { useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ExcelExport, ExcelExportColumn } from '@progress/kendo-react-excel-export';\r\nimport { Button } from 'antd';\r\nimport { ExportOutlined } from '@ant-design/icons';\r\nimport * as AntColores from '@ant-design/colors'\r\nimport moment from 'moment';\r\n\r\nimport estadoAsistencia from '../../../constants/estadoAsistencia';\r\n\r\nfunction ExcelAsistenciaDefault({ data=[], dias=[], nombre }) {\r\n  let exportarRef = useRef(null);\r\n\r\n  const exportarExcel = () => {\r\n    guardarArchivo(exportarRef.current)\r\n  };\r\n\r\n  function guardarArchivo(component) {\r\n    try {\r\n      let options = component.workbookOptions();\r\n      let rows = options.sheets[0].rows;\r\n      let indexEstado = -1\r\n      let indexEncontrados = [];\r\n      rows.forEach((row) => {\r\n        if (row.type === 'header') {\r\n          indexEstado = row.cells.findIndex((e) => e.value === 'Estado');\r\n          row.cells.forEach((e, i) => {\r\n            let fecha = moment(`${e.value}-2021`,\"DD-MM-YYYY\");\r\n            if (moment().isValid()) {\r\n              let diferencia = (moment().diff(fecha, \"days\"))\r\n              if (diferencia >= 0) {\r\n                indexEncontrados.push(i);\r\n              }\r\n            }           \r\n          });\r\n        };\r\n        if (row.type === 'data') {\r\n          if (indexEstado > -1 && String(row.cells[indexEstado].value).toUpperCase() === 'INACTIVO' && indexEncontrados.length > 0) {\r\n            indexEncontrados.forEach((e) => {\r\n              if (!row.cells[e].value) {\r\n                row.cells[e].value = \"BAJA\"\r\n              }\r\n            })\r\n          }\r\n          row.cells.forEach((cell) => {\r\n            cell.value = cell.value ? String(cell.value).toUpperCase() : cell.value;\r\n            cell.background = colorCelda(cell.value).background;\r\n            cell.color = colorCelda(cell.value).color;\r\n            cell.borderBottom = { size: 1 }; \r\n            cell.borderLeft = { size: 1 };\r\n            cell.borderRight = { size: 1 };\r\n            cell.borderTop = { size: 1 };\r\n          });\r\n        };\r\n      });\r\n      component.save(options);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const colorCelda = (estado) => {\r\n    switch (estado) {\r\n      case estadoAsistencia.FALTA:\r\n        return {background: AntColores.red[1], color: AntColores.red.primary};\r\n      case 'Inactivo':\r\n        return {background: AntColores.red[1], color: AntColores.red.primary};\r\n      case estadoAsistencia.ASISTIO:\r\n        return {background: AntColores.green[1], color: AntColores.green.primary};\r\n      case estadoAsistencia.TARDANZA:\r\n        return {background: AntColores.lime[1], color: AntColores.lime.primary};\r\n      case estadoAsistencia.DESCANSO:\r\n        return {background: AntColores.gold[1], color: AntColores.gold.primary};\r\n      case estadoAsistencia.PERMISO:\r\n        return {background: AntColores.blue[1], color: AntColores.blue.primary};\r\n      case estadoAsistencia.GUARDIA:\r\n        return {background: AntColores.cyan[1], color: AntColores.cyan.primary};\r\n      case estadoAsistencia.SUSPENDIDO:\r\n        return {background: AntColores.yellow[1], color: AntColores.yellow.primary};\r\n      case estadoAsistencia.DESCANSO_MEDICO:\r\n        return {background: AntColores.geekblue[1], color: AntColores.geekblue.primary};\r\n      case estadoAsistencia.EXAMEN_MEDICO:\r\n        return {background: AntColores.purple[1], color: AntColores.purple.primary};\r\n      case estadoAsistencia.VACACIONES:\r\n        return {background: AntColores.orange[1], color: AntColores.orange.primary};\r\n      case estadoAsistencia.BAJA:\r\n        return {background: AntColores.volcano[1], color: AntColores.volcano.primary};\r\n      default:\r\n        return {background: '', color: ''};\r\n    };\r\n  };\r\n\r\n  const headerOptions = {\r\n    background: '#5DADE2', \r\n    bold: true, \r\n    fontSize: 17,\r\n    wrap: true,\r\n    autoWidth: true\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button size=\"small\" icon={<ExportOutlined />} type=\"primary\" onClick={exportarExcel} >Exportar</Button>\r\n      <ExcelExport\r\n        data={data.map((e) => ({...e, cargo: nombre}))}\r\n        fileName={`asistencia_${nombre.toLowerCase().replace(/ /g, \"_\")}_${moment().format('DD_MM_YYYY')}.xlsx`}\r\n        ref={exportarRef}\r\n      >\r\n        <ExcelExportColumn field=\"empleado.nombre\" title=\"Nombre\" locked={true} width={170} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"empleado.apellidos\" title=\"Apellidos\" locked={true}  headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"estado_empresa\" title=\"Estado\" width={90} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"cargo\" title=\"Cargo\" width={90} headerCellOptions={headerOptions}/>\r\n        {\r\n          dias && dias.length > 0 ?\r\n            dias.map((d, i) => (\r\n              <ExcelExportColumn\r\n                key={i}\r\n                field={`${d}.estado`}\r\n                title={`${d}`} width={60}\r\n                headerCellOptions={headerOptions}\r\n                cellOptions={{ textAlign: 'center' }}\r\n              />\r\n            )) : null\r\n        }\r\n      </ExcelExport>\r\n    </div>\r\n  )\r\n};\r\n\r\nExcelAsistenciaDefault.propTypes = {\r\n  data: PropTypes.array,\r\n  dias: PropTypes.array,\r\n  nombre: PropTypes.string\r\n};\r\n\r\nexport default ExcelAsistenciaDefault;\r\n\r\n","import React, { useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ExcelExport, ExcelExportColumn } from '@progress/kendo-react-excel-export';\r\nimport { Button } from 'antd';\r\nimport { ExportOutlined } from '@ant-design/icons';\r\nimport * as AntColores from '@ant-design/colors'\r\nimport moment from 'moment';\r\n\r\nimport estadoAsistencia from '../../../constants/estadoAsistencia';\r\nimport capitalizar from '../../../libraries/capitalizar'\r\n\r\nfunction ExcelAsistenciaTecnico({ data=[], dias=[], nombre }) {\r\n  let exportarRef = useRef(null);\r\n\r\n  const exportarExcel = () => {\r\n    guardarArchivo(exportarRef.current)\r\n  };\r\n\r\n  function guardarArchivo(component) {\r\n    try {\r\n      let options = component.workbookOptions();\r\n      let rows = options.sheets[0].rows;\r\n      let indexEstado = -1\r\n      let indexEncontrados = [];\r\n      rows.forEach((row) => {\r\n        if (row.type === 'header') {\r\n          indexEstado = row.cells.findIndex((e) => e.value === 'Estado');\r\n          row.cells.forEach((e, i) => {\r\n            let fecha = moment(`${e.value}-2021`,\"DD-MM-YYYY\");\r\n            if (moment().isValid()) {\r\n              let diferencia = (moment().diff(fecha, \"days\"))\r\n              if (diferencia >= 0) {\r\n                indexEncontrados.push(i);\r\n              }\r\n            }           \r\n          });\r\n        };\r\n        if (row.type === 'data') {\r\n          if (indexEstado > -1 && String(row.cells[indexEstado].value).toUpperCase() === 'INACTIVO' && indexEncontrados.length > 0) {\r\n            indexEncontrados.forEach((e) => {\r\n              if (!row.cells[e].value) {\r\n                row.cells[e].value = \"BAJA\"\r\n              }\r\n            })\r\n          }\r\n          row.cells.forEach((cell) => {\r\n            cell.value = cell.value ? String(cell.value).toUpperCase() : cell.value;\r\n            cell.background = colorCelda(cell.value).background;\r\n            cell.color = colorCelda(cell.value).color;\r\n            cell.borderBottom = { size: 1 }; \r\n            cell.borderLeft = { size: 1 };\r\n            cell.borderRight = { size: 1 };\r\n            cell.borderTop = { size: 1 };\r\n          });\r\n        }\r\n      });\r\n      component.save(options);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const colorCelda = (estado) => {\r\n    switch (estado) {\r\n      case estadoAsistencia.FALTA:\r\n        return {background: AntColores.red[1], color: AntColores.red.primary};\r\n      case 'Inactivo':\r\n        return {background: AntColores.red[1], color: AntColores.red.primary};\r\n      case estadoAsistencia.ASISTIO:\r\n        return {background: AntColores.green[1], color: AntColores.green.primary};\r\n      case estadoAsistencia.TARDANZA:\r\n        return {background: AntColores.lime[1], color: AntColores.lime.primary};\r\n      case estadoAsistencia.DESCANSO:\r\n        return {background: AntColores.gold[1], color: AntColores.gold.primary};\r\n      case estadoAsistencia.PERMISO:\r\n        return {background: AntColores.blue[1], color: AntColores.blue.primary};\r\n      case estadoAsistencia.GUARDIA:\r\n        return {background: AntColores.cyan[1], color: AntColores.cyan.primary};\r\n      case estadoAsistencia.SUSPENDIDO:\r\n        return {background: AntColores.yellow[1], color: AntColores.yellow.primary};\r\n      case estadoAsistencia.DESCANSO_MEDICO:\r\n        return {background: AntColores.geekblue[1], color: AntColores.geekblue.primary};\r\n      case estadoAsistencia.EXAMEN_MEDICO:\r\n        return {background: AntColores.purple[1], color: AntColores.purple.primary};\r\n      case estadoAsistencia.VACACIONES:\r\n        return {background: AntColores.orange[1], color: AntColores.orange.primary};\r\n      case estadoAsistencia.BAJA:\r\n        return {background: AntColores.volcano[1], color: AntColores.volcano.primary};\r\n      default:\r\n        return {background: '', color: ''};\r\n    };\r\n  };\r\n\r\n  const headerOptions = {\r\n    background: '#5DADE2', \r\n    bold: true, \r\n    fontSize: 17,\r\n    wrap: false,\r\n    autoWidth: true\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button size=\"small\" icon={<ExportOutlined />} type=\"primary\" onClick={exportarExcel} >Exportar</Button>\r\n      <ExcelExport\r\n        data={data.map((e) => ({...e, cargo: capitalizar(nombre)}))}\r\n        fileName={`asistencia_${nombre}_${moment().format('DD_MM_YYYY')}.xlsx`}\r\n        ref={exportarRef}\r\n      >\r\n        <ExcelExportColumn field=\"empleado.nombre\" title=\"Nombre\" locked={true} width={170} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"empleado.apellidos\" title=\"Apellidos\" locked={true} width={150} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"carnet\" title=\"Carnet\" locked={true} width={150} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"dni\" title=\"DNI\" width={150} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"estado_empresa\" title=\"Estado\" width={90} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"cargo\" title=\"Cargo\" width={90} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"contrata.nombre\" title=\"Contrata\" width={170} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"auditor.apellidos\" title=\"Auditor\" width={170} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"gestor.apellidos\" title=\"Gestor\" width={170} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"tipo_negocio\" title=\"Negocio\" width={90} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"sub_tipo_negocio\" title=\"Sub Negocio\" width={90} headerCellOptions={headerOptions} />\r\n        {\r\n          dias && dias.length > 0 ?\r\n            dias.map((d, i) => (\r\n              <ExcelExportColumn\r\n                key={i}\r\n                field={`${d}.estado`}\r\n                title={`${d}`} width={60}\r\n                headerCellOptions={headerOptions}\r\n                cellOptions={{ textAlign: 'center'}}\r\n              />\r\n            )) : null\r\n        }\r\n      </ExcelExport>\r\n    </div>\r\n  )\r\n};\r\n\r\nExcelAsistenciaTecnico.propTypes = {\r\n  data: PropTypes.array,\r\n  dias: PropTypes.array,\r\n  nombre: PropTypes.string\r\n};\r\n\r\nexport default ExcelAsistenciaTecnico;\r\n\r\n","import React, { useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ExcelExport, ExcelExportColumn } from '@progress/kendo-react-excel-export';\r\nimport { Button } from 'antd';\r\nimport { ExportOutlined } from '@ant-design/icons';\r\nimport * as AntColores from '@ant-design/colors'\r\nimport moment from 'moment';\r\n\r\nimport estadoAsistencia from '../../../constants/estadoAsistencia';\r\n\r\nfunction ExcelAsistenciaSemillero({ data=[], dias=[], nombre }) {\r\n  let exportarRef = useRef(null);\r\n\r\n  const exportarExcel = () => {\r\n    guardarArchivo(exportarRef.current)\r\n  };\r\n\r\n  function guardarArchivo(component) {\r\n    try {\r\n      let options = component.workbookOptions();\r\n      let rows = options.sheets[0].rows;\r\n      let indexEstado = -1\r\n      let indexEncontrados = [];\r\n      rows.forEach((row) => {\r\n        if (row.type === 'header') {\r\n          indexEstado = row.cells.findIndex((e) => e.value === 'Estado');\r\n          row.cells.forEach((e, i) => {\r\n            let fecha = moment(`${e.value}-2021`,\"DD-MM-YYYY\");\r\n            if (moment().isValid()) {\r\n              let diferencia = (moment().diff(fecha, \"days\"))\r\n              if (diferencia >= 0) {\r\n                indexEncontrados.push(i);\r\n              }\r\n            }           \r\n          });\r\n        };\r\n        if (row.type === 'data') {\r\n          if (indexEstado > -1 && String(row.cells[indexEstado].value).toUpperCase() === 'INACTIVO' && indexEncontrados.length > 0) {\r\n            indexEncontrados.forEach((e) => {\r\n              if (!row.cells[e].value) {\r\n                row.cells[e].value = \"BAJA\"\r\n              }\r\n            })\r\n          }\r\n          row.cells.forEach((cell) => {\r\n            cell.value = cell.value ? String(cell.value).toUpperCase() : cell.value;\r\n            cell.background = colorCelda(cell.value).background;\r\n            cell.color = colorCelda(cell.value).color;\r\n            cell.borderBottom = { size: 1 }; \r\n            cell.borderLeft = { size: 1 };\r\n            cell.borderRight = { size: 1 };\r\n            cell.borderTop = { size: 1 };\r\n          });\r\n        };\r\n      });\r\n      component.save(options);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const colorCelda = (estado) => {\r\n    switch (estado) {\r\n      case estadoAsistencia.FALTA:\r\n        return {background: AntColores.red[1], color: AntColores.red.primary};\r\n      case 'Inactivo':\r\n        return {background: AntColores.red[1], color: AntColores.red.primary};\r\n      case estadoAsistencia.ASISTIO:\r\n        return {background: AntColores.green[1], color: AntColores.green.primary};\r\n      case estadoAsistencia.TARDANZA:\r\n        return {background: AntColores.lime[1], color: AntColores.lime.primary};\r\n      case estadoAsistencia.DESCANSO:\r\n        return {background: AntColores.gold[1], color: AntColores.gold.primary};\r\n      case estadoAsistencia.PERMISO:\r\n        return {background: AntColores.blue[1], color: AntColores.blue.primary};\r\n      case estadoAsistencia.GUARDIA:\r\n        return {background: AntColores.cyan[1], color: AntColores.cyan.primary};\r\n      case estadoAsistencia.SUSPENDIDO:\r\n        return {background: AntColores.yellow[1], color: AntColores.yellow.primary};\r\n      case estadoAsistencia.DESCANSO_MEDICO:\r\n        return {background: AntColores.geekblue[1], color: AntColores.geekblue.primary};\r\n      case estadoAsistencia.EXAMEN_MEDICO:\r\n        return {background: AntColores.purple[1], color: AntColores.purple.primary};\r\n      case estadoAsistencia.VACACIONES:\r\n        return {background: AntColores.orange[1], color: AntColores.orange.primary};\r\n      case estadoAsistencia.BAJA:\r\n        return {background: AntColores.volcano[1], color: AntColores.volcano.primary};\r\n      default:\r\n        return {background: '', color: ''};\r\n    };\r\n  };\r\n\r\n  const headerOptions = {\r\n    background: '#5DADE2', \r\n    bold: true, \r\n    fontSize: 17,\r\n    wrap: true,\r\n    autoWidth: true\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button size=\"small\" icon={<ExportOutlined />} type=\"primary\" onClick={exportarExcel} >Exportar</Button>\r\n      <ExcelExport\r\n        data={data.map((e) => ({...e, cargo: nombre}))}\r\n        fileName={`asistencia_${nombre.toLowerCase().replace(/ /g, \"_\")}_${moment().format('DD_MM_YYYY')}.xlsx`}\r\n        ref={exportarRef}\r\n      >\r\n        <ExcelExportColumn field=\"empleado.nombre\" title=\"Nombre\" locked={true} width={170} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"empleado.apellidos\" title=\"Apellidos\" locked={true}  headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"estado_empresa\" title=\"Estado\" width={90} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"cargo\" title=\"Cargo\" width={90} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"tecnico.nombre\" title=\"Tecnico\" width={90} headerCellOptions={headerOptions}/>\r\n        {\r\n          dias && dias.length > 0 ?\r\n            dias.map((d, i) => (\r\n              <ExcelExportColumn\r\n                key={i}\r\n                field={`${d}.estado`}\r\n                title={`${d}`} width={60}\r\n                headerCellOptions={headerOptions}\r\n                cellOptions={{ textAlign: 'center' }}\r\n              />\r\n            )) : null\r\n        }\r\n      </ExcelExport>\r\n    </div>\r\n  )\r\n};\r\n\r\nExcelAsistenciaSemillero.propTypes = {\r\n  data: PropTypes.array,\r\n  dias: PropTypes.array,\r\n  nombre: PropTypes.string\r\n};\r\n\r\nexport default ExcelAsistenciaSemillero;\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { niveles } from '../../../constants/cargos';\r\nimport ExcelAsistenciaDefault from './ExcelAsistenciaDefault';\r\nimport ExcelAsistenciaTecnico from './ExcelAsistenciaTecnico';\r\nimport ExcelAsistenciaSemillero from './ExcelAsistenciaSemillero';\r\n\r\nfunction Index({nivel, data=[], dias=[], cargo }) {\r\n  if (nivel && nivel <= niveles.BACK_OFFICE) {\r\n    return <ExcelAsistenciaDefault data={data} dias={dias} nombre={cargo}/>\r\n  } else if (nivel && nivel === niveles.OPERATIVO) {\r\n    return <ExcelAsistenciaTecnico data={data} dias={dias} nombre=\"tecnico\"/>\r\n  } else if (nivel && nivel === niveles.FUERA_SISTEMA) {\r\n    return <ExcelAsistenciaSemillero data={data} dias={dias} nombre={cargo}/>\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nIndex.propTypes = {\r\n  nivel: PropTypes.number,\r\n  data: PropTypes.array,\r\n  dias: PropTypes.array,\r\n  cargo: PropTypes.string\r\n}\r\n\r\nexport default Index\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Row, Select, DatePicker, Button, Table } from 'antd';\r\nimport moment from 'moment';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nimport { getCargos } from '../../../../services/apiCargos';\r\nimport { LoadingOutlined, SearchOutlined } from '@ant-design/icons';\r\nimport { getAsistencias, patchAsistencia } from '../../../../services/apiAsistencia';\r\nimport ordenarAsistencias from '../../../../libraries/ordenarAsistencias';\r\nimport { obtenerFiltroId } from '../../../../libraries/obtenerFiltro';\r\nimport metodos from '../../../../constants/metodos';\r\nimport generarColumnas from './generarColumnas';\r\nimport ModalEditarAsistencia from './ModalEditarAsistencia';\r\nimport ModalRegistroAsistencia from './ModalRegistroAsistencia';\r\nimport ExcelAsistencia from '../../../excelExports/ExcelAsistencia';\r\nimport { niveles } from '../../../../constants/cargos';\r\n\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\n\r\nfunction TablaAsistenciaCargo({gestor=false}) {\r\n  const [dataAsistencias, setDataAsistencias] = useState([]);\r\n  const [listaCargos, setListaCargos] = useState([]);\r\n  const [loadingAsistencia, setLoadingAsistencia] = useState(false);\r\n  const [loadingCargos, setLoadingCargos] = useState(false);\r\n  const [loadingActualizar, setLoadingActualizar] = useState(false);\r\n  const [cargoSeleccionado, setCargoSeleccionado] = useState(null);\r\n  const [diaInicio, setDiaInicio] = useState(moment().startOf('week'));\r\n  const [diaFin, setDiaFin] = useState(moment().endOf('week'));\r\n  const [listaDias, setListaDias] = useState([]);\r\n  const [columnas, setColumnas] = useState(null);\r\n  const [modalEditar, setModalEditar] = useState(false);\r\n  const [modalRegistro, setModalRegistro] = useState(false);\r\n  const [idAsistencia, setIdAsistencia] = useState(null);\r\n  const [registro, setRegistro] = useState([]);\r\n  const [fechaRegistro, setFechaRegistro] = useState(null);\r\n  const [filtroGestores, setFiltroGestores] = useState([]);\r\n  const [filtroAuditores, setFiltroAuditores] = useState([]);\r\n  const [filtroContratas, setFiltroContratas] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (gestor) {\r\n      listarAsistencias();\r\n    }\r\n    cambiarRango([moment().startOf('week'), moment().endOf('week')])\r\n    cargarCargos();\r\n  //eslint-disable-next-line\r\n  },[]);\r\n\r\n  useEffect(() => {\r\n    if (cargoSeleccionado && listaCargos.length > 0) {\r\n      setColumnas(generarColumnas({\r\n        nivel: listaCargos[cargoSeleccionado].nivel, \r\n        dias: listaDias,\r\n        editar: editarAsistencia,\r\n        registro: listarRegistro,\r\n        listar: listarAsistencias,\r\n        filtros: { filtroGestores, filtroAuditores, filtroContratas }\r\n      }));\r\n    }\r\n  //eslint-disable-next-line\r\n  },[listaDias, cargoSeleccionado]);\r\n\r\n  useEffect(() => {\r\n    if (gestor) {\r\n      setColumnas(generarColumnas({\r\n        nivel: niveles.OPERATIVO, \r\n        dias: listaDias,\r\n        gestor,\r\n        editar: editarAsistencia,\r\n        registro: listarRegistro,\r\n        listar: listarAsistencias,\r\n        filtros: { filtroGestores, filtroAuditores, filtroContratas }\r\n      }));\r\n    }\r\n  //eslint-disable-next-line\r\n  },[dataAsistencias])\r\n\r\n  async function cargarCargos() {\r\n    setLoadingCargos(true);\r\n    await getCargos(true)\r\n      .then(({data}) => setListaCargos(data))\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setLoadingCargos(false));\r\n  };\r\n\r\n  async function listarAsistencias() {\r\n    if (diaInicio && diaFin && listaCargos.length > 0) {\r\n      setLoadingAsistencia(true);\r\n      await getAsistencias({\r\n        cargo: !gestor ? listaCargos[cargoSeleccionado]._id : null,\r\n        fechaInicio: diaInicio.toDate(),\r\n        fechaFin: diaFin.toDate()\r\n      }).then(async({data}) => ordenarAsistencias(\r\n          !gestor ? listaCargos[cargoSeleccionado].nivel : niveles.OPERATIVO, \r\n          data\r\n      )).then((resultado) => {\r\n        if (resultado && resultado.length > 0) {\r\n          setDataAsistencias(resultado);\r\n          setFiltroGestores(obtenerFiltroId(resultado, 'gestor', true));\r\n          setFiltroAuditores(obtenerFiltroId(resultado, 'auditor', true));\r\n          setFiltroContratas(obtenerFiltroId(resultado, 'contrata', true));\r\n          // setRutasAverias(rutasAtivas(resultado.filter((e) => e.estado_empresa === estadoEmpleado.ACTIVO && e.tipo_negocio === 'averias' && ['hfc','gpon'].includes(e.sub_tipo_negocio))));\r\n          // setRutasAltas(rutasAtivas(resultado.filter((e) => e.estado_empresa === estadoEmpleado.ACTIVO && e.tipo_negocio === 'altas' && ['hfc','gpon'].includes(e.sub_tipo_negocio))));\r\n          // setRutasGpon(rutasAtivas(resultado.filter((e) => e.estado_empresa === estadoEmpleado.ACTIVO && e.sub_tipo_negocio === 'gpon' && e.tipo_negocio === 'altas')))\r\n        } else {\r\n          setDataAsistencias([]);\r\n          cogoToast.warn('No se encontraron registros.', { position: 'top-right' });\r\n        }\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingAsistencia(false));\r\n    } else {\r\n      cogoToast.warn('Debes seleccionar un rango de fechas primero.', { position: 'top-right' });\r\n    }\r\n  };\r\n  \r\n  async function actualizarAsistencia(estado, observacion) {\r\n    setLoadingActualizar(true);\r\n    return await patchAsistencia({\r\n      metodo: metodos.ASISTENCIA_ACTUALIZAR, \r\n      asistencia: {\r\n        _id: idAsistencia, \r\n        estado, observacion,\r\n      }\r\n    }).catch((err) => console.log(err))\r\n      .finally(() => {\r\n        setLoadingActualizar(false);\r\n        setModalEditar(false);\r\n        listarAsistencias();\r\n      });\r\n  };\r\n\r\n  function listarRegistro(obj, dia) {\r\n    if (obj && obj.length > 0 ) {\r\n      setRegistro(obj);\r\n      setFechaRegistro(dia);\r\n      abrirModalRegistro();\r\n    } else {\r\n      cogoToast.warn(\"No se encontraron registros en la fecha seleccionada.\", { position: \"top-right\" })\r\n    };\r\n  };\r\n\r\n  const editarAsistencia = (id) => {\r\n    abrirModalEditar();\r\n    setIdAsistencia(id);\r\n  };\r\n\r\n  const abrirModalEditar = () => setModalEditar(!modalEditar);\r\n  const abrirModalRegistro = () => setModalRegistro(!modalRegistro);\r\n\r\n  const cambiarRango = (dias) => {\r\n    if (dias && dias.length > 1) {\r\n      const diff = moment(dias[1].toDate()).diff(dias[0].toDate(), 'days');\r\n      setDiaInicio(dias[0]);\r\n      setDiaFin(dias[1])\r\n      let days = [];\r\n      for (let i = 0; i <= diff; i++) {\r\n        days.push(moment(dias[0].toDate()).add(i, 'days').format(\"DD-MM\"));\r\n      };\r\n      setListaDias(days);\r\n    } else {\r\n      setDiaInicio(moment().startOf('week'));\r\n      setDiaFin(moment().endOf('week'));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Row style={{ margin: \".8rem 0\" }}>\r\n      {\r\n        !gestor ? \r\n        <Col sm={12} style={{ paddingRight: \"1.5rem\" }}>\r\n          <h4>Seleccionar Cargo:</h4>\r\n          <Select\r\n            size=\"small\"\r\n            placeholder=\"Seleccionar Cargo\"\r\n            loading={loadingCargos}\r\n            style={{ width: \"100%\" }}\r\n            value={cargoSeleccionado}\r\n            onChange={(e) => setCargoSeleccionado(e)}\r\n            defaultActiveFirstOption\r\n          >\r\n          {\r\n            listaCargos && listaCargos.length > 0 ? \r\n            listaCargos.map((e,i) => (\r\n              <Option key={i} value={i}>{e.nombre}</Option>\r\n            )):null\r\n          }\r\n          </Select>\r\n        </Col> : null\r\n      }\r\n        \r\n        <Col sm={12}>\r\n          <h4>Seleccionar rango de Fechas:</h4>\r\n          <RangePicker\r\n            size=\"small\"\r\n            style={{ marginRight: '.5rem' }}\r\n            onChange={cambiarRango}\r\n            value={[moment(diaInicio), moment(diaFin)]}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Button \r\n        type=\"primary\"\r\n        size=\"small\"\r\n        disabled={loadingAsistencia}\r\n        icon={loadingAsistencia ? <LoadingOutlined/> : <SearchOutlined/>}\r\n        style={{ marginBottom: \"1rem\" }}\r\n        onClick={listarAsistencias}\r\n      >\r\n        Buscar\r\n      </Button>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        size=\"small\"\r\n        loading={loadingAsistencia}\r\n        columns={columnas}\r\n        dataSource={dataAsistencias}\r\n        scroll={{ y: \"75vh\", x: \"75vw\" }}\r\n        pagination={{\r\n          defaultPageSize: 50,\r\n          pageSizeOptions: [50,100,200]\r\n        }}\r\n        footer={() => <ExcelAsistencia \r\n          nivel={cargoSeleccionado && listaCargos.length > 0 ? listaCargos[cargoSeleccionado].nivel: niveles.OPERATIVO} \r\n          data={dataAsistencias} \r\n          dias={listaDias} \r\n          cargo={cargoSeleccionado && listaCargos.length > 0 ? listaCargos[cargoSeleccionado].nombre: null}\r\n        />}\r\n      />\r\n      {/* MODAL PARA EDITAR LA ASISTENCIA */}\r\n      <ModalEditarAsistencia \r\n        visible={modalEditar} \r\n        abrir={abrirModalEditar} \r\n        loadingActualizar={loadingActualizar} \r\n        actualizar={actualizarAsistencia} \r\n      />\r\n      {/* MODAL DEL REGISTRO DE LA ASISTENCIA */}\r\n      <ModalRegistroAsistencia\r\n        fecha={fechaRegistro}\r\n        registro={registro}\r\n        visible={modalRegistro}\r\n        abrir={abrirModalRegistro}\r\n      />\r\n    </div>\r\n  )\r\n};\r\n\r\nTablaAsistenciaCargo.propTypes = {\r\n  gestor: PropTypes.bool\r\n};\r\n\r\nexport default TablaAsistenciaCargo;\r\n\r\n","import { rutas } from '../../constants/listaRutas';\r\nimport ListaRutas from \"../../views/Operativa/ListaRutas/AsignarRutas\";\r\nimport Asistencias from \"../../views/Operativa/ListaRutas/Asistencias\";\r\n\r\nconst array = [\r\n  {\r\n    path: rutas.asignarRutas,\r\n    exact: true,\r\n    component: ListaRutas\r\n  },\r\n  {\r\n    path: rutas.listaAsistencia,\r\n    exact: true,\r\n    component: Asistencias\r\n  }\r\n]\r\n\r\nexport default array","import React from 'react';\r\n\r\nimport TituloContent from '../../../components/common/TituloContent';\r\nimport Contenedor from '../../../components/common/Contenedor';\r\nimport TablaAsistenciaCargo from '../../../components/operativa/listaRutas/asistencias/TablaAsistenciaCargo';\r\n\r\nexport default function Asistencias() {\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Lista de Rutas\" subtitulo=\"Operativa\"/>\r\n      <Contenedor>\r\n        <TablaAsistenciaCargo gestor={false}/>\r\n      </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","export const averias = [\r\n  {\r\n    cabecera: 'desdtt',\r\n    propiedad: 'distrito'\r\n  },\r\n  {\r\n    cabecera: 'codreq',\r\n    cabecera_2: 'codreqatn',\r\n    propiedad: 'codigo_requerimiento'\r\n  },\r\n  {\r\n    cabecera: 'codordtrab',\r\n    propiedad: 'codigo_trabajo',\r\n  },\r\n  {\r\n    cabecera: 'cod_peticion',\r\n    cabecera_2: 'codpeticion',\r\n    propiedad: 'codigo_peticion',\r\n  },\r\n  {\r\n    cabecera: 'codofcadm',\r\n    propiedad: 'codigo_zonal'\r\n  },\r\n  {\r\n    cabecera: 'codcli',\r\n    propiedad: 'codigo_cliente'\r\n  },\r\n  {\r\n    cabecera: 'nomcli',\r\n    propiedad: 'nombre_cliente'\r\n  },\r\n  {\r\n    cabecera: 'codctr',\r\n    propiedad: 'codigo_ctr'\r\n  },\r\n  {\r\n    cabecera: 'desnomctr',\r\n    propiedad: 'descripcion_ctr'\r\n  },\r\n  {\r\n    cabecera: 'codnod',\r\n    propiedad: 'codigo_nodo'\r\n  },\r\n  {\r\n    cabecera: 'nroplano',\r\n    propiedad: 'codigo_troba'\r\n  },\r\n  {\r\n    cabecera: 'fec_regist',\r\n    cabecera_2: 'fechorreg',\r\n    fecha: true,\r\n    propiedad: 'fecha_registro'\r\n  },\r\n  {\r\n    cabecera: 'codmotv',\r\n    propiedad: 'codigo_motivo'\r\n  },\r\n  {\r\n    cabecera: 'desmotv',\r\n    propiedad: 'detalle_motivo'\r\n  },\r\n  {\r\n    cabecera: 'tipreqfin',\r\n    propiedad: 'tipo_requerimiento'\r\n  },\r\n  {\r\n    cabecera: 'desobsordtrab',\r\n    propiedad: 'detalle_trabajo'\r\n  },\r\n  {\r\n    cabecera: 'telefono',\r\n    cabecera_2: 'tel_cont_cc',\r\n    propiedad: 'telefono_contacto'\r\n  },\r\n  {\r\n    cabecera: 'tel_cont_ref_cc',\r\n    propiedad: 'telefono_referencia'\r\n  },\r\n  {\r\n    cabecera: 'numaverei',\r\n    cabecera_2: 'numaveind',\r\n    propiedad: 'numero_reiterada'\r\n  },\r\n  {\r\n    cabecera: 'tiptecnologia',\r\n    propiedad: 'tipo_tecnologia'\r\n  },\r\n];\r\n\r\nexport const averiasDireccion = [\r\n  {\r\n    cabecera: 'destipvia',\r\n    espacio: ' '\r\n  },\r\n  {\r\n    cabecera: 'desnomvia',\r\n    espacio: ' '\r\n  },\r\n  {\r\n    cabecera: 'numvia',\r\n    espacio: ' '\r\n  },\r\n  {\r\n    cabecera: 'despis',\r\n    espacio: ' '\r\n  },\r\n  {\r\n    cabecera: 'desint',\r\n    espacio: ' Int. '\r\n  },\r\n  {\r\n    cabecera: 'desmzn',\r\n    espacio: ' Mz. '\r\n  },\r\n  {\r\n    cabecera: 'deslot',\r\n    espacio: ' Lt. '\r\n  },\r\n  {\r\n    cabecera: 'destipurb',\r\n    espacio: ' '\r\n  },\r\n  {\r\n    cabecera: 'desurb',\r\n    espacio: ' '\r\n  }\r\n]\r\n\r\nexport const altas = [\r\n  {\r\n    cabecera: 'desdtt',\r\n    cabecera_2: 'distrito',\r\n    propiedad: 'distrito',\r\n  },\r\n  {\r\n    cabecera: 'codreq',\r\n    cabecera_2: 'numreq',\r\n    cabecera_3: 'requerimiento',\r\n    propiedad: 'codigo_requerimiento',\r\n  },\r\n  {\r\n    cabecera: 'codofcadm',\r\n    propiedad: 'codigo_zonal'\r\n  },\r\n  {\r\n    cabecera: 'codcli',\r\n    propiedad: 'codigo_cliente',\r\n  },\r\n  {\r\n    cabecera: 'codordtrab',\r\n    cabecera_2: 'ordtrab',\r\n    propiedad: 'codigo_trabajo',\r\n  },\r\n  {\r\n    cabecera: 'cod_peticion',\r\n    cabecera_2: 'codpeticion',\r\n    propiedad: 'codigo_peticion',\r\n  },\r\n  {\r\n    cabecera: 'codinc',\r\n    propiedad: 'codigo_incidencia',\r\n  },\r\n  {\r\n    cabecera: 'codctr',\r\n    cabecera_2: 'codres',\r\n    propiedad: 'codigo_ctr',\r\n  },\r\n  {\r\n    cabecera: 'desnomctr',\r\n    propiedad: 'descripcion_ctr',\r\n  },\r\n  {\r\n    cabecera: 'codsegmento',\r\n    propiedad: 'codigo_segmento',\r\n  },\r\n  {\r\n    cabecera: 'tipreq',\r\n    propiedad: 'tipo_requerimiento',\r\n  },\r\n  {\r\n    cabecera: 'codmotv',\r\n    propiedad: 'codigo_motivo',\r\n  },\r\n  {\r\n    cabecera: 'desmotv',\r\n    propiedad: 'detalle_motivo',\r\n  },\r\n  {\r\n    cabecera: 'desobsordtrab',\r\n    propiedad: 'detalle_trabajo',\r\n  },\r\n  {\r\n    cabecera: 'fecest',\r\n    fecha: true,\r\n    propiedad: 'fecha_asignado'\r\n  },\r\n  {\r\n    cabecera: 'fechorasig',\r\n    cabecera_2: 'fecasig',\r\n    hora: 'horasig',\r\n    fecha: true,\r\n    propiedad: 'fecha_registro'\r\n  },\r\n  {\r\n    cabecera: 'codnod',\r\n    propiedad: 'codigo_nodo',\r\n  },\r\n  {\r\n    cabecera: 'nroplano',\r\n    propiedad: 'codigo_troba',\r\n  },\r\n  {\r\n    cabecera: 'indpai',\r\n    cabecera_2: 'estado pai',\r\n    propiedad: 'indicador_pai',\r\n  },\r\n  {\r\n    cabecera: 'telefono_voip',\r\n    propiedad: 'telefono_contacto',\r\n  },\r\n  {\r\n    cabecera: 'tiptecnologia',\r\n    propiedad: 'tipo_tecnologia',\r\n  },\r\n  {\r\n    cabecera: 'movistar_total',\r\n    propiedad: 'movistar_total',\r\n  }\r\n]\r\n\r\nexport const hfcLiquidadas = [\r\n  {\r\n    cabecera: 'codreq',\r\n    cabecera_2: 'codreqatn',\r\n    cabecera_3: 'numreq',\r\n    propiedad: 'codigo_requerimiento',\r\n  },\r\n  {\r\n    cabecera: 'codctr',\r\n    cabecera_2: 'codres',\r\n    propiedad: 'codigo_ctr'\r\n  },\r\n  {\r\n    cabecera: 'codnod',\r\n    propiedad: 'codigo_nodo'\r\n  },\r\n  {\r\n    cabecera: 'desnomctr',\r\n    propiedad: 'descripcion_ctr'\r\n  },\r\n  {\r\n    cabecera: 'fec_liquid',\r\n    cabecera_2: 'fechorliq',\r\n    fecha: true,\r\n    propiedad: 'fecha_liquidado',\r\n  },\r\n  {\r\n    cabecera: 'tipave',\r\n    propiedad: 'tipo_averia',\r\n  },\r\n  {\r\n    cabecera: 'codtecliq',\r\n    propiedad: 'carnet_liquidado',\r\n  },\r\n  {\r\n    cabecera: 'nomtec',\r\n    propiedad: 'nombre_liquidado',\r\n  },\r\n  {\r\n    cabecera: 'codusr',\r\n    propiedad: 'usuario_liquidado',\r\n  },\r\n  {\r\n    cabecera: 'desobsordtrab',\r\n    propiedad: 'observacion_liquidado',\r\n  },\r\n  {\r\n    cabecera: 'des_cod_liq',\r\n    propiedad: 'descripcion_codigo_liquidado',\r\n  },\r\n]\r\n\r\nexport const valoresExcelPendientes = {\r\n  codigo_requerimiento: \"Requerimiento\",\r\n  codigo_cliente: 'Codigo Cliente',\r\n  nombre_cliente: 'Cliente',\r\n  codigo_trabajo: 'Orden Trabajo',\r\n  codigo_peticion: 'Peticion',\r\n  tipo_requerimiento: 'Tipo Requerimiento',\r\n  tipo_tecnologia: 'Tipo Tecnologia',\r\n  indicador_pai: 'PAI',\r\n  codigo_ctr: \"CTR\",\r\n  codigo_nodo: \"Nodo\",\r\n  codigo_troba: \"Troba\",\r\n  numero_reiterada: \"Reiterada\",\r\n  infancia_requerimiento: 'Infancia Requerimiento',\r\n  infancia_tecnico_nombre: 'Infancia Tecnico',\r\n  infancia_tecnico_carnet: 'Infancia Carnet',\r\n  infancia_tecnico_gestor: 'Infancia Gestor',\r\n  infancia_registro: 'Infancia Fecha Registro',\r\n  infancia_liquidado: 'Infancia Fecha Liquidado',\r\n  infancia_externa_requerimiento: 'Infancia Externa Requerimiento',\r\n  infancia_externa_ctr: 'Infancia Externa CTR',\r\n  infancia_externa_observacion: 'Infancia Externa Obs.',\r\n  distrito: \"Distrito\",\r\n  direccion: 'Dirección',\r\n  bucket: \"Bucket\",\r\n  estado_toa: \"Estado Toa\",\r\n  estado_gestor: \"Estado Gestor\",\r\n  contrata: \"Contrata\",\r\n  gestor: \"Gestor\",\r\n  gestor_carnet: 'Gestor Carnet',\r\n  auditor: \"Auditor\",\r\n  tecnico: \"Tecnico\",\r\n  tecnico_carnet: 'Tecnico Carnet',\r\n  fecha_cita: \"Fecha Cita\",\r\n  fecha_registro: \"Fecha Registro\",\r\n  fecha_asignado: 'Fecha Asignado',\r\n  fecha_liquidado: 'Fecha Liquidado',\r\n  horas_registro: 'Horas Registro',\r\n  horas_asignado: 'Horas Asignado',\r\n  orden_devuelta: 'Orden Devuelta',\r\n  observacion_toa: 'Observacion Toa'\r\n};\r\n\r\nexport const listaBuckets = [\r\n  {\r\n    text: 'MA MAGDALENA 01',\r\n    value: 'BK_SV_MA_MAGDALENA_01'\r\n  },\r\n  {\r\n    text: 'SM MAGDALENA 02',\r\n    value: 'BK_MA_SM_MAGDALENA_02'\r\n  },\r\n  {\r\n    text: 'SJ MARANGA',\r\n    value: 'BK_MR_SM_PN_SJ_MARANGA'\r\n  },\r\n  {\r\n    text: 'SJ SAN JOSE',\r\n    value: 'BK_SJ_SAN_JOSE'\r\n  },\r\n  {\r\n    text: 'MA VENEZUELA',\r\n    value: 'BK_VN_MA_VENEZUELA'\r\n  }\r\n];\r\n\r\nexport const listaEstadosGestor = {\r\n  PENDIENTE: 'pendiente',\r\n  AGENDADO: 'agendado',\r\n  ASIGNADO: 'asignado',\r\n  INICIADO: 'iniciado',\r\n  LIQUIDADO: 'liquidado',\r\n  SUSPENDIDO: 'suspendido',\r\n  CANCELADO: 'cancelado',\r\n  NO_REALIZADO: 'no_realizado',\r\n  MASIVO: 'masivo',\r\n  PEXT: 'pext',\r\n  REMEDY: 'remedy',\r\n}\r\n\r\nexport const codigosLiquidadasEfectivas = [\r\n  '02','2','03','3','06','6','07','7','10','1C','1D','1H','1I','1N','1P','1Q','1S','1O','1T','1U','1L',\r\n  'G1','G3','G4','G5','2A','2B','2C','2D','2E','2F','2G','2H',\r\n  'HC','H0','H1','H2','H3','H4','H5','H6','H8','H9','HA','HB','HC','HD'\r\n];\r\n\r\nexport const codigosLiquidadasInefectivas = [\r\n  '1V','1W','71','77','78','79','7B','7C','7D','7E','7F',\r\n  '21','93','R1','R2','H7','D1','D2','D3','D4','D5',\r\n  'S1','S2','S3','S4','S5','S6','Z1'\r\n];\r\n\r\nexport const codigosLiquidadasNoCorresponde = [\r\n  '21','22','23','24','25','26','28','31','32','33','34','35',\r\n  '41','42','43','47','48','49','51','53','81','82','83','84',\r\n  '91','92','B8',\r\n];\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Tag } from 'antd';\r\nimport capitalizar from '../../../libraries/capitalizar';\r\nimport { listaEstadosGestor } from '../../../constants/valoresOrdenes';\r\n\r\nfunction TagEstado({estado}) {\r\n  switch (String(estado).toLowerCase()) {\r\n    case 'cancelado':\r\n      return <Tag>{capitalizar(estado)}</Tag>\r\n    case 'completado':\r\n      return <Tag color=\"success\">{capitalizar(estado)}</Tag>\r\n    case listaEstadosGestor.LIQUIDADO:\r\n      return <Tag color=\"success\">{capitalizar(estado)}</Tag>\r\n    case listaEstadosGestor.AGENDADO:\r\n      return <Tag color=\"blue\">{capitalizar(estado)}</Tag>\r\n    case listaEstadosGestor.ASIGNADO:\r\n      return <Tag color=\"cyan\">{capitalizar(estado)}</Tag>\r\n    case 'iniciado':\r\n      return <Tag color=\"geekblue\">{capitalizar(estado)}</Tag>\r\n    case 'no realizada':\r\n      return <Tag color=\"magenta\">{capitalizar(estado)}</Tag>\r\n    case listaEstadosGestor.PENDIENTE:\r\n      return <Tag color=\"orange\">{capitalizar(estado)}</Tag>\r\n    case listaEstadosGestor.SUSPENDIDO:\r\n      return <Tag color=\"red\">{capitalizar(estado)}</Tag>\r\n    case listaEstadosGestor.REMEDY:\r\n      return <Tag color=\"red\">{capitalizar(estado)}</Tag>\r\n    case listaEstadosGestor.PEXT:\r\n      return <Tag color=\"purple\">{String(estado).toUpperCase()}</Tag>\r\n    case listaEstadosGestor.MASIVO:\r\n      return <Tag color=\"purple\">{String(estado).toUpperCase()}</Tag>\r\n    case 'efectiva':\r\n      return <Tag color=\"green\">{capitalizar(estado)}</Tag>\r\n    case 'inefectiva':\r\n      return <Tag color=\"red\">{capitalizar(estado)}</Tag>\r\n    case 'anulado':\r\n      return <Tag color=\"red\">{capitalizar(estado)}</Tag>\r\n    default:\r\n      return <Tag>-</Tag>\r\n  }\r\n}\r\n\r\nTagEstado.propTypes = {\r\n  estado: PropTypes.string\r\n}\r\n\r\nexport default TagEstado\r\n\r\n","import { restPrivate } from './requestHelper';\r\n\r\nexport const getOrdenes = async (toast, {metodo, tipo, codigo_cliente, id, todo, id_ordenes, fechaInicio, fechaFin }) => restPrivate({\r\n  url: 'ordenes', method: 'GET', params: { metodo, tipo, todo, codigo_cliente, id, id_ordenes, fechaInicio, fechaFin }, headers: { \"Content-Type\": \"application/json\" }\r\n}, toast);\r\n\r\n/**\r\n * @param {object} body\r\n * @param {string} body.metodo\r\n * @param {array} body.ordenes\r\n * @param {array} body.ordenesExternas\r\n * @param {object} body.orden\r\n */\r\nexport const postOrdenes = async ({metodo, ordenes, ordenesExternas, orden}) => restPrivate({\r\n  url: 'ordenes', method: 'POST', data: { ordenes, ordenesExternas, metodo, orden}\r\n},true);\r\n\r\nexport const putOrdenes = async ({metodo, ordenes}) => restPrivate({\r\n  url: 'ordenes', method: 'PUT', data: { ordenes, metodo }\r\n},true);\r\n\r\nexport const patchOrdenes = async ({metodo, id, ordenes, bucket, tecnico, auditor, gestor, contrata, fecha_cita, estado, observacion}) => restPrivate({\r\n  url: 'ordenes', \r\n  method: 'PATCH', \r\n  data: { metodo, id, ordenes, bucket, tecnico, auditor, gestor, contrata, fecha_cita, estado, observacion}\r\n},true);\r\n\r\nexport const patchFilesOrdenes = async (data) => restPrivate({\r\n  url: 'ordenes', \r\n  method: 'PATCH', \r\n  data, \r\n  headers: { 'Content-Type': 'multipart/form-data' }\r\n}, true)","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Input, Popconfirm } from 'antd';\r\nimport { EditTwoTone } from '@ant-design/icons';\r\nimport { patchOrdenes } from '../../../../services/apiOrden';\r\nimport { ordenes } from '../../../../constants/metodos';\r\n\r\nfunction PopObservacion({row, listarOrdenes}) {\r\n  const [observacion, setObservacion] = useState(null);\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  async function enviarObservacion() {\r\n    if (observacion) {\r\n      await patchOrdenes({metodo: ordenes.AGREGAR_OBSERVACION, id: row._id, observacion})\r\n        .then(() => {\r\n          cancelarPop();\r\n          listarOrdenes();\r\n        }).catch((e) => console.log(e))\r\n    } else {\r\n      setVisible(false);\r\n    }\r\n  };\r\n\r\n  const cancelarPop = () => {\r\n    setObservacion(null);\r\n    setVisible(false);\r\n  };\r\n\r\n  return (\r\n    <Popconfirm\r\n      visible={visible}\r\n      placement=\"leftTop\"\r\n      title={() => (\r\n        <div>\r\n          <p>Observacion - <strong>{row.codigo_requerimiento}</strong></p>\r\n          <Input\r\n            value={observacion}\r\n            onChange={(e) => setObservacion(e.target.value)}\r\n            placeholder=\"Observacion\"\r\n            size=\"small\"\r\n            style={{ width: 250 }}\r\n          />\r\n        </div>\r\n      )} \r\n      icon={<EditTwoTone twoToneColor=\"#EB984E\" />}\r\n      onConfirm={enviarObservacion}\r\n      onCancel={cancelarPop}\r\n    >\r\n      <EditTwoTone style={{ fontSize: '1.5rem' }} twoToneColor=\"#EB984E\" onClick={() => setVisible(!visible)}/>\r\n    </Popconfirm>\r\n  )\r\n}\r\n\r\nPopObservacion.propTypes = {\r\n  row: PropTypes.object,\r\n  listarOrdenes: PropTypes.func\r\n}\r\n\r\nexport default PopObservacion\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport { Tag } from 'antd';\r\nimport { tipoOrdenes } from '../../constants/tipoOrden';\r\n\r\nfunction TagHoras({fecha, tipo, tipoAgenda}) {\r\n  let horas = moment().diff(fecha, 'hours');\r\n  if (tipoAgenda && fecha) {\r\n    return <Tag color=\"blue\">{horas}</Tag>\r\n  } else if (!tipoAgenda && fecha){\r\n    if (tipo === tipoOrdenes.ALTAS) {\r\n      return <Tag color={horas >= 72 ? 'error' : horas < 72 && horas >= 24 ? 'warning' : horas < 24 ? 'success' : ''}>{horas}</Tag>\r\n    } else if (tipo === tipoOrdenes.AVERIAS){\r\n      return <Tag color={horas >= 24 ? 'error' : horas < 24 && horas >= 12 ? 'warning' : horas < 12 ? 'success' : ''}>{horas}</Tag>\r\n    } else {\r\n      return <Tag>-</Tag>\r\n    }\r\n  } else {\r\n    return <Tag color=\"blue\">-</Tag>\r\n  }\r\n};\r\n\r\nTagHoras.propTypes = {\r\n  fecha: PropTypes.any,\r\n  tipo: PropTypes.string,\r\n  tipoAgenda: PropTypes.any\r\n};\r\n\r\nexport default TagHoras;\r\n\r\n","import React from 'react';\r\nimport { Tag, Tooltip, Typography } from 'antd';\r\nimport { PlusCircleTwoTone } from '@ant-design/icons'\r\nimport moment from 'moment';\r\n\r\nimport TagEstado from '../../administrarOrdenes/TagEstado';\r\nimport PopObservacion from '../../administrarOrdenes/columnas/PopObservacion';\r\nimport capitalizar from '../../../../libraries/capitalizar';\r\nimport { ordenesB2B } from '../../../../constants/valoresToa';\r\nimport TagHoras from '../../../common/TagHoras';\r\n\r\nconst { Text } = Typography;\r\n\r\nfunction columnasBaseGestor({\r\n  filtroTipo=[],\r\n  filtroTimeSlot=[],\r\n  abrirRegistro,\r\n  listarOrdenes\r\n}) {\r\n\r\n  return [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      fixed: 'left',\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Tipo',\r\n      dataIndex: 'tipo',\r\n      width: 100,\r\n      fixed: 'left',\r\n      filters: filtroTipo ? filtroTipo : [],\r\n      onFilter: (v,r) => r.tipo.indexOf(v) === 0,\r\n      render: (t) => t ? capitalizar(t) : '-'\r\n    },\r\n    {\r\n      title: 'Requerimiento',\r\n      dataIndex: 'codigo_requerimiento',\r\n      width: 140,\r\n      fixed: 'left',\r\n      render: (req, row) => {\r\n        if (row.subtipo_actividad && ordenesB2B.includes(row.subtipo_actividad)) {\r\n          return <Text copyable strong style={{ color: '#003055'}}><Tag color=\"#108ee9\" style={{ fontSize: '1rem' }}>{req}</Tag></Text>\r\n        } else {\r\n          return <Text copyable strong>{req}</Text>\r\n        }\r\n      },\r\n    },\r\n    {\r\n      title: 'Codigo Cliente',\r\n      dataIndex: 'codigo_cliente',\r\n      width: 120,\r\n      fixed: 'left',\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    // AQUI IRÁ LAS COLUMNAS PARA AGREGAR\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Time Slot',\r\n      dataIndex: 'tipo_agenda',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      filters: filtroTimeSlot ? filtroTimeSlot.filter((e) => e.text) : [],\r\n      onFilter: (v,r) => {\r\n        if (r.tipo_agenda && v ) {\r\n          return  r.tipo_agenda.indexOf(v) === 0;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      render: (ts) => {\r\n        if (ts) {\r\n          return <Tag color=\"#f50\">{ts}</Tag>\r\n        } else {\r\n          return;\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Horas',\r\n      dataIndex: 'fecha_registro',\r\n      width: 80,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      sorter: (a, b) => {\r\n        if (moment().diff(a.fecha_registro, 'hours') < moment().diff(b.fecha_registro, 'hours')) {\r\n          return -1;\r\n        }\r\n        if (moment().diff(a.fecha_registro, 'hours') > moment().diff(b.fecha_registro, 'hours')) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (fecha, row) => <TagHoras fecha={fecha} tipo={row.tipo} tipoAgenda={row.tipo_agenda}/>\r\n    },\r\n    {\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      width: 80,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      render: (id, row) => (\r\n        <div>\r\n          <PlusCircleTwoTone\r\n            style={{ fontSize: '1.5rem', marginRight: '.5rem' }}\r\n            onClick={() => abrirRegistro(id)}\r\n          />\r\n          <PopObservacion row={row} listarOrdenes={listarOrdenes}/>\r\n        </div>\r\n      )\r\n    }\r\n  ];\r\n};\r\n\r\nexport function columnasPendientesGestor({\r\n  filtroDistrito=[],\r\n  filtroBucket=[],\r\n  filtroEstadoToa=[],\r\n  filtroEstadoGestor=[],\r\n  filtroContrata=[], \r\n  filtroTecnico=[],\r\n  filtroTecnicoAsignado=[],\r\n  filtroTipoRequerimiento=[],\r\n  filtroTipoTecnologia=[],\r\n  filtroCtr=[],\r\n  filtroNodo=[],\r\n  filtroTroba=[],\r\n  abrirReiterada,\r\n  abrirInfancia\r\n}) {\r\n\r\n  return [\r\n    {\r\n      key: 'tipo_requerimiento',\r\n      title: 'Tipo Req.',\r\n      dataIndex: 'tipo_requerimiento',\r\n      width: 120,\r\n      align: 'center',\r\n      filters: filtroTipoRequerimiento ? filtroTipoRequerimiento : [],\r\n      onFilter: (v,r) => r.tipo_requerimiento.indexOf(v) === 0\r\n    },\r\n    {\r\n      key: 'tipo_tecnologia',\r\n      title: 'Tecnologia',\r\n      dataIndex: 'tipo_tecnologia',\r\n      width: 120,\r\n      filters: filtroTipoTecnologia ? filtroTipoTecnologia : [],\r\n      onFilter: (v,r) => r.tipo_tecnologia.indexOf(v) === 0\r\n    },\r\n    {\r\n      key: 'codigo_trabajo',\r\n      title: 'Orden Trabajo',\r\n      dataIndex: 'codigo_trabajo',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      key: 'codigo_peticion',\r\n      title: 'Peticion',\r\n      dataIndex: 'codigo_peticion',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      key: 'codigo_ctr',\r\n      title: 'CTR',\r\n      dataIndex: 'codigo_ctr',\r\n      width: 60,\r\n      filters: filtroCtr ? filtroCtr : [],\r\n      onFilter: (v,r) => String(r.codigo_ctr).indexOf(String(v)) === 0,\r\n    },\r\n    {\r\n      key: 'codigo_nodo',\r\n      title: 'Nodo',\r\n      dataIndex: 'codigo_nodo',\r\n      width: 75,\r\n      filters: filtroNodo ? filtroNodo : [],\r\n      onFilter: (v,r) => String(r.codigo_nodo).indexOf(String(v)) === 0,\r\n    },\r\n    {\r\n      key: 'codigo_troba',\r\n      title: 'Troba',\r\n      dataIndex: 'codigo_troba',\r\n      width: 90,\r\n      filters: filtroTroba ? filtroTroba : [],\r\n      onFilter: (v,r) => String(r.codigo_troba).indexOf(String(v)) === 0,\r\n      sorter: (a, b) => {\r\n        if (a.codigo_troba < b.codigo_troba) {\r\n          return -1;\r\n        }\r\n        if (a.codigo_troba > b.codigo_troba) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n    {\r\n      key: 'numero_reiterada',\r\n      title: 'Reiterada',\r\n      dataIndex: 'numero_reiterada',\r\n      width: 100,\r\n      align: 'center',\r\n      sorter: (a,b) => a.numero_reiterada - b.numero_reiterada,\r\n      render: (r, obj) => {\r\n        if (r && r !== '0' && r !== '-') {\r\n          return <Tag color=\"#E5302F\" onClick={() => abrirReiterada(obj.codigo_cliente)} style={{ cursor: 'pointer' }}>{r}</Tag>\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      key: 'infancia',\r\n      title: 'Infancia',\r\n      dataIndex: 'infancia',\r\n      width: 100,\r\n      align: 'center',\r\n      filters: [{text: 'Si', value: true}, {text: 'No', value: false}],\r\n      onFilter: (v,r) => {\r\n        if (v) {\r\n          return r.infancia\r\n        } else {\r\n          return !r.infancia\r\n        }\r\n      },\r\n      render: (inf) => {\r\n        if (inf && inf.codigo_requerimiento) {\r\n          return <Tag color=\"blue\" onClick={() => abrirInfancia(inf)} style={{ cursor: 'pointer' }}>Si</Tag>\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      key: 'distrito',\r\n      title: 'Distrito',\r\n      dataIndex: 'distrito',\r\n      width: 160,\r\n      filters: filtroDistrito ? filtroDistrito : [],\r\n      onFilter: (v,r) => r.distrito.indexOf(v) === 0\r\n    },\r\n    {\r\n      key: 'direccion',\r\n      title: 'Dirección',\r\n      dataIndex: 'direccion',\r\n      width: 250,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (direccion) => (\r\n        <Tooltip placement=\"topLeft\" title={direccion}>\r\n          {direccion}\r\n        </Tooltip>\r\n      )\r\n    },\r\n\r\n    {\r\n      key: 'bucket',\r\n      title: 'Bucket',\r\n      dataIndex: 'bucket',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroBucket ? filtroBucket : [],\r\n      onFilter: (v,r) => r.bucket.indexOf(v) === 0,\r\n      render: (bckt) => (\r\n        <Tooltip placement=\"topLeft\" title={bckt}>\r\n          {bckt}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      key: 'estado_toa',\r\n      title: 'Estado Toa',\r\n      dataIndex: 'estado_toa',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoToa ? filtroEstadoToa : [],\r\n      onFilter: (v,r) => r.estado_toa.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      key: 'estado_gestor',\r\n      title: 'Estado Gestor',\r\n      dataIndex: 'estado_gestor',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoGestor ? filtroEstadoGestor : [],\r\n      onFilter: (v,r) => r.estado_gestor.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      key: 'contrata',\r\n      title: 'Contrata',\r\n      dataIndex: 'contrata',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroContrata ? filtroContrata : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.contrata\r\n        } else if( r.contrata !== undefined) {\r\n          return r.contrata._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (c) => (\r\n        <Tooltip placement=\"topLeft\" title={c ? c.nombre:'-'}>\r\n          {c ? c.nombre:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      key: 'tecnico',\r\n      title: 'Tecnico TOA',\r\n      dataIndex: 'tecnico',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroTecnico ? filtroTecnico : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.tecnico\r\n        } else if( r.tecnico !== undefined) {\r\n          return r.tecnico._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t ? t.nombre+' '+t.apellidos:'-'}>\r\n          {t ? t.nombre+' '+t.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      key: 'tecnico_liteyca',\r\n      title: 'Tecnico Asignado',\r\n      dataIndex: 'tecnico_liteyca',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroTecnicoAsignado ? filtroTecnicoAsignado : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.tecnico_liteyca\r\n        } else if( r.tecnico_liteyca !== undefined) {\r\n          return r.tecnico_liteyca._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t ? t.nombre+' '+t.apellidos:'-'}>\r\n          {t ? t.nombre+' '+t.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      key: 'observacion_gestor',\r\n      title: 'Observacion Gestor',\r\n      dataIndex: 'observacion_gestor',\r\n      width: 250,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (o) => <Tooltip placement=\"topLeft\" title={o}>{o} </Tooltip>\r\n    },\r\n    {\r\n      key: 'tipo_agenda',\r\n      title: 'Time Slot',\r\n      dataIndex: 'tipo_agenda',\r\n      width: 100\r\n    },\r\n    {\r\n      key: 'fecha_cita',\r\n      title: 'Fecha Cita',\r\n      dataIndex: 'fecha_cita',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      key: 'fecha_asignado',\r\n      title: 'Fecha Asignado',\r\n      dataIndex: 'fecha_asignado',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      key: 'fecha_registro',\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n  ];\r\n};\r\n\r\nexport function generarColumnasGestor(columnasUsuario=[], {\r\n  filtroTipo=[],\r\n  filtroDistrito=[],\r\n  filtroBucket=[],\r\n  filtroEstadoToa=[],\r\n  filtroEstadoGestor=[],\r\n  filtroContrata=[], \r\n  filtroTecnico=[],\r\n  filtroTecnicoAsignado=[],\r\n  filtroTipoRequerimiento=[],\r\n  filtroTipoTecnologia=[],\r\n  filtroCtr=[],\r\n  filtroNodo=[],\r\n  filtroTroba=[],\r\n  filtroTimeSlot=[],\r\n  abrirReiterada,\r\n  abrirInfancia,\r\n  abrirRegistro,\r\n  listarOrdenes\r\n}) {\r\n  if (columnasUsuario && columnasUsuario.length > 0) {\r\n    let columnasAux = [];\r\n    columnasUsuario.forEach((key) => {\r\n      let index = columnasPendientesGestor({ filtroDistrito, filtroBucket, filtroEstadoToa, filtroEstadoGestor, filtroContrata, filtroTecnico, filtroTecnicoAsignado, \r\n        filtroTipoRequerimiento, filtroTipoTecnologia,filtroCtr, filtroNodo, filtroTroba, abrirReiterada, abrirInfancia }).findIndex((e) => e.dataIndex === key);\r\n      if (index > -1) {\r\n        columnasAux.push(columnasPendientesGestor({ filtroDistrito, filtroBucket, filtroEstadoToa, filtroEstadoGestor, filtroContrata, filtroTecnico, filtroTecnicoAsignado, \r\n          filtroTipoRequerimiento, filtroTipoTecnologia,filtroCtr, filtroNodo, filtroTroba, abrirReiterada, abrirInfancia })[index])\r\n      };     \r\n    });\r\n    let newColumns = columnasAux.filter((e) => e);\r\n    let base = columnasBaseGestor({filtroTipo, filtroTimeSlot, abrirRegistro, listarOrdenes });\r\n    base.splice(4, 0, ...newColumns);\r\n    return base;\r\n  } else {\r\n    let base = columnasBaseGestor({filtroTipo, filtroTimeSlot, abrirRegistro, listarOrdenes });\r\n    base.splice(4, 0, ...columnasPendientesGestor({\r\n      filtroDistrito, \r\n      filtroBucket, \r\n      filtroEstadoToa, \r\n      filtroEstadoGestor,\r\n      filtroContrata, \r\n      filtroTecnico,\r\n      filtroTecnicoAsignado,\r\n      filtroTipoRequerimiento,\r\n      filtroTipoTecnologia,\r\n      filtroCtr,\r\n      filtroNodo,\r\n      filtroTroba,\r\n      abrirReiterada,\r\n      abrirInfancia,\r\n    }));\r\n\r\n    return base;\r\n  };\r\n};","import React from 'react';\r\nimport { Tag, Tooltip, Typography } from 'antd';\r\nimport { PlusCircleTwoTone } from '@ant-design/icons'\r\nimport moment from 'moment';\r\n\r\nimport TagEstado from '../../administrarOrdenes/TagEstado';\r\nimport PopObservacion from '../../administrarOrdenes/columnas/PopObservacion';\r\nimport capitalizar from '../../../../libraries/capitalizar';\r\nimport { ordenesB2B } from '../../../../constants/valoresToa';\r\nimport TagHoras from '../../../common/TagHoras';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport default function columnasSinBandejaGestor(\r\n  filtroDistrito=[],\r\n  filtroTipo=[],\r\n  filtroBucket=[],\r\n  filtroEstadoToa=[],\r\n  filtroEstadoGestor=[],\r\n  filtroContrata=[], \r\n  filtroTecnico=[],\r\n  filtroTecnicoAsignado=[],\r\n  filtroTipoRequerimiento=[],\r\n  filtroTipoTecnologia=[],\r\n  filtroCtr=[],\r\n  filtroNodo=[],\r\n  filtroTroba=[],\r\n  filtroTimeSlot=[],\r\n  abrirReiterada,\r\n  abrirInfancia,\r\n  abrirRegistro,\r\n  listarOrdenes\r\n) {\r\n\r\n  return [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      fixed: 'left',\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Tipo',\r\n      dataIndex: 'tipo',\r\n      width: 100,\r\n      fixed: 'left',\r\n      filters: filtroTipo ? filtroTipo : [],\r\n      onFilter: (v,r) => r.tipo.indexOf(v) === 0,\r\n      render: (t) => t ? capitalizar(t) : '-'\r\n    },\r\n    {\r\n      title: 'Requerimiento',\r\n      dataIndex: 'codigo_requerimiento',\r\n      width: 120,\r\n      fixed: 'left',\r\n      render: (req, row) => {\r\n        if (row.subtipo_actividad && ordenesB2B.includes(row.subtipo_actividad)) {\r\n          return {\r\n            props: {\r\n              style: { background: \"#CCE9FF\" },\r\n            },\r\n            children: <Text copyable strong style={{ color: '#003055'}}>{req}</Text>,\r\n          };\r\n        } else {\r\n          return <Text copyable strong>{req}</Text>\r\n        }\r\n      },\r\n    },\r\n    {\r\n      title: 'Codigo Cliente',\r\n      dataIndex: 'codigo_cliente',\r\n      width: 120,\r\n      fixed: 'left',\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'Tipo Req.',\r\n      dataIndex: 'tipo_requerimiento',\r\n      width: 120,\r\n      align: 'center',\r\n      filters: filtroTipoRequerimiento ? filtroTipoRequerimiento : [],\r\n      onFilter: (v,r) => r.tipo_requerimiento.indexOf(v) === 0\r\n    },\r\n    {\r\n      title: 'Tecnologia',\r\n      dataIndex: 'tipo_tecnologia',\r\n      width: 120,\r\n      filters: filtroTipoTecnologia ? filtroTipoTecnologia : [],\r\n      onFilter: (v,r) => r.tipo_tecnologia.indexOf(v) === 0\r\n    },\r\n    {\r\n      title: 'Orden Trabajo',\r\n      dataIndex: 'codigo_trabajo',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'Peticion',\r\n      dataIndex: 'codigo_peticion',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'CTR',\r\n      dataIndex: 'codigo_ctr',\r\n      width: 60,\r\n      filters: filtroCtr ? filtroCtr : [],\r\n      onFilter: (v,r) => String(r.codigo_ctr).indexOf(String(v)) === 0,\r\n    },\r\n    {\r\n      title: 'Nodo',\r\n      dataIndex: 'codigo_nodo',\r\n      width: 75,\r\n      filters: filtroNodo ? filtroNodo : [],\r\n      onFilter: (v,r) => String(r.codigo_nodo).indexOf(String(v)) === 0,\r\n    },\r\n    {\r\n      title: 'Troba',\r\n      dataIndex: 'codigo_troba',\r\n      width: 90,\r\n      filters: filtroTroba ? filtroTroba : [],\r\n      onFilter: (v,r) => String(r.codigo_troba).indexOf(String(v)) === 0,\r\n      sorter: (a, b) => {\r\n        if (a.codigo_troba < b.codigo_troba) {\r\n          return -1;\r\n        }\r\n        if (a.codigo_troba > b.codigo_troba) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n    {\r\n      title: 'Reiterada',\r\n      dataIndex: 'numero_reiterada',\r\n      width: 100,\r\n      align: 'center',\r\n      sorter: (a,b) => a.numero_reiterada - b.numero_reiterada,\r\n      render: (r, obj) => {\r\n        if (r && r !== '0' && r !== '-') {\r\n          return <Tag color=\"#E5302F\" onClick={() => abrirReiterada(obj.codigo_cliente)} style={{ cursor: 'pointer' }}>{r}</Tag>\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Infancia',\r\n      dataIndex: 'infancia',\r\n      width: 100,\r\n      align: 'center',\r\n      filters: [{text: 'Si', value: true}, {text: 'No', value: false}],\r\n      onFilter: (v,r) => {\r\n        if (v) {\r\n          return r.infancia\r\n        } else {\r\n          return !r.infancia\r\n        }\r\n      },\r\n      render: (inf) => {\r\n        if (inf && inf.codigo_requerimiento) {\r\n          return <Tag color=\"blue\" onClick={() => abrirInfancia(inf)} style={{ cursor: 'pointer' }}>Si</Tag>\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Distrito',\r\n      dataIndex: 'distrito',\r\n      width: 160,\r\n      filters: filtroDistrito ? filtroDistrito : [],\r\n      onFilter: (v,r) => r.distrito.indexOf(v) === 0\r\n    },\r\n    {\r\n      title: 'Bucket',\r\n      dataIndex: 'bucket',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroBucket ? filtroBucket : [],\r\n      onFilter: (v,r) => r.bucket.indexOf(v) === 0,\r\n      render: (bckt) => (\r\n        <Tooltip placement=\"topLeft\" title={bckt}>\r\n          {bckt}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Estado Toa',\r\n      dataIndex: 'estado_toa',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoToa ? filtroEstadoToa : [],\r\n      onFilter: (v,r) => r.estado_toa.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      title: 'Estado Gestor',\r\n      dataIndex: 'estado_gestor',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoGestor ? filtroEstadoGestor : [],\r\n      onFilter: (v,r) => r.estado_gestor.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      title: 'Contrata',\r\n      dataIndex: 'contrata',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroContrata ? filtroContrata : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.contrata\r\n        } else if( r.contrata !== undefined) {\r\n          return r.contrata._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (c) => (\r\n        <Tooltip placement=\"topLeft\" title={c ? c.nombre:'-'}>\r\n          {c ? c.nombre:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Tecnico TOA',\r\n      dataIndex: 'tecnico',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroTecnico ? filtroTecnico : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.tecnico\r\n        } else if( r.tecnico !== undefined) {\r\n          return r.tecnico._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t ? t.nombre+' '+t.apellidos:'-'}>\r\n          {t ? t.nombre+' '+t.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Tecnico Asignado',\r\n      dataIndex: 'tecnico_liteyca',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroTecnicoAsignado ? filtroTecnicoAsignado : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.tecnico_liteyca\r\n        } else if( r.tecnico_liteyca !== undefined) {\r\n          return r.tecnico_liteyca._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t ? t.nombre+' '+t.apellidos:'-'}>\r\n          {t ? t.nombre+' '+t.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Observacion Gestor',\r\n      dataIndex: 'observacion_gestor',\r\n      width: 250,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (o) => <Tooltip placement=\"topLeft\" title={o}>{o} </Tooltip>\r\n    },\r\n    {\r\n      title: 'Fecha Cita',\r\n      dataIndex: 'fecha_cita',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Fecha Asignado',\r\n      dataIndex: 'fecha_asignado',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Time Slot',\r\n      dataIndex: 'tipo_agenda',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      filters: filtroTimeSlot ? filtroTimeSlot.filter((e) => e.text) : [],\r\n      onFilter: (v,r) => {\r\n        if (r.tipo_agenda && v ) {\r\n          return  r.tipo_agenda.indexOf(v) === 0;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      render: (ts) => {\r\n        if (ts) {\r\n          return <Tag color=\"#f50\">{ts}</Tag>\r\n        } else {\r\n          return;\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Horas',\r\n      dataIndex: 'fecha_registro',\r\n      width: 80,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      sorter: (a, b) => {\r\n        if (moment().diff(a.fecha_registro, 'hours') < moment().diff(b.fecha_registro, 'hours')) {\r\n          return -1;\r\n        }\r\n        if (moment().diff(a.fecha_registro, 'hours') > moment().diff(b.fecha_registro, 'hours')) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (fecha, row) => <TagHoras fecha={fecha} tipo={row.tipo} tipoAgenda={row.tipo_agenda}/>\r\n    },\r\n    {\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      width: 80,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      render: (id, row) => (\r\n        <div>\r\n          <PlusCircleTwoTone\r\n            style={{ fontSize: '1.5rem', marginRight: '.5rem' }}\r\n            onClick={() => abrirRegistro(id)}\r\n          />\r\n          <PopObservacion row={row} listarOrdenes={listarOrdenes}/>\r\n        </div>\r\n      )\r\n    }\r\n  ];\r\n};","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Descriptions, Modal, Spin } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport { getOrdenes } from '../../../../services/apiOrden';\r\nimport { ordenes } from '../../../../constants/metodos';\r\nimport { tipoOrdenes } from '../../../../constants/tipoOrden';\r\nimport TagHoras from '../../../common/TagHoras';\r\n\r\n\r\nfunction ModalDetalleOrden({visible, abrir, orden, tipo}) {\r\n  const [ordenDetalle, setOrdenDetalle] = useState({});\r\n  const [loadingDetalle, setLoadingDetalle] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (String(orden).length > 4) {\r\n      buscarDetalleOrden();\r\n    }\r\n  //eslint-disable-next-line\r\n  }, [orden]);\r\n\r\n  async function buscarDetalleOrden() {\r\n    setLoadingDetalle(true);\r\n    return await getOrdenes(false, { metodo: ordenes.BUSCAR_DETALLE, id: orden })\r\n      .then(({data}) => { \r\n        if (data) {\r\n          setOrdenDetalle(data)\r\n        } else {\r\n          setOrdenDetalle({})\r\n        };\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingDetalle(false));\r\n  };\r\n\r\n  if (tipo === tipoOrdenes.AVERIAS) {\r\n    return (\r\n      <Modal\r\n        title=\"Detalle Orden\"\r\n        visible={visible}\r\n        onCancel={abrir}\r\n        onOk={abrir}\r\n        width='70vw'\r\n        destroyOnClose\r\n        centered\r\n      >\r\n        {\r\n          loadingDetalle ? \r\n          <Spin spinning/>\r\n          :\r\n          <Descriptions\r\n            bordered\r\n            size=\"small\"\r\n          >\r\n            <Descriptions.Item label=\"Requerimiento\">{ordenDetalle && ordenDetalle.codigo_requerimiento ? ordenDetalle.codigo_requerimiento : '-'}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Codigo Cliente\">{ordenDetalle && ordenDetalle.codigo_cliente ? ordenDetalle.codigo_cliente : '-'}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Nodo\">{ordenDetalle && ordenDetalle.codigo_nodo ? ordenDetalle.codigo_nodo : '-'}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Distrito\">{ordenDetalle && ordenDetalle.distrito ? ordenDetalle.distrito : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Telefono\">{ordenDetalle && ordenDetalle.telefono_contacto ? ordenDetalle.telefono_contacto : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Referencia\">{ordenDetalle && ordenDetalle.telefono_referencia ? ordenDetalle.telefono_referencia : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Tecnología\">{ordenDetalle && ordenDetalle.tipo_tecnologia ? ordenDetalle.tipo_tecnologia : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Fecha Cita\">{ordenDetalle && ordenDetalle.fecha_cita ? moment(ordenDetalle.fecha_cita).format('DD/MM/YY') : '-'}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Fecha Registro\">{ordenDetalle && ordenDetalle.fecha_registro ? moment(ordenDetalle.fecha_registro).format('DD/MM/YY HH:mm') : '-'}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Horas\">\r\n              {ordenDetalle && ordenDetalle.fecha_registro ? \r\n              <TagHoras fecha={ordenDetalle.fecha_registro} tipo={ordenDetalle.tipo} tipoAgenda={ordenDetalle.tipo_agenda}/>\r\n              : '-'}\r\n            </Descriptions.Item>\r\n            <Descriptions.Item label=\"Cliente\" span={2}>{ordenDetalle && ordenDetalle.nombre_cliente ? ordenDetalle.nombre_cliente : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Dirección\" span={3}>{ordenDetalle && ordenDetalle.direccion ? ordenDetalle.direccion : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Detalle Trabajo\" span={3}>{ordenDetalle && ordenDetalle.detalle_trabajo ? ordenDetalle.detalle_trabajo : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Observacion Gestor\" span={3}>{ordenDetalle && ordenDetalle.observacion_gestor ? ordenDetalle.observacion_gestor : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Observacion Toa\" span={3}>{ordenDetalle && ordenDetalle.observacion_toa ? ordenDetalle.observacion_toa : ''}</Descriptions.Item>\r\n          </Descriptions>\r\n        }\r\n      </Modal>\r\n    )\r\n  } else {\r\n    return (\r\n      <Modal\r\n        title=\"Detalle Orden\"\r\n        visible={visible}\r\n        onCancel={abrir}\r\n        onOk={abrir}\r\n        width='70vw'\r\n        destroyOnClose\r\n        centered\r\n      >\r\n      {\r\n          loadingDetalle ? \r\n          <Spin spinning/>\r\n          :\r\n          <Descriptions\r\n            bordered\r\n            size=\"small\"\r\n          >\r\n            <Descriptions.Item label=\"Requerimiento\">{ordenDetalle && ordenDetalle.codigo_requerimiento ? ordenDetalle.codigo_requerimiento : '-'}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Codigo Cliente\">{ordenDetalle && ordenDetalle.codigo_cliente ? ordenDetalle.codigo_cliente : '-'}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Codigo Peticion\">{ordenDetalle && ordenDetalle.codigo_peticion ? ordenDetalle.codigo_peticion : '-'}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Orden Trabajo\">{ordenDetalle && ordenDetalle.codigo_trabajo ? ordenDetalle.codigo_trabajo : '-'}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Tipo de Actividad\">{ordenDetalle && ordenDetalle.subtipo_actividad ? ordenDetalle.subtipo_actividad : '-'}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Tecnología\">{ordenDetalle && ordenDetalle.tipo_tecnologia ? ordenDetalle.tipo_tecnologia : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Fecha Cita\">{ordenDetalle && ordenDetalle.fecha_cita ? moment(ordenDetalle.fecha_cita).format('DD/MM/YY') : '-'}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Cliente\" span={2}>{ordenDetalle && ordenDetalle.nombre_cliente ? ordenDetalle.nombre_cliente : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Detalle Trabajo\" span={3}>{ordenDetalle && ordenDetalle.detalle_trabajo ? ordenDetalle.detalle_trabajo : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Observacion Gestor\" span={3}>{ordenDetalle && ordenDetalle.observacion_gestor ? ordenDetalle.observacion_gestor : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Observacion Toa\" span={3}>{ordenDetalle && ordenDetalle.observacion_toa ? ordenDetalle.observacion_toa : ''}</Descriptions.Item>\r\n          </Descriptions>\r\n      }\r\n      </Modal>\r\n    )\r\n  }\r\n};\r\n\r\nModalDetalleOrden.propTypes = {\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  orden: PropTypes.string,\r\n  tipo: PropTypes.string\r\n};\r\n\r\nexport default ModalDetalleOrden;\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Modal, Transfer } from 'antd';\r\n\r\nfunction ModalColumnas({visible, abrir, columnasBase, columnasUsuario=[], guardar}) {\r\n  const [columnasSeleccionadas, setColumnasSeleccionadas] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if ( columnasUsuario && columnasUsuario.length > 0) {\r\n      setColumnasSeleccionadas(columnasUsuario); \r\n    };\r\n  }, [columnasUsuario])\r\n\r\n  const guardarConfiguracion = async () => {\r\n    guardar(columnasSeleccionadas);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Configurar Columnas\"\r\n      visible={visible}\r\n      width={550}\r\n      onCancel={abrir}\r\n      onOk={guardarConfiguracion}\r\n      centered\r\n    >\r\n      <p>Seleccionar columnas</p>\r\n      <Transfer\r\n        dataSource={columnasBase}\r\n        targetKeys={columnasSeleccionadas}\r\n        titles={['Disponibles', 'Usuario']}\r\n        listStyle={{\r\n          width: 300,\r\n          height: 600,\r\n        }}\r\n        onChange={(e) => setColumnasSeleccionadas(e)}\r\n        render={item => item.title}\r\n      />\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalColumnas.propTypes = {\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  columnasBase: PropTypes.array,\r\n  columnasUsuario: PropTypes.array,\r\n  guardar: PropTypes.func\r\n};\r\n\r\nexport default ModalColumnas;\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Table } from 'antd';\r\n\r\nimport { generarColumnasGestor, columnasPendientesGestor } from './columnas/columnasPendientesGestor';\r\nimport columnasSinBandejaGestor from './columnas/columnasSinBandejaGestor';\r\nimport { obtenerFiltroId, obtenerFiltroNombre } from '../../../libraries/obtenerFiltro';\r\nimport ModalDetalleOrden from '../administrarOrdenes/ModalsTabla/ModalDetalleOrden';\r\nimport { SettingOutlined } from '@ant-design/icons';\r\nimport ModalColumnas from './ModalColumnas';\r\nimport { getEmpleados, patchEmpleados } from '../../../services/apiEmpleado';\r\nimport metodos from '../../../constants/metodos';\r\n\r\nfunction TablaOrdenes({ asignadas=false, data, loading, ordenesSeleccionadas, setOrdenesSeleccionadas, abrirReiterada, abrirInfancia, abrirRegistro, listarOrdenes }) {\r\n  const [columnasUsuario, setColumnasUsuario] = useState([]);\r\n  const [filtroDistrito, setFiltroDistrito] = useState([]);\r\n  const [filtroBucket, setFiltroBucket] = useState([]);\r\n  const [filtroEstadoToa, setFiltroEstadoToa] = useState([]);\r\n  const [filtroEstadoGestor, setFiltroEstadoGestor] = useState([])\r\n  const [filtroContrata, setFiltroContrata] = useState([]);\r\n  const [filtroTecnico, setFiltroTecnico] = useState([]);\r\n  const [filtroTecnicoAsignado, setFiltroTecnicoAsignado] = useState([]);\r\n  const [filtroTipo, setFiltroTipo] = useState([]);\r\n  const [filtroTipoRequerimiento, setFiltroTipoRequerimiento] = useState([]);\r\n  const [filtroTipoTecnologia, setFiltroTipoTecnologia] = useState([]);\r\n  const [filtroCtr, setFiltroCtr] = useState([]);\r\n  const [filtroNodo, setFiltroNodo] = useState([]);\r\n  const [filtroTroba, setFiltroTroba] = useState([]);\r\n  const [filtroTimeSlot, setFiltroTimeSlot] = useState([]);\r\n  const [idOrdenDetalle, setIdOrdenDetalle] = useState(null);\r\n  const [modalDetalle, setModalDetalle] = useState(false);\r\n  const [modalColumnas, setModalColumnas] = useState(false);\r\n  const [tipo, setTipo] = useState(null);\r\n\r\n  useEffect(() => {\r\n    obtenerColumnasGestor();\r\n  },[]);\r\n\r\n  useEffect(() => {\r\n    if (columnasUsuario && columnasUsuario.length > 0) {\r\n      generarColumnas();\r\n    };\r\n  //eslint-disable-next-line\r\n  },[columnasUsuario]);\r\n\r\n  useEffect(() => {\r\n    establacerFiltros(data);\r\n  },[data]);\r\n\r\n  async function obtenerColumnasGestor() {\r\n    return await getEmpleados(true, metodos.EMPLEADOS_LISTAR_COLUMNAS)\r\n      .then(({data}) => {\r\n        if (data && data.columnas) {\r\n          setColumnasUsuario(data.columnas)\r\n        }\r\n      }).catch((err) => console.log(err))\r\n  };\r\n\r\n  async function guardarColumnasGestor(keys) {\r\n    setModalColumnas(false);\r\n    return await patchEmpleados(true, { columnas: keys, metodo: metodos.EMPLEADOS_ACTUALIZAR_COLUMNAS })\r\n      .then(() => obtenerColumnasGestor())\r\n  }\r\n\r\n  const abrirModalDetalle = () => setModalDetalle(!modalDetalle);\r\n  const abrirModalColumnas = () => setModalColumnas(!modalColumnas);\r\n\r\n  const abrirDetalle = (id, tipo) => {\r\n    setIdOrdenDetalle(id);\r\n    setTipo(tipo);\r\n    abrirModalDetalle();\r\n  };\r\n\r\n  const establacerFiltros = (data) => {\r\n    if (data && data.length > 0) {\r\n      setFiltroDistrito(obtenerFiltroNombre(data, 'distrito'));\r\n      setFiltroBucket(obtenerFiltroNombre(data, 'bucket'));\r\n      setFiltroEstadoToa(obtenerFiltroNombre(data, 'estado_toa'));\r\n      setFiltroEstadoGestor(obtenerFiltroNombre(data, 'estado_gestor'));\r\n      setFiltroTipoRequerimiento(obtenerFiltroNombre(data, 'tipo_requerimiento'));\r\n      setFiltroTipoTecnologia(obtenerFiltroNombre(data, 'tipo_tecnologia'));\r\n      setFiltroCtr(obtenerFiltroNombre(data, 'codigo_ctr'));\r\n      setFiltroNodo(obtenerFiltroNombre(data, 'codigo_nodo'));\r\n      setFiltroTroba(obtenerFiltroNombre(data, 'codigo_troba'));\r\n      setFiltroTimeSlot(obtenerFiltroNombre(data, 'tipo_agenda'));\r\n      setFiltroContrata(obtenerFiltroId(data, 'contrata'));\r\n      setFiltroTecnico(obtenerFiltroId(data, 'tecnico'));\r\n      setFiltroTecnicoAsignado(obtenerFiltroId(data, 'tecnico_liteyca'));\r\n      setFiltroTipo(obtenerFiltroNombre(data, 'tipo', true));\r\n    };\r\n  };\r\n\r\n  const generarColumnas = () => {\r\n    if (!asignadas) {\r\n      return columnasSinBandejaGestor(\r\n        filtroDistrito,\r\n        filtroTipo,\r\n        filtroBucket,\r\n        filtroEstadoToa,\r\n        filtroEstadoGestor,\r\n        filtroContrata, \r\n        filtroTecnico,\r\n        filtroTecnicoAsignado,\r\n        filtroTipoRequerimiento,\r\n        filtroTipoTecnologia,\r\n        filtroCtr,\r\n        filtroNodo,\r\n        filtroTroba,\r\n        filtroTimeSlot,\r\n        abrirReiterada,\r\n        abrirInfancia,\r\n        abrirRegistro,\r\n        listarOrdenes\r\n      )\r\n    } else {\r\n      return generarColumnasGestor(columnasUsuario, {\r\n        filtroDistrito,\r\n        filtroTipo,\r\n        filtroBucket,\r\n        filtroEstadoToa,\r\n        filtroEstadoGestor,\r\n        filtroContrata, \r\n        filtroTecnico,\r\n        filtroTecnicoAsignado,\r\n        filtroTipoRequerimiento,\r\n        filtroTipoTecnologia,\r\n        filtroCtr,\r\n        filtroNodo,\r\n        filtroTimeSlot,\r\n        filtroTroba,\r\n        abrirReiterada,\r\n        abrirInfancia,\r\n        abrirRegistro,\r\n        listarOrdenes\r\n      })\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        onRow={(record) => {\r\n          return {\r\n            onDoubleClick: () => abrirDetalle(record._id, record.tipo),\r\n          }\r\n        }}\r\n        rowSelection={{\r\n          columnWidth: 50,\r\n          selectedRowKeys: ordenesSeleccionadas,\r\n          onChange: (e) => setOrdenesSeleccionadas(e)\r\n        }}\r\n        columns={generarColumnas()}\r\n        dataSource={data}\r\n        loading={loading}\r\n        size=\"small\"\r\n        scroll={{ y: '65vh' }}\r\n        pagination={{\r\n          defaultPageSize: 50,\r\n          pageSizeOptions: [50,100,200]\r\n        }}\r\n        footer={() => {\r\n          if (asignadas) {\r\n            return <Button icon={<SettingOutlined/>} onClick={abrirModalColumnas} type=\"primary\">Preferencias</Button>\r\n          } else { return null; }\r\n        }}\r\n      />\r\n      {/* MODAL DETALLE */}\r\n      <ModalDetalleOrden visible={modalDetalle} abrir={abrirModalDetalle} orden={idOrdenDetalle} tipo={tipo}/>\r\n      {/* MODAL PARA CONFIGURAR LAS COLUMNAS */}\r\n      <ModalColumnas \r\n        visible={modalColumnas} \r\n        abrir={abrirModalColumnas} \r\n        columnasBase={columnasPendientesGestor({\r\n          filtroContrata, \r\n          filtroEstadoGestor, \r\n          filtroEstadoToa, \r\n          filtroBucket, \r\n          filtroDistrito, \r\n          filtroCtr, \r\n          filtroNodo,\r\n          filtroTroba,\r\n          filtroTecnico,\r\n          filtroTecnicoAsignado,\r\n          filtroTipoRequerimiento,\r\n          filtroTipoTecnologia\r\n        })}\r\n        columnasUsuario={columnasUsuario}\r\n        guardar={guardarColumnasGestor}\r\n        />\r\n    </div>\r\n  )\r\n};\r\n\r\nTablaOrdenes.propTypes = {\r\n  asignadas: PropTypes.bool,\r\n  data: PropTypes.array,\r\n  loading: PropTypes.bool,\r\n  ordenesSeleccionadas: PropTypes.array,\r\n  setOrdenesSeleccionadas: PropTypes.func,\r\n  abrirReiterada: PropTypes.func,\r\n  abrirInfancia: PropTypes.func,\r\n  abrirRegistro: PropTypes.func,\r\n  listarOrdenes: PropTypes.func,\r\n};\r\n\r\nexport default TablaOrdenes\r\n\r\n","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Modal, Table } from 'antd';\r\nimport { EyeTwoTone } from '@ant-design/icons';\r\nimport moment from 'moment';\r\n\r\nimport TagEstado from '../TagEstado';\r\nimport { CargoTag } from '../../../gestionEmpleados/personal/EmpleadoTag';\r\n\r\nfunction ModalDetalle({visible, abrir, loading, registros}) {\r\n  //Estados para la previsualización de las imagenes\r\n  const [previewVisible, setPreviewVisible] = useState(false);\r\n  const [previewImage, setPreviewImage] = useState('');\r\n\r\n  const modalPreview = () => setPreviewVisible(!previewVisible);\r\n\r\n  // funcion para cargar la previsualización de la imagen seleccionada\r\n  const imagenPreview = async (url) => {\r\n    if (url) {\r\n      setPreviewVisible(true)\r\n      setPreviewImage(url);\r\n    }\r\n  };\r\n\r\n  const columnas = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Usuario',\r\n      dataIndex: 'usuario_entrada',\r\n      width: 180,\r\n      render: (u) => u ? u.nombre + ' ' + u.apellidos : '-'\r\n    },\r\n    {\r\n      title: 'Estado Orden',\r\n      dataIndex: 'estado_orden',\r\n      width: 120,\r\n      render: (e) => <TagEstado estado={e} />\r\n    },\r\n    {\r\n      title: 'Empleado Modificado',\r\n      dataIndex: 'empleado_modificado',\r\n      width: 200,\r\n      render: (u) => u ? u.nombre + ' ' + u.apellidos : '-'\r\n    },\r\n    {\r\n      title: 'Empleado Tipo',\r\n      dataIndex: 'empleado_modificado',\r\n      width: 150,\r\n      render: (u) => u && u.usuario && u.usuario.cargo ? <CargoTag cargo={u.usuario.cargo} /> : '-'\r\n    },\r\n    {\r\n      title: 'Contrata Modificado',\r\n      dataIndex: 'contrata_modificado',\r\n      width: 150,\r\n      render: (c) => c ? c.nombre : '-'\r\n    },\r\n    {\r\n      title: 'Observacion',\r\n      dataIndex: 'observacion',\r\n      width: 300,\r\n    },\r\n    {\r\n      title: 'Fecha Entrada',\r\n      dataIndex: 'fecha_entrada',\r\n      width: 150,\r\n      render: (f) => f ? moment(f).format('DD-MM-YYYY HH:mm') : '-'\r\n    },\r\n    {\r\n      title: 'Imagenes',\r\n      dataIndex: 'imagenes',\r\n      width: 100,\r\n      render: (img) => {\r\n        if (img && img.length > 0) {\r\n          return (\r\n            img.map((e,i) => \r\n              <EyeTwoTone \r\n                key={i} \r\n                onClick={() => imagenPreview(e.url)}\r\n                style={{ marginRight: '.5rem', marginBottom: '.5rem', fontSize: '1.2rem' }} \r\n              />\r\n            )\r\n          )\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Historial de Notas\"\r\n      visible={visible}\r\n      onCancel={abrir}\r\n      onOk={abrir}\r\n      width=\"90vw\"\r\n      destroyOnClose\r\n      centered\r\n    >\r\n      <Table\r\n        rowKey=\"_id\"\r\n        columns={columnas}\r\n        dataSource={registros}\r\n        loading={loading}\r\n        size=\"small\"\r\n        pagination={false}\r\n        scroll={{ x: '80vw' }}\r\n      />\r\n      <Modal visible={previewVisible} footer={null} onCancel={modalPreview}>\r\n        <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n      </Modal>\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalDetalle.propTypes = {\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  loading: PropTypes.bool,\r\n  registros: PropTypes.array\r\n};\r\n\r\nexport default ModalDetalle;\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Table, Typography } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport TagEstado from '../TagEstado';\r\n\r\nconst { Text } = Typography;\r\n\r\nfunction ModalInfancia({visible, abrir, loading, orden}) {\r\n\r\n  const columnas = [\r\n    {\r\n      title: 'Requerimiento',\r\n      dataIndex: 'codigo_requerimiento',\r\n      width: 120,\r\n      render: (u) => u ? <Text copyable>{u}</Text> : '-'\r\n    },\r\n    {\r\n      title: 'CTR',\r\n      dataIndex: 'codigo_ctr',\r\n      width: 80,\r\n    },\r\n    {\r\n      title: 'Tecnico',\r\n      dataIndex: 'tecnico_liquidado',\r\n      width: 180,\r\n      render: (u, row) => u ? u.nombre + ' ' + u.apellidos : row.carnet_liquidado ? row.carnet_liquidado : '-'\r\n    },\r\n    {\r\n      title: 'Carnet',\r\n      dataIndex: 'tecnico_liquidado',\r\n      width: 180,\r\n      render: (u) => u ? <Text copyable>{u.carnet}</Text> : '-'\r\n    },\r\n    {\r\n      title: 'Gestor',\r\n      dataIndex: 'tecnico_liquidado',\r\n      width: 180,\r\n      render: (u) => u && u.gestor && u.gestor.nombre ? u.gestor.nombre + ' ' + u.gestor.apellidos : '-'\r\n    },\r\n    {\r\n      title: 'Estado Gestor',\r\n      dataIndex: 'estado_gestor',\r\n      width: 120,\r\n      render: (e) => <TagEstado estado={e} />\r\n    },\r\n    {\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro',\r\n      width: 150,\r\n      render: (f) => f ? moment(f).format('DD-MM-YYYY HH:mm') : '-'\r\n    },\r\n    {\r\n      title: 'Fecha Liquidado',\r\n      dataIndex: 'fecha_liquidado',\r\n      width: 150,\r\n      render: (f) => f ? moment(f).format('DD-MM-YYYY HH:mm') : '-'\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Orden de Infancia\"\r\n      visible={visible}\r\n      onCancel={abrir}\r\n      onOk={abrir}\r\n      width=\"90vw\"\r\n      destroyOnClose\r\n      centered\r\n    >\r\n      <Table\r\n        rowKey=\"_id\"\r\n        columns={columnas}\r\n        dataSource={orden}\r\n        loading={loading}\r\n        size=\"small\"\r\n        pagination={false}\r\n        scroll={{ x: '80vw' }}\r\n      />\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalInfancia.propTypes = {\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  loading: PropTypes.bool,\r\n  orden: PropTypes.array\r\n};\r\n\r\nexport default ModalInfancia\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Table, Typography, Tooltip } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport { getOrdenes } from '../../../../services/apiOrden';\r\nimport { ordenes } from '../../../../constants/metodos';\r\nimport TagEstado from '../TagEstado';\r\n\r\nconst { Text } = Typography;\r\n\r\nfunction ModalReiterada({abrir, visible, codigo_cliente}) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (codigo_cliente) {\r\n      buscarReiteradas();\r\n    }\r\n  // eslint-disable-next-line\r\n  },[codigo_cliente]);\r\n\r\n  async function buscarReiteradas() {\r\n    setLoading(true);\r\n    await getOrdenes(true, { metodo: ordenes.BUSCAR_REITERADA, codigo_cliente }).then(({data}) => {\r\n      if (data) {\r\n        setDataOrdenes(data);\r\n      }\r\n    }).catch((e) => console.log(e)).finally(() => setLoading(false));\r\n  };\r\n\r\n  const columnas = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Requerimiento',\r\n      dataIndex: 'codigo_requerimiento',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'CTR',\r\n      dataIndex: 'codigo_ctr',\r\n      width: 70,\r\n    },\r\n    {\r\n      title: 'Descripcion CTR',\r\n      dataIndex: 'descripcion_ctr',\r\n      width: 180,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (cliente) => (\r\n        <Tooltip placement=\"topLeft\" title={cliente}>\r\n          {cliente}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Cliente',\r\n      dataIndex: 'nombre_cliente',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (cliente) => (\r\n        <Tooltip placement=\"topLeft\" title={cliente}>\r\n          {cliente}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Contrata',\r\n      dataIndex: 'tecnico_liquidado',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t && t.contrata ? t.contrata.nombre:'-'}>\r\n          {t && t.contrata ? t.contrata.nombre:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Gestor',\r\n      dataIndex: 'tecnico_liquidado',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t && t.gestor ? t.gestor.nombre+' '+t.gestor.apellidos:'-'}>\r\n          {t ? t.gestor.nombre+' '+t.gestor.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Tecnico',\r\n      dataIndex: 'tecnico_liquidado',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t ? t.nombre+' '+t.apellidos:'-'}>\r\n          {t ? t.nombre+' '+t.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Fecha Liquidacion',\r\n      dataIndex: 'fecha_liquidado',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Estado Liquidado',\r\n      dataIndex: 'estado_liquidado',\r\n      width: 150,\r\n      render: (estado) => <TagEstado estado={estado}/>\r\n    },\r\n  ]\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Lista de Reiteradas\"\r\n      visible={visible}\r\n      onCancel={abrir}\r\n      onOk={abrir}\r\n      width='90vw'\r\n      centered\r\n    >\r\n      <Table\r\n        rowKey=\"_id\"\r\n        dataSource={dataOrdenes}\r\n        columns={columnas}\r\n        loading={loading}\r\n        size=\"small\"\r\n        scroll={{ y: '65vh' }}\r\n        pagination={{\r\n          defaultPageSize: 50\r\n        }}\r\n      />\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalReiterada.propTypes = {\r\n  abrir: PropTypes.func,\r\n  visible: PropTypes.bool,\r\n  codigo_cliente: PropTypes.string\r\n}\r\n\r\nexport default ModalReiterada\r\n\r\n","export default function getBase64(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = error => reject(error);\r\n  });\r\n}","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Select, Input, Upload } from 'antd';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\n\r\nimport { listaEstadosGestor } from '../../../../constants/valoresOrdenes';\r\nimport capitalizar from '../../../../libraries/capitalizar';\r\nimport convertirBase64 from '../../../../libraries/convertirBase64';\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nfunction ModalEstado({visible, abrir, actualizarEstado}) {\r\n  const [estadoSeleccionado, setEstadoSeleccionado] = useState(null);\r\n  const [observacion, setObservacion] = useState(null);\r\n  const [fileList, setFileList] = useState([]);\r\n  //Estados para la previsualización de las imagenes\r\n  const [previewVisible, setPreviewVisible] = useState(false);\r\n  const [previewImage, setPreviewImage] = useState('');\r\n\r\n  useEffect(() => {\r\n    setEstadoSeleccionado(null);\r\n    setObservacion(null);\r\n    setFileList([]);\r\n  }, []);\r\n\r\n  async function actualizarOrden() {\r\n    await actualizarEstado(estadoSeleccionado, observacion, fileList);\r\n  };\r\n\r\n  //guardar localmente las fotos\r\n  function cargarArchivo (file) {\r\n    let lista = fileList;\r\n    file.status = 'done'\r\n    lista.push(file)\r\n    setFileList(lista)\r\n    return false\r\n  }\r\n  //remover archivo seleccionado\r\n  function removerArchivo (a) {\r\n    let nuevaLista = fileList.filter((f) => f.uid !== a.uid);\r\n    setFileList(nuevaLista)\r\n  };\r\n\r\n  const modalPreview = () => setPreviewVisible(!previewVisible);\r\n\r\n  // funcion para cargar la previsualización de la imagen seleccionada\r\n  const imagenPreview = async (file) => {\r\n    try {\r\n      const preview = await convertirBase64(file.originFileObj);\r\n      setPreviewVisible(true)\r\n      setPreviewImage(preview);\r\n    } catch (error) {\r\n      console.log(error);\r\n    };\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Editar estado de la orden\"\r\n      visible={visible}\r\n      onOk={actualizarOrden}\r\n      onCancel={abrir}\r\n      width={300}\r\n      destroyOnClose\r\n      centered\r\n    >\r\n      <Select \r\n        placeholder=\"Seleccionar estado\"\r\n        defaultValue={estadoSeleccionado} \r\n        onChange={e => setEstadoSeleccionado(e)}\r\n        style={{ width: 250, marginBottom: '.5rem' }}\r\n      >\r\n        <Option value={listaEstadosGestor.PENDIENTE}>{capitalizar(listaEstadosGestor.PENDIENTE)}</Option>\r\n        <Option value={listaEstadosGestor.ASIGNADO}>{capitalizar(listaEstadosGestor.ASIGNADO)}</Option>\r\n        <Option value={listaEstadosGestor.AGENDADO}>{capitalizar(listaEstadosGestor.AGENDADO)}</Option>\r\n        <Option value={listaEstadosGestor.INICIADO}>{capitalizar(listaEstadosGestor.INICIADO)}</Option>\r\n        <Option value={listaEstadosGestor.LIQUIDADO}>{capitalizar(listaEstadosGestor.LIQUIDADO)}</Option>\r\n        <Option value={listaEstadosGestor.SUSPENDIDO}>{capitalizar(listaEstadosGestor.SUSPENDIDO)}</Option>\r\n        <Option value={listaEstadosGestor.CANCELADO}>{capitalizar(listaEstadosGestor.CANCELADO)}</Option>\r\n        <Option value={listaEstadosGestor.NO_REALIZADO}>{capitalizar(listaEstadosGestor.NO_REALIZADO)}</Option>\r\n        <Option value={listaEstadosGestor.PEXT}>{capitalizar(listaEstadosGestor.PEXT)}</Option>\r\n        <Option value={listaEstadosGestor.REMEDY}>{capitalizar(listaEstadosGestor.REMEDY)}</Option>\r\n      </Select>\r\n      <TextArea\r\n        placeholder=\"Observacion\"\r\n        defaultValue={observacion}\r\n        rows={4}\r\n        onChange={(e) => setObservacion(e.target.value)}\r\n        style={{ marginBottom: '.5rem' }}\r\n      />\r\n      <div style={{ marginBottom: '.5rem' }}>Adjuntar imágenes:</div>\r\n      <Upload\r\n        accept=\".jpg,.png,.jpeg\"\r\n        listType=\"picture-card\"\r\n        beforeUpload={cargarArchivo}\r\n        onRemove={removerArchivo}\r\n        onPreview={imagenPreview}\r\n        multiple={true}\r\n      >\r\n        <UploadOutlined />{` `}Imagen\r\n      </Upload>\r\n      {/* MODAL PARA PREVISUALIZAR LA IMAGEN */}\r\n      <Modal visible={previewVisible} footer={null} onCancel={modalPreview}>\r\n        <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n      </Modal>\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalEstado.propTypes = {\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  actualizarEstado: PropTypes.func\r\n};\r\n\r\nexport default ModalEstado;\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Modal, Select, Input, DatePicker, Button } from 'antd'\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nfunction ModalAgendarTecnico({visible, abrir, buckets=[], tecnicos=[], agendar}) {\r\n  const [bucketSeleccionado, setBucketSeleccionado] = useState(null);\r\n  const [contrataSeleccionada, setContrataSeleccionada] = useState(null);\r\n  const [tecnicoSeleccionado, setTecnicoSeleccionado] = useState(null);\r\n  const [fechaCita, setFechaCita] = useState(null);\r\n  const [observacion, setObservacion] = useState(null);\r\n  const [loadingAgendar, setLoadingAgendar] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setBucketSeleccionado(null);\r\n    setContrataSeleccionada(null);\r\n    setTecnicoSeleccionado(null);\r\n    setFechaCita(null);\r\n    setObservacion(null);\r\n  }, [])\r\n\r\n  const agendarOrden = async () => {\r\n    setLoadingAgendar(true)\r\n    await agendar(bucketSeleccionado, contrataSeleccionada, tecnicoSeleccionado, fechaCita, observacion);\r\n    setLoadingAgendar(false);\r\n    abrir();\r\n  };\r\n\r\n  const seleccionarTecnico = (i) => {\r\n    setContrataSeleccionada(tecnicos[i].contrata._id);\r\n    setTecnicoSeleccionado(tecnicos[i]._id)\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Agendar Orden\"\r\n      width={400}\r\n      visible={visible}\r\n      onCancel={abrir}\r\n      onOk={agendarOrden}\r\n      confirmLoading\r\n      destroyOnClose\r\n      centered\r\n      footer={[\r\n        <Button key=\"back\" onClick={abrir}>\r\n          Cancelar\r\n        </Button>,\r\n        <Button key=\"submit\" type=\"primary\" loading={loadingAgendar} onClick={agendarOrden}>\r\n          Aceptar\r\n        </Button>,\r\n      ]}\r\n    >\r\n      <Select\r\n        placeholder=\"Seleccionar Bucket\"\r\n        style={{ width: 300, marginBottom: '.5rem' }}\r\n        onChange={(e) => setBucketSeleccionado(e)}\r\n        defaultValue={bucketSeleccionado}\r\n      >\r\n      {\r\n        buckets && buckets.length > 0 ? \r\n        buckets.map((b, i) => (\r\n          <Option value={b.value} key={i}>{b.text}</Option>\r\n        ))\r\n        :\r\n        <Option>Sin data</Option>\r\n      }\r\n      </Select>\r\n      <Select\r\n        showSearch\r\n        placeholder=\"Seleccionar Tecnico\"\r\n        style={{ width: 300, marginBottom: '.5rem' }}\r\n        onChange={(e) => seleccionarTecnico(e)}\r\n        defaultValue={tecnicoSeleccionado}\r\n        filterOption={(input, option) => {\r\n          return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n        }\r\n      }\r\n      >\r\n      {\r\n        tecnicos && tecnicos.length > 0 ? \r\n        tecnicos.map((b, i) => (\r\n          <Option value={i} key={i}>{b && b.nombre + ' ' + b.apellidos}</Option>\r\n        ))\r\n        :\r\n        <Option>Sin data</Option>\r\n      }\r\n      </Select>\r\n      <DatePicker \r\n        placeholder=\"Seleccionar fecha de cita\"\r\n        style={{ width: 300, marginBottom: '.5rem' }}\r\n        onChange={(e) => setFechaCita(e.utc().format('YYYY-MM-DD HH:mm'))} \r\n      />\r\n      <TextArea \r\n        rows={4} \r\n        style={{ width: 300 }}\r\n        defaultValue={observacion}\r\n        placeholder=\"Observacion\"\r\n        onChange={(e) => setObservacion(e.target.value)}\r\n      />\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalAgendarTecnico.propTypes = {\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  buckets: PropTypes.array,\r\n  tecnicos: PropTypes.array,\r\n  agendar: PropTypes.func\r\n};\r\n\r\nexport default ModalAgendarTecnico\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Select, Input, Radio, Cascader } from 'antd';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nfunction ModalAsignar({tipo=false, visible, abrir, contratas=[], gestores=[], tecnicos=[], asignar}) {\r\n  const [contrataSeleccionada, setContrataSeleccionada] = useState(null);\r\n  const [gestorSeleccionado, setGestorSeleccionado] = useState(null);\r\n  const [tecnicoIndexSeleccionado, setTecnicoIndexSeleccionado] = useState(null);\r\n  const [listaTecnicosOrdenado, setListaTecnicosOrdenado] = useState([]);\r\n  const [observacion, setObservacion] = useState(null);\r\n  const [tipoAsignar, setTipoAsignar] = useState(1);\r\n\r\n  useEffect(() => {\r\n    ordenarListaTecnicos();\r\n  //eslint-disable-next-line\r\n  }, [tecnicos])\r\n\r\n  useEffect(() => {\r\n    setGestorSeleccionado(null);\r\n    setTecnicoIndexSeleccionado(null);\r\n  },[]);\r\n\r\n  useEffect(() => {\r\n   setGestorSeleccionado(null);\r\n   setTecnicoIndexSeleccionado(null);\r\n  }, [tipoAsignar])\r\n\r\n  const asignarOrden = async () => {\r\n    if (tipo) {\r\n      if (tipoAsignar === 1 && gestorSeleccionado) {\r\n        await asignar({gestor: gestorSeleccionado, observacion});\r\n      } else if (tipoAsignar === 2 && tecnicoIndexSeleccionado !== null && tecnicoIndexSeleccionado !== undefined && tecnicos.length > 0 && tecnicoIndexSeleccionado >= 0) {\r\n        const index = tecnicoIndexSeleccionado;\r\n        const aux = {\r\n          tecnico: tecnicos[index] ? tecnicos[index]._id: null,\r\n          auditor: tecnicos[index] && tecnicos[index].auditor ? tecnicos[index].auditor._id : null,\r\n          gestor: tecnicos[index] && tecnicos[index].gestor ? tecnicos[index].gestor._id : null,\r\n          contrata: tecnicos[index] && tecnicos[index].contrata ? tecnicos[index].contrata._id : null,\r\n          observacion\r\n        };\r\n        await asignar(aux);\r\n      } else {\r\n        cogoToast.warn('Error asignando (cliente/gestor).', { position: 'top-right' })\r\n      }\r\n    } else {\r\n      if (tipoAsignar === 1 && contrataSeleccionada) {\r\n        await asignar({contrata: contrataSeleccionada, observacion});\r\n      } else if (tipoAsignar === 2 && gestorSeleccionado) {\r\n        await asignar({gestor: gestorSeleccionado, observacion});\r\n      } else if (tipoAsignar === 2 && tecnicoIndexSeleccionado && tecnicos.length > 0 && tecnicoIndexSeleccionado >= 0) {\r\n        const index = tecnicoIndexSeleccionado;\r\n        const aux = {\r\n          tecnico_liteyca: tecnicos[index] ? tecnicos[index]._id: null,\r\n          auditor: tecnicos[index] && tecnicos[index].auditor ? tecnicos[index].auditor._id : null,\r\n          gestor_liteyca: tecnicos[index] && tecnicos[index].gestor ? tecnicos[index].gestor._id : null,\r\n          contrata: tecnicos[index] && tecnicos[index].contrata ? tecnicos[index].contrata._id : null,\r\n          observacion\r\n        };\r\n        await asignar(aux);\r\n      } else {\r\n        cogoToast.warn('Error asignando (cliente/lider).', { position: 'top-right' })\r\n      }\r\n    }\r\n  };\r\n\r\n  const ordenarListaTecnicos = () => {\r\n    if (tecnicos && tecnicos.length > 0) {\r\n      let gestores = [];\r\n      let nuevaLista = [];\r\n      tecnicos.forEach((t) => {\r\n        if (t && t.gestor && t.gestor.nombre && !gestores.includes(t.gestor.nombre+' '+t.gestor.apellidos)) {\r\n          gestores.push(t.gestor.nombre+' '+t.gestor.apellidos)\r\n        }\r\n      });\r\n      gestores.filter((e) => e).forEach((g) => {\r\n        let tecnicosGestor = tecnicos.filter((t) => t.gestor && t.gestor.nombre && (t.gestor.nombre+' '+t.gestor.apellidos) === g)\r\n        nuevaLista.push({\r\n          value: g,\r\n          label: g,\r\n          children: tecnicosGestor.map((t) => ({value: tecnicos.findIndex(e => e._id === t._id), label: t.nombre+' '+t.apellidos}))\r\n        })\r\n      });\r\n      setListaTecnicosOrdenado(nuevaLista.filter((e) => e))\r\n    }\r\n  };\r\n\r\n  function filter(inputValue, path) {\r\n    return path.some(option => option.label.toLowerCase().indexOf(inputValue.toLowerCase()) > -1);\r\n  }\r\n\r\n  if (tipo) {\r\n    return (\r\n      <Modal\r\n        title=\"Asignar Orden\"\r\n        visible={visible}\r\n        onCancel={abrir}\r\n        onOk={asignarOrden}\r\n        width={550}\r\n        destroyOnClose\r\n        centered\r\n      >\r\n        <p>Asignar por Gestor o Técnico:</p>\r\n        <Radio.Group onChange={(e) => setTipoAsignar(e.target.value)} defaultValue={tipoAsignar} style={{ marginBottom: '1rem' }}>\r\n          <Radio value={1}>Gestor</Radio>\r\n          <Radio value={2}>Tecnico</Radio>\r\n        </Radio.Group>\r\n        {tipoAsignar === 1 ?\r\n          (<Select\r\n            showSearch\r\n            value={gestorSeleccionado}\r\n            placeholder=\"Seleccionar Gestor\"\r\n            style={{ width: 350, marginBottom: '.5rem' }}\r\n            onChange={(e) => setGestorSeleccionado(e)}\r\n            filterOption={(input, option) => {\r\n              return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n            }\r\n          }\r\n          >\r\n            {\r\n              gestores && gestores.length > 0 ? \r\n              gestores.map((g) => (\r\n                <Option value={g._id} key={g._id}>{`${g.nombre} ${g.apellidos}`}</Option>\r\n              ))\r\n              :<Option>No data</Option>\r\n            }\r\n          </Select>)\r\n          :\r\n          (<Cascader\r\n            options={listaTecnicosOrdenado}\r\n            onChange={(_, t) => setTecnicoIndexSeleccionado(t && t[1] ? t[1].value : null)}\r\n            placeholder=\"Seleccionar Tecnico\"\r\n            style={{ width: 500, marginBottom: '.5rem' }}\r\n            showSearch={{ filter }}\r\n          />)\r\n        }\r\n        <TextArea \r\n          placeholder=\"Observación\"\r\n          onChange={(e) => setObservacion(e.target.value)}\r\n          rows={5} \r\n          style={{ width: 500 }}\r\n        />\r\n      </Modal>\r\n    )\r\n  } else {\r\n    return (\r\n      <Modal\r\n        title=\"Asignar Orden\"\r\n        visible={visible}\r\n        onCancel={abrir}\r\n        onOk={asignarOrden}\r\n        width={500}\r\n        destroyOnClose\r\n        centered\r\n      >\r\n        <p>Asignar por Contrata, Gestor o Técnico:</p>\r\n        <Radio.Group onChange={(e) => setTipoAsignar(e.target.value)} defaultValue={tipoAsignar} style={{ marginBottom: '1rem' }}>\r\n          <Radio value={1}>Contrata</Radio> \r\n          <Radio value={2}>Gestor</Radio>\r\n          <Radio value={3}>Tecnico</Radio>\r\n        </Radio.Group>\r\n        {\r\n          tipoAsignar === 1 ? \r\n          (<Select\r\n            showSearch\r\n            value={contrataSeleccionada}\r\n            placeholder=\"Seleccionar Contrata\"\r\n            style={{ width: 350, marginBottom: '.5rem' }}\r\n            onChange={(e) => setContrataSeleccionada(e)}\r\n            filterOption={(input, option) => {\r\n              return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n            }\r\n          }\r\n          >\r\n            {\r\n              contratas && contratas.length > 0 ? \r\n              contratas.map((g) => (\r\n                <Option value={g._id} key={g._id}>{g.nombre}</Option>\r\n              ))\r\n              :<Option>No data</Option>\r\n            }\r\n          </Select>)\r\n          : tipoAsignar === 2 ?\r\n          (<Select\r\n            showSearch\r\n            value={gestorSeleccionado}\r\n            placeholder=\"Seleccionar Gestor\"\r\n            style={{ width: 350, marginBottom: '.5rem' }}\r\n            onChange={(e) => setGestorSeleccionado(e)}\r\n            filterOption={(input, option) => {\r\n              return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n            }\r\n          }\r\n          >\r\n            {\r\n              gestores && gestores.length > 0 ? \r\n              gestores.map((g) => (\r\n                <Option value={g._id} key={g._id}>{`${g.nombre} ${g.apellidos}`}</Option>\r\n              ))\r\n              :<Option>No data</Option>\r\n            }\r\n          </Select>)\r\n          :\r\n          (<Select\r\n            showSearch\r\n            value={tecnicoIndexSeleccionado}\r\n            placeholder=\"Seleccionar Tecnico\"\r\n            style={{ width: 350, marginBottom: '.5rem' }}\r\n            onChange={(e) => setTecnicoIndexSeleccionado(e)}\r\n            filterOption={(input, option) => {\r\n              return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n            }\r\n          }\r\n          >\r\n            {\r\n              tecnicos && tecnicos.length > 0 ? \r\n              tecnicos.map((t,i) => (\r\n                <Option value={i} key={t._id}>{`${t.nombre} ${t.apellidos}`}</Option>\r\n              ))\r\n              :<Option>No data</Option>\r\n            }\r\n          </Select>)\r\n        }\r\n        <TextArea \r\n          placeholder=\"Observación\"\r\n          onChange={(e) => setObservacion(e.target.value)}\r\n          rows={4} \r\n          style={{ width: 350 }}\r\n        />\r\n      </Modal>\r\n    )\r\n  };\r\n};\r\n\r\nModalAsignar.propTypes = {\r\n  tipo: PropTypes.bool,\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  contratas: PropTypes.array,\r\n  gestores: PropTypes.array,\r\n  tecnicos: PropTypes.array,\r\n  asignar: PropTypes.func\r\n}\r\n\r\nexport default ModalAsignar\r\n\r\n","import * as AntColores from '@ant-design/colors'\r\nimport { tipoOrdenes } from '../constants/tipoOrden';\r\n\r\nimport { listaEstadosGestor } from \"../constants/valoresOrdenes\";\r\n\r\nexport const colorEstado = (estado) => {\r\n  switch (estado) {\r\n    case 'cancelado':\r\n      return {background: AntColores.grey[1], color: AntColores.grey.primary};\r\n    case 'completado':\r\n      return {background: AntColores.green[1], color: AntColores.green.primary};\r\n    case listaEstadosGestor.LIQUIDADO:\r\n      return {background: AntColores.green[1], color: AntColores.green.primary};\r\n    case listaEstadosGestor.AGENDADO:\r\n      return {background: AntColores.blue[1], color: AntColores.blue.primary};\r\n    case listaEstadosGestor.ASIGNADO:\r\n      return {background: AntColores.cyan[1], color: AntColores.cyan.primary};\r\n    case 'iniciado':\r\n      return {background: AntColores.geekblue[1], color: AntColores.geekblue.primary};\r\n    case 'no realizada':\r\n      return {background: AntColores.magenta[1], color: AntColores.magenta.primary};\r\n    case listaEstadosGestor.PENDIENTE:\r\n      return {background: AntColores.orange[1], color: AntColores.orange.primary};\r\n    case listaEstadosGestor.SUSPENDIDO:\r\n      return {background: AntColores.red[1], color: AntColores.red.primary};\r\n    case listaEstadosGestor.REMEDY:\r\n      return {background: AntColores.red[1], color: AntColores.red.primary};\r\n    case listaEstadosGestor.PEXT:\r\n      return {background: AntColores.purple[1], color: AntColores.purple.primary};\r\n    case listaEstadosGestor.MASIVO:\r\n      return {background: AntColores.purple[1], color: AntColores.purple.primary};\r\n    case 'efectiva':\r\n      return {background: AntColores.green[1], color: AntColores.green.primary};\r\n    case 'inefectiva':\r\n      return {background: AntColores.red[1], color: AntColores.red.primary};\r\n    case 'no_corresponde':\r\n      return {background: '#DBDBDB', color: AntColores.grey.primary};\r\n    default:\r\n      return {background: '', color: ''};\r\n  };\r\n};\r\n\r\nexport const colorHora = (hora, tipo, fechaCita) => {\r\n  if (fechaCita && fechaCita !== '-') {\r\n    return {background: AntColores.blue[1], color: AntColores.blue.primary};\r\n  } else {\r\n    if (tipo === tipoOrdenes.AVERIAS) {\r\n      if (Number(hora) < 12) {\r\n        return {background: AntColores.green[1], color: AntColores.green.primary};\r\n      } else if (Number(hora) >= 12 && Number(hora) < 24 ) {\r\n        return {background: AntColores.orange[1], color: AntColores.orange.primary};\r\n      } else if (Number(hora) >= 24) {\r\n        return {background: AntColores.red[1], color: AntColores.red.primary};\r\n      } else {\r\n        return {background: '', color: '' };\r\n      }\r\n    } else if ((tipo === tipoOrdenes.ALTAS)){\r\n      if (Number(hora) < 24) {\r\n        return {background: AntColores.green[1], color: AntColores.green.primary};\r\n      } else if (Number(hora) >= 24 && Number(hora) < 72 ) {\r\n        return {background: AntColores.orange[1], color: AntColores.orange.primary};\r\n      } else if (Number(hora) >= 72) {\r\n        return {background: AntColores.red[1], color: AntColores.red.primary};\r\n      } else {\r\n        return {background: '', color: '' };\r\n      }\r\n    } else {\r\n      return {background: '', color: '' };\r\n    }\r\n  }\r\n};\r\n\r\nexport const colorDia = (dia, fechaCita) => {\r\n  if (fechaCita && fechaCita !== '-') {\r\n    return {background: AntColores.blue[1], color: AntColores.blue.primary};\r\n  } else {\r\n    if (Number(dia) < 1) {\r\n      return {background: AntColores.green[1], color: AntColores.green.primary};\r\n    } else if (Number(dia) >= 1 && Number(dia) < 5 ) {\r\n      return {background: AntColores.orange[1], color: AntColores.orange.primary};\r\n    } else if (Number(dia) >= 5) {\r\n      return {background: AntColores.red[1], color: AntColores.red.primary};\r\n    } else {\r\n      return {background: '', color: '' };\r\n    }\r\n  }\r\n};","import React, { useState, useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ExcelExport, ExcelExportColumn } from '@progress/kendo-react-excel-export';\r\nimport { Menu } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport capitalizar from '../../libraries/capitalizar'\r\nimport { getOrdenes } from '../../services/apiOrden';\r\nimport { tipoOrdenes } from '../../constants/tipoOrden';\r\nimport { colorDia, colorEstado, colorHora } from '../../libraries/colorEstado';\r\n\r\nfunction ExcelOrdenesPendientes({ metodo, tipo, setLoading, ordenesSeleccionadas=[]}) {\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  let exportarRef = useRef(null);\r\n  \r\n  useEffect(() => {\r\n    if (dataOrdenes && dataOrdenes.length > 0) {\r\n      guardarArchivo(exportarRef.current)\r\n    }\r\n  },[dataOrdenes]);\r\n\r\n  async function exportarExcel(todo) {\r\n    if (!todo && ordenesSeleccionadas.length <= 0) return;\r\n    setLoading(true);\r\n    return await getOrdenes(true, { \r\n      metodo: metodo, todo, tipo, id_ordenes: ordenesSeleccionadas, \r\n    }).then(async({data}) => { \r\n      if (data && data.length > 0) {\r\n        return await setDataOrdenes(data.map((d) => ({\r\n          ...d, \r\n          infancia_registro: d.infancia && d.infancia.fecha_registro ? moment(d.infancia.fecha_registro).format('DD/MM/YY HH:mm'): '-',\r\n          infancia_liquidado: d.infancia && d.infancia.fecha_liquidado ? moment(d.infancia.fecha_liquidado).format('DD/MM/YY HH:mm'): '-',\r\n          fecha_cita: d.fecha_cita ? moment(d.fecha_cita).format('DD/MM/YY'):'-',\r\n          fecha_registro: d.fecha_registro ? moment(d.fecha_registro).format('DD/MM/YY HH:mm'):'-',\r\n          fecha_asignado: d.fecha_asignado ? moment(d.fecha_asignado).format('DD/MM/YY HH:mm'):'-',\r\n          horas_registro: d.fecha_registro ? moment().diff(d.fecha_registro, 'hours') : '-',\r\n          horas_asignado: d.fecha_asignado ? moment().diff(d.fecha_asignado, 'hours') : '-',\r\n          dias_asignado: d.fecha_asignado ? moment().diff(d.fecha_asignado, 'days') : '-',\r\n        })))\r\n      }\r\n    }).catch((err) => console.log(err))\r\n      .finally(() => setLoading(false));\r\n  };\r\n\r\n  function guardarArchivo(component) {\r\n    try {\r\n      let options = component.workbookOptions();\r\n      let rows = options.sheets[0].rows;\r\n      let indexTipo = -1;\r\n      let indexEstado = -1;\r\n      let indexEstadoGestor = -1;\r\n      let indexHoraRegistro = -1;\r\n      let indexHoraAsignado = -1;\r\n      let indexDiaAsignado = -1;\r\n      let indexFechaCita = -1;\r\n      rows.forEach((row) => {\r\n        if (row.type === 'header') {\r\n          indexTipo = row.cells.findIndex((e) => e.value === 'Negocio');\r\n          indexEstado = row.cells.findIndex((e) => e.value === 'Estado Toa');\r\n          indexEstadoGestor = row.cells.findIndex((e) => e.value === 'Estado Gestor');\r\n          indexHoraRegistro = row.cells.findIndex((e) => e.value === 'Horas Registro');\r\n          indexHoraAsignado = row.cells.findIndex((e) => e.value === 'Horas Asignado');\r\n          indexDiaAsignado = row.cells.findIndex((e) => e.value === 'Dias Asignado');\r\n          indexFechaCita = row.cells.findIndex((e) => e.value === 'Time Slot');\r\n        };\r\n        if (row.type === 'data') {\r\n          row.cells.forEach((cell) => {\r\n            cell.borderBottom = { size: .5 }; \r\n            cell.borderLeft = { size: .5 };\r\n            cell.borderRight = { size: .5 };\r\n            cell.borderTop = { size: .5 };\r\n          });\r\n          if (indexEstado > -1) {\r\n            row.cells[indexEstado].background = colorEstado(row.cells[indexEstado].value).background;\r\n            row.cells[indexEstado].color = colorEstado(row.cells[indexEstado].value).color;\r\n            row.cells[indexEstado].value = capitalizar(row.cells[indexEstado].value);\r\n            row.cells[indexEstado].textAlign = 'center';\r\n          }\r\n          if (indexEstadoGestor > -1) {\r\n            row.cells[indexEstadoGestor].background = colorEstado(row.cells[indexEstadoGestor].value).background;\r\n            row.cells[indexEstadoGestor].color = colorEstado(row.cells[indexEstadoGestor].value).color;\r\n            row.cells[indexEstadoGestor].value = capitalizar(row.cells[indexEstadoGestor].value);\r\n            row.cells[indexEstadoGestor].textAlign = 'center';\r\n          }\r\n          if (indexHoraRegistro > -1 && indexFechaCita > -1 && indexTipo > -1) {\r\n            row.cells[indexHoraRegistro].background = colorHora(row.cells[indexHoraRegistro].value, row.cells[indexTipo].value, row.cells[indexFechaCita].value).background;\r\n            row.cells[indexHoraRegistro].color = colorHora(row.cells[indexHoraRegistro].value, row.cells[indexTipo].value, row.cells[indexFechaCita].value).color;\r\n            row.cells[indexHoraRegistro].textAlign = 'center';\r\n          }\r\n          if (indexHoraAsignado > -1 && indexFechaCita > -1 && indexTipo > -1) {\r\n            row.cells[indexHoraAsignado].background = colorHora(row.cells[indexHoraAsignado].value, row.cells[indexTipo].value, row.cells[indexFechaCita].value).background;\r\n            row.cells[indexHoraAsignado].color = colorHora(row.cells[indexHoraAsignado].value, row.cells[indexTipo].value, row.cells[indexFechaCita].value).color;\r\n            row.cells[indexHoraAsignado].textAlign = 'center';\r\n          }\r\n          if (indexDiaAsignado > -1 && indexFechaCita > -1) {\r\n            row.cells[indexDiaAsignado].background = colorDia(row.cells[indexDiaAsignado].value, row.cells[indexFechaCita].value).background;\r\n            row.cells[indexDiaAsignado].color = colorDia(row.cells[indexDiaAsignado].value, row.cells[indexFechaCita].value).color;\r\n            row.cells[indexDiaAsignado].textAlign = 'center';\r\n          }\r\n        }\r\n      });\r\n      component.save(options);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const headerOptions = {\r\n    background: '#F3C775', \r\n    bold: true, \r\n    fontSize: 17,\r\n    autoWidth: true\r\n  };\r\n\r\n  return (\r\n    <Menu>\r\n      <Menu.Item style={{ margin: 0, heigth: '2.1rem' }} key={1} onClick={() => exportarExcel(true)}>Todo</Menu.Item>\r\n      <Menu.Item style={{ margin: 0, heigth: '2.1rem' }} key={2} onClick={() => exportarExcel(false)}>Seleccionado</Menu.Item>\r\n      <ExcelExport\r\n        data={dataOrdenes}\r\n        fileName={`pendientes_${tipo}_${moment().format('DD_MM_YYYY')}.xlsx`}\r\n        ref={exportarRef}\r\n      >\r\n        {tipo === 'gestor' ? <ExcelExportColumn field=\"tipo\" title=\"Negocio\" locked={true} width={90} headerCellOptions={headerOptions} /> : null}\r\n        <ExcelExportColumn field=\"codigo_requerimiento\" title=\"Requerimiento\" locked={true} width={90} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"codigo_cliente\" title=\"Codigo Cliente\" headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"nombre_cliente\" title=\"Cliente\" width={340} headerCellOptions={headerOptions} />\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ? <ExcelExportColumn field=\"codigo_trabajo\" title=\"Orden Trabajo\" width={90} headerCellOptions={headerOptions} /> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ? <ExcelExportColumn field=\"codigo_peticion\" title=\"Petición\" width={90} headerCellOptions={headerOptions} /> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ? <ExcelExportColumn field=\"tipo_requerimiento\" title=\"Tipo Req.\" width={90} headerCellOptions={headerOptions} /> : null}\r\n        <ExcelExportColumn field=\"tipo_tecnologia\" title=\"Tecnología\" width={90} headerCellOptions={headerOptions} />\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ? <ExcelExportColumn field=\"indicador_pai\" title=\"PAI\" width={90} headerCellOptions={headerOptions} /> : null}\r\n        <ExcelExportColumn field=\"codigo_ctr\" title=\"CTR\" width={60} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"codigo_nodo\" title=\"Nodo\" width={60} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"codigo_troba\" title=\"Troba\" width={60} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"subtipo_actividad\" title=\"Subtipo Actividad\" width={170} headerCellOptions={headerOptions}/>\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ? <ExcelExportColumn field=\"numero_reiterada\" title=\"Reiterada\" width={90} headerCellOptions={headerOptions} /> : null} \r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ? <ExcelExportColumn field=\"infancia.codigo_requerimiento\" title=\"Infancia Req.\" width={90} headerCellOptions={headerOptions} /> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ? <ExcelExportColumn field=\"infancia.codigo_ctr\" title=\"Infancia CTR\" width={120} headerCellOptions={headerOptions} /> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ? <ExcelExportColumn field=\"infancia.tecnico_liquidado.apellidos\" title=\"Infancia Tecnico\" width={200} headerCellOptions={headerOptions} /> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ? <ExcelExportColumn field=\"infancia.tecnico_liquidado.carnet\" title=\"Infancia Carnet\" width={120} headerCellOptions={headerOptions} /> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ? <ExcelExportColumn field=\"infancia_registro\" title=\"Infancia Registro\" width={120} headerCellOptions={headerOptions} /> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ? <ExcelExportColumn field=\"infancia_liquidado\" title=\"Infancia Liquidado\" width={120} headerCellOptions={headerOptions} /> : null}\r\n        <ExcelExportColumn field=\"distrito\" title=\"Distrito\" width={200} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"direccion\" title=\"Dirección\" width={300} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"bucket\" title=\"Bucket\" width={200} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"contrata.nombre\" title=\"Contrata\" width={250} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"gestor_liteyca.nombre\" title=\"Gestor Asignado\" width={250} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"auditor.nombre\" title=\"Auditor\" width={250} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"tecnico.nombre\" title=\"Tecnico Nombre\" width={200} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"tecnico.apellidos\" title=\"Tecnico Apellidos\" width={200} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"tecnico.carnet\" title=\"Tecnico Carnet\" width={120} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"estado_toa\" title=\"Estado Toa\" width={120} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"estado_gestor\" title=\"Estado Gestor\" width={120} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"tipo_agenda\" title=\"Time Slot\" width={100} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"fecha_cita\" title=\"Fecha Cita\" width={100} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"fecha_registro\" title=\"Fecha Registro\" width={150} headerCellOptions={headerOptions}/>\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ?  <ExcelExportColumn field=\"fecha_asignado\" title=\"Fecha Asignado\" width={150} headerCellOptions={headerOptions}/> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ?  <ExcelExportColumn field=\"horas_registro\" title=\"Horas Registro\" width={90} headerCellOptions={headerOptions}/> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ?  <ExcelExportColumn field=\"horas_asignado\" title=\"Horas Asignado\" width={90} headerCellOptions={headerOptions}/> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ?  <ExcelExportColumn field=\"dias_asignado\" title=\"Dias Asignado\" width={90} headerCellOptions={headerOptions}/> : null}\r\n        <ExcelExportColumn field=\"detalle_trabajo\" title=\"Detalle Ttrabajo\" width={340} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"observacion_gestor\" title=\"Observacion Gestor\" width={340} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"observacion_toa\" title=\"Observacion Toa\" width={340} headerCellOptions={headerOptions}/>\r\n        {tipo !== 'gestor' ? <ExcelExportColumn field=\"tipo\" title=\"Negocio\" locked={true} width={90} headerCellOptions={headerOptions} /> : null}\r\n      </ExcelExport>\r\n    </Menu>\r\n  )\r\n};\r\n\r\nExcelOrdenesPendientes.propTypes = {\r\n  metodo: PropTypes.string,\r\n  tipo: PropTypes.string,\r\n  setLoading: PropTypes.func,\r\n  ordenesSeleccionadas: PropTypes.array,\r\n};\r\n\r\nexport default ExcelOrdenesPendientes;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Dropdown, Input } from 'antd';\r\nimport { ScheduleOutlined, LoadingOutlined, ReloadOutlined, ExportOutlined, FileSyncOutlined, UserSwitchOutlined } from '@ant-design/icons';\r\n\r\nimport { listaBuckets } from '../../../constants/valoresOrdenes';\r\nimport TablaOrdenes from './TablaOrdenes';\r\nimport ModalRegistro from '../administrarOrdenes/ModalsTabla/ModalRegistro';\r\nimport ModalInfancia from '../administrarOrdenes/ModalsTabla/ModalInfancia';\r\nimport ModalReiterada from '../administrarOrdenes/ModalsTabla/ModalReiterada';\r\nimport ModalEstado from '../administrarOrdenes/ModalsTabla/ModalEstado';\r\nimport ModalAgendarTecnico from './ModalAgendarTecnico';\r\nimport { getOrdenes, patchFilesOrdenes, patchOrdenes } from '../../../services/apiOrden';\r\nimport { ordenes, ordenes as ordenesMetodo } from '../../../constants/metodos';\r\nimport ModalAsignar from '../administrarOrdenes/ModalsTabla/ModalAsignar';\r\nimport ExcelOrdenesPendientes from '../../excelExports/ExcelOrdenesPendientes';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction OrdenesPendientesGestor({gestores=[], tecnicos=[]}) {\r\n  const [listaOrdenes, setListaOrdenes] = useState([]);\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [dataRegistros, setDataRegistros] = useState([]);\r\n  const [dataInfancia, setDataInfancia] = useState([]);\r\n  const [ordenesSeleccionadas, setOrdenesSeleccionadas] = useState([]);\r\n  const [loadingAgendar, setLoadingAgendar] = useState(false);\r\n  const [loadingEstado, setLoadingEstado] = useState(false);\r\n  const [loadingRegistro, setLoadingRegistro] = useState(false);\r\n  const [loadingAsignar, setLoadingAsignar] = useState(false);\r\n  const [loadingExportar, setLoadingExportar] = useState(false);\r\n  const [modalAgendar, setModalAgendar] = useState(false);\r\n  const [modalReiterada, setModalReiterada] = useState(false);\r\n  const [modalInfancia, setModalInfancia] = useState(false);\r\n  const [modalEstado, setModalEstado] = useState(false);\r\n  const [modalRegistro, setModalRegistro] = useState(false);\r\n  const [modalAsignar, setModalAsignar] = useState(false);\r\n  const [codigoCliente, setCodigoCliente] = useState(null);\r\n\r\n  useEffect(() => {\r\n    listarOrdenes()\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (listaOrdenes.length>0) {\r\n      setDataOrdenes(listaOrdenes);\r\n    }\r\n  // eslint-disable-next-line\r\n  },[listaOrdenes]);\r\n\r\n  async function listarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    return await getOrdenes(true, { metodo: ordenesMetodo.ORDENES_HOY_GESTOR, todo: true })\r\n      .then(({data}) => {\r\n        if(data) setListaOrdenes(data);\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingOrdenes(false));\r\n  };\r\n\r\n  async function buscarInfancia(infancia) {\r\n    setDataInfancia([infancia]);\r\n  };\r\n\r\n  async function buscarRegistro(id_orden) {\r\n    setLoadingRegistro(true);\r\n    await getOrdenes( true, { metodo: ordenesMetodo.BUSCAR_REGISTROS, id: id_orden })\r\n      .then(({data}) => {\r\n        if (data && data.length > 0) {\r\n          setDataRegistros(data);\r\n        }\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingRegistro(false));\r\n  };\r\n\r\n  async function agendarOrdenes(bucketSeleccionado, contrataSeleccionada, tecnicoSeleccionado, fechaCita, observacion) {\r\n    if (ordenesSeleccionadas && ordenesSeleccionadas.length > 0) {\r\n      setLoadingAgendar(true);\r\n      await patchOrdenes({\r\n        metodo: ordenesMetodo.AGENDAR_ORDEN_GESTOR, \r\n        ordenes: ordenesSeleccionadas,\r\n        bucket: bucketSeleccionado, \r\n        contrata: contrataSeleccionada, \r\n        tecnico: tecnicoSeleccionado,\r\n        fecha_cita: fechaCita,\r\n        observacion\r\n      }).then(async() => await listarOrdenes()).catch((err) => console.log(err)).finally(() => setLoadingAgendar(false));\r\n    }\r\n  };\r\n\r\n  async function actualizarEstado(estado, observacion, files=[]) {\r\n    if (ordenesSeleccionadas && ordenesSeleccionadas.length > 0) {\r\n      let orden_imagen = new FormData();\r\n      orden_imagen.append('metodo', ordenesMetodo.ACTUALIZAR_ESTADO);\r\n      orden_imagen.append('ordenes', JSON.stringify(ordenesSeleccionadas));\r\n      orden_imagen.append('estado', estado);\r\n      orden_imagen.append('observacion', observacion);\r\n      files.forEach((f) => {\r\n        orden_imagen.append('files', f);\r\n      });\r\n\r\n      setLoadingEstado(true);\r\n      abrirModalEstado();\r\n      await patchFilesOrdenes(orden_imagen)\r\n        .then(async() => await listarOrdenes())\r\n        .catch((err) => console.log(err))\r\n        .finally(() => setLoadingEstado(false));\r\n    }\r\n  };\r\n\r\n  function buscarRequerimiento(e) {\r\n    if (e && e.length > 1) {\r\n      setDataOrdenes(listaOrdenes.filter((o) => String(o.codigo_requerimiento).includes(e)))\r\n    } else {\r\n      setDataOrdenes(listaOrdenes);\r\n    }\r\n  };\r\n\r\n  const abrirModalAgendar = () => setModalAgendar(!modalAgendar);\r\n  const abrirModalReiterada = () => setModalReiterada(!modalReiterada);\r\n  const abrirModalInfancia = () => setModalInfancia(!modalInfancia);\r\n  const abrirModalEstado = () => setModalEstado(!modalEstado);\r\n  const abrirModalRegistro = () => setModalRegistro(!modalRegistro);\r\n  const abrirModalAsignar = () => setModalAsignar(!modalAsignar);\r\n \r\n  const abrirReiterada = (c) => {\r\n    setCodigoCliente(c);\r\n    abrirModalReiterada();\r\n  };\r\n\r\n  const abrirInfancia = async (id) => {\r\n    abrirModalInfancia();\r\n    await buscarInfancia(id);\r\n  };\r\n\r\n  const abrirRegistro = async (id) => {\r\n    abrirModalRegistro();\r\n    await buscarRegistro(id);\r\n  };\r\n\r\n  async function asignarOrdenes(data) {\r\n    if (ordenesSeleccionadas && ordenesSeleccionadas.length > 0) {\r\n      const auxData = data;\r\n      setLoadingAsignar(true);\r\n      abrirModalAsignar();\r\n      await patchOrdenes({\r\n        metodo: ordenes.ASIGNAR_ORDEN, ordenes: ordenesSeleccionadas, ...auxData\r\n      }).then(async() => await listarOrdenes()).catch((err) => console.log(err)).finally(() => setLoadingAsignar(false));\r\n    } else {\r\n      cogoToast.warn('No hay ordenes seleccionadas.', { position: 'top-right' })\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginBottom: '.5rem', marginTop: '1rem' }}>\r\n      <div>\r\n        <Button \r\n          type=\"primary\"\r\n          icon={loadingOrdenes ? <LoadingOutlined spin/>:<ReloadOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={listarOrdenes}\r\n        >Actualizar</Button>\r\n        <Button \r\n          icon={loadingAgendar ? <LoadingOutlined spin/>:<ScheduleOutlined />}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          disabled={ordenesSeleccionadas.length === 0}\r\n          onClick={abrirModalAgendar}\r\n        >Agendar</Button>\r\n        <Button \r\n          icon={loadingAsignar ? <LoadingOutlined spin/>:<UserSwitchOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          disabled={ordenesSeleccionadas.length === 0}\r\n          onClick={abrirModalAsignar}\r\n        >Asignar</Button>\r\n        <Button \r\n          icon={loadingEstado ? <LoadingOutlined spin/>:<FileSyncOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          disabled={ordenesSeleccionadas.length === 0}\r\n          onClick={abrirModalEstado}\r\n        >Estado</Button>\r\n        <Search\r\n          placeholder=\"Requerimiento...\" \r\n          onSearch={buscarRequerimiento} \r\n          style={{ width: 180, marginRight: '.5rem' }} \r\n          allowClear \r\n        />\r\n        <Dropdown\r\n          overlay={<ExcelOrdenesPendientes metodo={ordenes.EXPORTAR_PENDIENTES_GESTOR} tipo=\"gestor\" setLoading={setLoadingExportar} ordenesSeleccionadas={ordenesSeleccionadas}/>} \r\n          placement=\"bottomLeft\" \r\n          trigger={['click']}\r\n          arrow\r\n        >\r\n          <Button\r\n            icon={loadingExportar ? <LoadingOutlined spin/>:<ExportOutlined/>}\r\n            style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          >\r\n            Exportar\r\n          </Button>\r\n        </Dropdown>\r\n      </div>\r\n      <TablaOrdenes\r\n        asignadas={true}\r\n        data={dataOrdenes} \r\n        loading={loadingOrdenes} \r\n        ordenesSeleccionadas={ordenesSeleccionadas} \r\n        setOrdenesSeleccionadas={setOrdenesSeleccionadas}\r\n        abrirReiterada={abrirReiterada}\r\n        abrirInfancia={abrirInfancia}\r\n        abrirRegistro={abrirRegistro}\r\n      />\r\n      {/* MODAL PARA ASIGNAR CONTRATA, GESTOR O TECNICO */}\r\n      <ModalAsignar tipo={true} visible={modalAsignar} abrir={abrirModalAsignar} gestores={gestores} tecnicos={tecnicos} asignar={asignarOrdenes}/>\r\n      {/* MODAL PARA AGENDAR LA ORDEN */}\r\n      <ModalAgendarTecnico visible={modalAgendar} abrir={abrirModalAgendar} buckets={listaBuckets} tecnicos={tecnicos} agendar={agendarOrdenes}/>\r\n      {/* MODAL PARA ACTUALIZAR EL ESTADO_GESTOR DE LA ORDEN */}\r\n      <ModalEstado visible={modalEstado} abrir={abrirModalEstado} actualizarEstado={actualizarEstado} />\r\n      {/* MODAL PARA BUSCAR LA REITERADA */}\r\n      <ModalReiterada visible={modalReiterada} abrir={abrirModalReiterada} codigo_cliente={codigoCliente}/>\r\n      {/* MODAL PARA BUSCAR LA INFANCIA */}\r\n      <ModalInfancia visible={modalInfancia} abrir={abrirModalInfancia} loading={false} orden={dataInfancia} />\r\n      {/* MODAL DETALLE PARA VER EL HISTORIAL DE CAMBIOS */}\r\n      <ModalRegistro visible={modalRegistro} abrir={abrirModalRegistro} loading={loadingRegistro} registros={dataRegistros}/>\r\n    </div>\r\n  )\r\n};\r\n\r\nOrdenesPendientesGestor.propTypes = {\r\n  gestores: PropTypes.array,\r\n  tecnicos: PropTypes.array,\r\n  loadingTecnicos: PropTypes.bool\r\n};\r\n\r\nexport default OrdenesPendientesGestor;\r\n","import React from 'react';\r\nimport { Tag, Tooltip, Typography } from 'antd';\r\nimport { PlusCircleTwoTone } from '@ant-design/icons'\r\nimport moment from 'moment';\r\n\r\nimport TagEstado from '../TagEstado';\r\nimport { tipoOrdenes } from '../../../../constants/tipoOrden';\r\nimport PopObservacion from './PopObservacion';\r\nimport TagHoras from '../../../common/TagHoras';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport default function columnasOrdenesLiquidadas(\r\n  tipo,\r\n  filtroDistrito=[],\r\n  filtroEstadoToa=[],\r\n  filtroEstadoGestor=[],\r\n  filtroContrata=[], \r\n  filtroGestor=[],\r\n  filtroTecnico=[],\r\n  filtroTecnologia=[],\r\n  filtroNodo=[],\r\n  filtroCtr=[],\r\n  filtroTimeSlot=[],\r\n  abrirDetalle,\r\n  listarOrdenes\r\n) {\r\n\r\n  const columnasGenerales = [\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: '#',\r\n      width: 50,\r\n      fixed: 'left',\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Requerimiento',\r\n      dataIndex: 'codigo_requerimiento',\r\n      width: 120,\r\n      fixed: 'left',\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Orden Trabajo',\r\n      dataIndex: 'codigo_trabajo',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Peticion',\r\n      dataIndex: 'codigo_peticion',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Codigo Cliente',\r\n      dataIndex: 'codigo_cliente',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Tecnologia',\r\n      dataIndex: 'tipo_tecnologia',\r\n      align: 'center',\r\n      width: 120,\r\n      filters: filtroTecnologia ? filtroTecnologia : [],\r\n      onFilter: (v,r) => r.tipo_tecnologia.indexOf(v) === 0,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'CTR',\r\n      dataIndex: 'codigo_ctr',\r\n      width: 60,\r\n      filters: filtroCtr ? filtroCtr : [],\r\n      onFilter: (v,r) => String(r.codigo_ctr).indexOf(String(v)) === 0,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Nodo',\r\n      dataIndex: 'codigo_nodo',\r\n      width: 70,\r\n      filters: filtroNodo ? filtroNodo : [],\r\n      onFilter: (v,r) => r.codigo_nodo.indexOf(v) === 0,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Troba',\r\n      dataIndex: 'codigo_troba',\r\n      width: 70,\r\n      sorter: (a, b) => {\r\n        if (a.codigo_troba < b.codigo_troba) {\r\n          return -1;\r\n        }\r\n        if (a.codigo_troba > b.codigo_troba) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Distrito',\r\n      dataIndex: 'distrito',\r\n      width: 160,\r\n      filters: filtroDistrito ? filtroDistrito : [],\r\n      onFilter: (v,r) => r.distrito.indexOf(v) === 0\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Estado Toa',\r\n      dataIndex: 'estado_toa',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoToa ? filtroEstadoToa : [],\r\n      onFilter: (v,r) => r.estado_toa.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Estado Gestor',\r\n      dataIndex: 'estado_gestor',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoGestor ? filtroEstadoGestor : [],\r\n      onFilter: (v,r) => r.estado_gestor.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Estado Liquidado',\r\n      dataIndex: 'estado_liquidado',\r\n      width: 150,\r\n      align: 'center',\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Contrata',\r\n      dataIndex: 'contrata',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroContrata ? filtroContrata : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.contrata\r\n        } else if( r.contrata !== undefined) {\r\n          return r.contrata._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (c) => (\r\n        <Tooltip placement=\"topLeft\" title={c ? c.nombre:'-'}>\r\n          {c ? c.nombre:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Gestor',\r\n      dataIndex: 'gestor',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroGestor ? filtroGestor : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.gestor\r\n        } else if( r.gestor !== undefined) {\r\n          return r.gestor._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (g) => (\r\n        <Tooltip placement=\"topLeft\" title={g ? g.nombre+' '+g.apellidos:'-'}>\r\n          {g ? g.nombre+' '+g.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,  \r\n      title: 'Tecnico Liquidado',\r\n      dataIndex: 'tecnico_liquidado',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroTecnico ? filtroTecnico : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.tecnico_liquidado\r\n        } else if( r.tecnico_liquidado ) {\r\n          return r.tecnico_liquidado._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t ? t.nombre+' '+t.apellidos:'-'}>\r\n          {t ? t.nombre+' '+t.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Usuario Liquidado',\r\n      dataIndex: 'codigo_usuario_liquidado',\r\n      width: 150,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Tipo Averia',\r\n      dataIndex: 'tipo_averia',\r\n      width: 150,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Descripción Liquidado',\r\n      dataIndex: 'descripcion_codigo_liquidado',\r\n      width: 250,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Observación Gestor',\r\n      dataIndex: 'observacion_gestor',\r\n      width: 250,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Observación Liquidado',\r\n      dataIndex: 'observacion_liquidado',\r\n      width: 250,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Fecha Liquidado',\r\n      dataIndex: 'fecha_liquidado',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Time Slot',\r\n      dataIndex: 'tipo_agenda',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      filters: filtroTimeSlot ? filtroTimeSlot.filter((e) => e.text) : [],\r\n      onFilter: (v,r) => {\r\n        if (r.tipo_agenda && v ) {\r\n          return  r.tipo_agenda.indexOf(v) === 0;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      render: (ts) => {\r\n        if (ts) {\r\n          return <Tag color=\"#f50\">{ts}</Tag>\r\n        } else {\r\n          return;\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Plazo 24h',\r\n      dataIndex: 'fecha_registro',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      sorter: (a, b) => {\r\n        if (moment(a.fecha_liquidado).diff(a.fecha_registro, 'hours') < moment(a.fecha_liquidado).diff(b.fecha_registro, 'hours')) {\r\n          return -1;\r\n        }\r\n        if (moment(a.fecha_liquidado).diff(a.fecha_registro, 'hours') > moment(a.fecha_liquidado).diff(b.fecha_registro, 'hours')) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (fecha, row) => <TagHoras fecha={fecha} tipo={row.tipo} tipoAgenda={row.tipo_agenda}/>\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Plazo 72h',\r\n      dataIndex: 'fecha_registro',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      sorter: (a, b) => {\r\n        if (moment(a.fecha_liquidado).diff(a.fecha_registro, 'hours') < moment(a.fecha_liquidado).diff(b.fecha_registro, 'hours')) {\r\n          return -1;\r\n        }\r\n        if (moment(a.fecha_liquidado).diff(a.fecha_registro, 'hours') > moment(a.fecha_liquidado).diff(b.fecha_registro, 'hours')) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (fecha, row) => {\r\n        if (fecha) {\r\n          let horas = moment(row.fecha_liquidado).diff(fecha, 'hours');\r\n          return <Tag color={row.fecha_cita ? 'geekblue' : horas < 72 && !row.fecha_cita ? 'success': horas === 72 && !row.fecha_cita ? 'warning' :  'error' }>{horas}</Tag>\r\n        } else {\r\n          return <Tag>-</Tag>\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      render: (id, row) => (\r\n        <div>\r\n          <PlusCircleTwoTone\r\n            style={{ fontSize: '1.5rem', marginRight: '.5rem' }}\r\n            onClick={() => abrirDetalle(id)}\r\n          />\r\n          <PopObservacion row={row} listarOrdenes={listarOrdenes}/>\r\n        </div>\r\n      )\r\n    }\r\n  ]\r\n\r\n  const columnasAverias = columnasGenerales.filter(e => e.averias);\r\n\r\n  const columnasAltas = columnasGenerales.filter(e => e.altas);\r\n\r\n  switch (tipo) {\r\n    case tipoOrdenes.AVERIAS:\r\n      return columnasAverias;  \r\n    case tipoOrdenes.ALTAS:\r\n      return columnasAltas;\r\n    default:\r\n      break;\r\n  }\r\n};","import React, { useState, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ExcelExport, ExcelExportColumn } from '@progress/kendo-react-excel-export';\r\nimport { Menu } from 'antd';\r\nimport moment from 'moment';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nimport capitalizar from '../../libraries/capitalizar'\r\nimport { getOrdenes } from '../../services/apiOrden';\r\nimport { tipoOrdenes } from '../../constants/tipoOrden';\r\nimport { colorEstado, colorHora } from '../../libraries/colorEstado';\r\nimport { ordenes } from '../../constants/metodos';\r\n\r\nfunction ExcelOrdenesLiquidadas({ tipo, setLoading, ordenesSeleccionadas=[], fechaInicio, fechaFin}) {\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  let exportarRef = useRef(null);\r\n\r\n  async function exportarExcel(numero) {\r\n    if (numero === 2 && ordenesSeleccionadas.length <= 0) {\r\n      return cogoToast.warn('Debes seleccionar algunas ordenes primero.', { position: 'top-right' });\r\n    } else if (numero === 3 && !fechaInicio) {\r\n      return cogoToast.warn('Debes seleccionar la fecha de inicio.', { position: 'top-right' });\r\n    } else if (numero === 3 && !fechaFin) {\r\n      return cogoToast.warn('Debes seleccionar la fecha de fin.', { position: 'top-right' });\r\n    } else {\r\n      setLoading(true);\r\n      return await getOrdenes(true, { \r\n        metodo: ordenes.EXPORTAR_LIQUIDADAS, \r\n        todo: numero === 1 ? true : false, \r\n        tipo, \r\n        id_ordenes: ordenesSeleccionadas, \r\n        fechaInicio: numero === 3 ? fechaInicio : null, \r\n        fechaFin: numero === 3 ? fechaFin : null, \r\n      }).then(async({data}) => await actualizarEstadoData(data))\r\n        .then(() => guardarArchivo(exportarRef.current))\r\n        .catch((err) => console.log(err))\r\n        .finally(() => setLoading(false));\r\n    };\r\n  };\r\n\r\n  function guardarArchivo(component) {\r\n    try {\r\n      let options = component.workbookOptions();\r\n      let rows = options.sheets[0].rows;\r\n      let indexTipo = -1;\r\n      let indexEstado = -1;\r\n      let indexEstadoGestor = -1;\r\n      let indexEstadoLiquidado = -1;\r\n      let indexHoraRegistro = -1;\r\n      let indexHoraAsignado = -1;\r\n      let indexFechaCita = -1;\r\n      rows.forEach((row) => {\r\n        if (row.type === 'header') {\r\n          indexTipo = row.cells.findIndex((e) => e.value === 'Negocio');\r\n          indexEstado = row.cells.findIndex((e) => e.value === 'Estado Toa');\r\n          indexEstadoGestor = row.cells.findIndex((e) => e.value === 'Estado Gestor');\r\n          indexEstadoLiquidado = row.cells.findIndex((e) => e.value === 'Estado Liquidado');\r\n          indexHoraRegistro = row.cells.findIndex((e) => e.value === 'Horas Registro');\r\n          indexHoraAsignado = row.cells.findIndex((e) => e.value === 'Horas Asignado');\r\n          indexFechaCita = row.cells.findIndex((e) => e.value === 'Time Slot');\r\n        };\r\n        if (row.type === 'data') {\r\n          row.cells.forEach((cell) => {\r\n            cell.borderBottom = { size: .5 }; \r\n            cell.borderLeft = { size: .5 };\r\n            cell.borderRight = { size: .5 };\r\n            cell.borderTop = { size: .5 };\r\n          });\r\n          if (indexEstado > -1) {\r\n            row.cells[indexEstado].background = colorEstado(row.cells[indexEstado].value).background;\r\n            row.cells[indexEstado].color = colorEstado(row.cells[indexEstado].value).color;\r\n            row.cells[indexEstado].value = capitalizar(row.cells[indexEstado].value);\r\n            row.cells[indexEstado].textAlign = 'center';\r\n          }\r\n          if (indexEstadoGestor > -1) {\r\n            row.cells[indexEstadoGestor].background = colorEstado(row.cells[indexEstadoGestor].value).background;\r\n            row.cells[indexEstadoGestor].color = colorEstado(row.cells[indexEstadoGestor].value).color;\r\n            row.cells[indexEstadoGestor].value = capitalizar(row.cells[indexEstadoGestor].value);\r\n            row.cells[indexEstadoGestor].textAlign = 'center';\r\n          }\r\n          if (indexEstadoLiquidado > -1) {\r\n            row.cells[indexEstadoLiquidado].background = colorEstado(row.cells[indexEstadoLiquidado].value).background;\r\n            row.cells[indexEstadoLiquidado].color = colorEstado(row.cells[indexEstadoLiquidado].value).color;\r\n            row.cells[indexEstadoLiquidado].value = capitalizar(row.cells[indexEstadoLiquidado].value);\r\n            row.cells[indexEstadoLiquidado].textAlign = 'center';\r\n          }\r\n          if (indexHoraRegistro > -1 && indexFechaCita > -1 && indexTipo > -1) {\r\n            row.cells[indexHoraRegistro].background = colorHora(row.cells[indexHoraRegistro].value, row.cells[indexTipo].value, row.cells[indexFechaCita].value).background;\r\n            row.cells[indexHoraRegistro].color = colorHora(row.cells[indexHoraRegistro].value, row.cells[indexTipo].value, row.cells[indexFechaCita].value).color;\r\n            row.cells[indexHoraRegistro].textAlign = 'center';\r\n          }\r\n          if (indexHoraAsignado > -1 && indexFechaCita > -1 && indexTipo > -1) {\r\n            row.cells[indexHoraAsignado].background = colorHora(row.cells[indexHoraAsignado].value, row.cells[indexTipo].value, row.cells[indexFechaCita].value).background;\r\n            row.cells[indexHoraAsignado].color = colorHora(row.cells[indexHoraAsignado].value, row.cells[indexTipo].value, row.cells[indexFechaCita].value).color;\r\n            row.cells[indexHoraAsignado].textAlign = 'center';\r\n          }\r\n        }\r\n      });\r\n      component.save(options);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  async function actualizarEstadoData (data) {\r\n    if (data && data.length > 0) {\r\n      return await setDataOrdenes(data.map((d) => ({\r\n        ...d, \r\n        fecha_cita: d.fecha_cita ? moment(d.fecha_cita).format('DD/MM/YY'):'-',\r\n        fecha_registro: d.fecha_registro ? moment(d.fecha_registro).format('DD/MM/YY HH:mm'):'-',\r\n        fecha_asignado: d.fecha_asignado ? moment(d.fecha_asignado).format('DD/MM/YY HH:mm'):'-',\r\n        fecha_liquidado: d.fecha_liquidado ? moment(d.fecha_liquidado).format('DD/MM/YY HH:mm'):'-',\r\n        horas_registro: d.fecha_registro ? moment(d.fecha_liquidado).diff(d.fecha_registro, 'hours') : '-',\r\n        horas_asignado: d.fecha_asignado ? moment(d.fecha_liquidado).diff(d.fecha_asignado, 'hours') : '-',\r\n      })))\r\n    } else {\r\n      setDataOrdenes([]);\r\n    }\r\n  }\r\n\r\n  const headerOptions = {\r\n    background: '#60CE48', \r\n    bold: true, \r\n    fontSize: 17,\r\n    autoWidth: true\r\n  };\r\n\r\n  return (\r\n    <Menu>\r\n      <Menu.Item style={{ margin: 0, heigth: '2.1rem' }} key={1} onClick={() => exportarExcel(1)}>Hoy</Menu.Item>\r\n      <Menu.Item style={{ margin: 0, heigth: '2.1rem' }} key={2} onClick={() => exportarExcel(2)}>Seleccionado</Menu.Item>\r\n      <Menu.Item style={{ margin: 0, heigth: '2.1rem' }} key={3} onClick={() => exportarExcel(3)}>Fechas</Menu.Item>\r\n      <ExcelExport\r\n        data={dataOrdenes}\r\n        fileName={`liquidadas_${tipo}_${moment().format('DD_MM_YYYY')}.xlsx`}\r\n        ref={exportarRef}\r\n      >\r\n        {tipo === 'gestor' ? <ExcelExportColumn field=\"tipo\" title=\"Negocio\" locked={true} width={90} headerCellOptions={headerOptions} /> : null}\r\n        <ExcelExportColumn field=\"codigo_requerimiento\" title=\"Requerimiento\" locked={true} width={90} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"tipo_averia\" title=\"Tipo Averia\" locked={true} width={90} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"codigo_cliente\" title=\"Codigo Cliente\" headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"nombre_cliente\" title=\"Cliente\" width={340} headerCellOptions={headerOptions} />\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ? <ExcelExportColumn field=\"codigo_trabajo\" title=\"Orden Trabajo\" width={90} headerCellOptions={headerOptions} /> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ? <ExcelExportColumn field=\"codigo_peticion\" title=\"Petición\" width={90} headerCellOptions={headerOptions} /> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ? <ExcelExportColumn field=\"tipo_requerimiento\" title=\"Tipo Req.\" width={90} headerCellOptions={headerOptions} /> : null}\r\n        <ExcelExportColumn field=\"tipo_tecnologia\" title=\"Tecnología\" width={90} headerCellOptions={headerOptions} />\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ? <ExcelExportColumn field=\"indicador_pai\" title=\"PAI\" width={90} headerCellOptions={headerOptions} /> : null}\r\n        <ExcelExportColumn field=\"codigo_ctr\" title=\"CTR\" width={60} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"codigo_nodo\" title=\"Nodo\" width={60} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"codigo_troba\" title=\"Troba\" width={60} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"subtipo_actividad\" title=\"Subtipo Actividad\" width={170} headerCellOptions={headerOptions}/>\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ? <ExcelExportColumn field=\"numero_reiterada\" title=\"Reiterada\" width={90} headerCellOptions={headerOptions} /> : null} \r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ? <ExcelExportColumn field=\"infancia.codigo_requerimiento\" title=\"Infancia Req.\" width={90} headerCellOptions={headerOptions} /> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ? <ExcelExportColumn field=\"infancia.codigo_ctr\" title=\"Infancia CTR\" width={120} headerCellOptions={headerOptions} /> : null}\r\n        <ExcelExportColumn field=\"distrito\" title=\"Distrito\" width={200} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"bucket\" title=\"Bucket\" width={200} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"contrata.nombre\" title=\"Contrata\" width={250} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"gestor.nombre\" title=\"Gestor\" width={250} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"auditor.nombre\" title=\"Auditor\" width={250} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"tecnico.nombre\" title=\"Tecnico Nombre\" width={200} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"tecnico.apellidos\" title=\"Tecnico Apellidos\" width={200} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"tecnico.carnet\" title=\"Tecnico Carnet\" width={120} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"estado_toa\" title=\"Estado Toa\" width={120} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"estado_gestor\" title=\"Estado Gestor\" width={120} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"estado_liquidado\" title=\"Estado Liquidado\" width={120} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"tipo_agenda\" title=\"Time Slot\" width={100} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"fecha_cita\" title=\"Fecha Cita\" width={100} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"fecha_registro\" title=\"Fecha Registro\" width={150} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"fecha_liquidado\" title=\"Fecha Liquidado\" width={150} headerCellOptions={headerOptions}/>\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ?  <ExcelExportColumn field=\"fecha_asignado\" title=\"Fecha Asignado\" width={150} headerCellOptions={headerOptions}/> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ?  <ExcelExportColumn field=\"horas_registro\" title=\"Horas Registro\" width={90} headerCellOptions={headerOptions}/> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ?  <ExcelExportColumn field=\"horas_asignado\" title=\"Horas Asignado\" width={90} headerCellOptions={headerOptions}/> : null}\r\n        <ExcelExportColumn field=\"observacion_gestor\" title=\"Observacion Gestor\" width={340} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"observacion_toa\" title=\"Observacion Toa\" width={340} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"observacion_liquidado\" title=\"Observacion Liquidado\" width={340} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"descripcion_codigo_liquidado\" title=\"Descripción Liquidado\" width={150} headerCellOptions={headerOptions}/>\r\n        {tipo !== 'gestor' ? <ExcelExportColumn field=\"tipo\" title=\"Negocio\" locked={true} width={90} headerCellOptions={headerOptions} /> : null}\r\n      </ExcelExport>\r\n    </Menu>\r\n  )\r\n};\r\n\r\nExcelOrdenesLiquidadas.propTypes = {\r\n  tipo: PropTypes.string,\r\n  setLoading: PropTypes.func,\r\n  ordenesSeleccionadas: PropTypes.array,\r\n  fechaInicio: PropTypes.string,\r\n  fechaFin: PropTypes.string\r\n};\r\n\r\nexport default ExcelOrdenesLiquidadas;\r\n\r\n","import React from 'react';\r\nimport { Tag, Tooltip, Typography } from 'antd';\r\nimport { PlusCircleTwoTone } from '@ant-design/icons'\r\nimport moment from 'moment';\r\n\r\nimport TagEstado from '../../administrarOrdenes/TagEstado';\r\nimport { tipoOrdenes } from '../../../../constants/tipoOrden';\r\nimport PopObservacion from '../../administrarOrdenes/columnas/PopObservacion';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport default function columnasLiquidadasGestor(\r\n  filtroDistrito=[],\r\n  filtroEstadoToa=[],\r\n  filtroEstadoGestor=[],\r\n  filtroContrata=[], \r\n  filtroTecnologia=[],\r\n  filtroNodo=[],\r\n  filtroCtr=[],\r\n  filtroTecnico=[],\r\n  filtroTimeSlot=[],\r\n  abrirRegistro,\r\n  listarOrdenes\r\n) {\r\n\r\n  return [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      fixed: 'left',\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Negocio',\r\n      dataIndex: 'tipo',\r\n      width: 100,\r\n      fixed: 'left',\r\n    },\r\n    {\r\n      title: 'Requerimiento',\r\n      dataIndex: 'codigo_requerimiento',\r\n      width: 120,\r\n      fixed: 'left',\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'Codigo Cliente',\r\n      dataIndex: 'codigo_cliente',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'Tecnologia',\r\n      dataIndex: 'tipo_tecnologia',\r\n      align: 'center',\r\n      width: 120,\r\n      filters: filtroTecnologia ? filtroTecnologia : [],\r\n      onFilter: (v,r) => r.tipo_tecnologia.indexOf(v) === 0,\r\n    },\r\n    {\r\n      title: 'CTR',\r\n      dataIndex: 'codigo_ctr',\r\n      width: 60,\r\n      filters: filtroCtr ? filtroCtr : [],\r\n      onFilter: (v,r) => String(r.codigo_ctr).indexOf(String(v)) === 0,\r\n    },\r\n    {\r\n      title: 'Nodo',\r\n      dataIndex: 'codigo_nodo',\r\n      width: 70,\r\n      filters: filtroNodo ? filtroNodo : [],\r\n      onFilter: (v,r) => r.codigo_nodo.indexOf(v) === 0,\r\n    },\r\n    {\r\n      title: 'Troba',\r\n      dataIndex: 'codigo_troba',\r\n      width: 70,\r\n      sorter: (a, b) => {\r\n        if (a.codigo_troba < b.codigo_troba) {\r\n          return -1;\r\n        }\r\n        if (a.codigo_troba > b.codigo_troba) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n    {\r\n      title: 'Distrito',\r\n      dataIndex: 'distrito',\r\n      width: 160,\r\n      filters: filtroDistrito ? filtroDistrito : [],\r\n      onFilter: (v,r) => r.distrito.indexOf(v) === 0\r\n    },\r\n    {\r\n      title: 'Estado Toa',\r\n      dataIndex: 'estado_toa',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoToa ? filtroEstadoToa : [],\r\n      onFilter: (v,r) => r.estado_toa.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      title: 'Estado Gestor',\r\n      dataIndex: 'estado_gestor',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoGestor ? filtroEstadoGestor : [],\r\n      onFilter: (v,r) => r.estado_gestor.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      title: 'Estado Liquidado',\r\n      dataIndex: 'estado_liquidado',\r\n      width: 150,\r\n      align: 'center',\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      title: 'Contrata',\r\n      dataIndex: 'contrata',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroContrata ? filtroContrata : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.contrata\r\n        } else if( r.contrata !== undefined) {\r\n          return r.contrata._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (c) => (\r\n        <Tooltip placement=\"topLeft\" title={c ? c.nombre:'-'}>\r\n          {c ? c.nombre:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Tecnico Liquidado',\r\n      dataIndex: 'tecnico_liquidado',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroTecnico ? filtroTecnico : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.tecnico_liquidado\r\n        } else if( r.tecnico_liquidado ) {\r\n          return r.tecnico_liquidado._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t ? t.nombre+' '+t.apellidos:'-'}>\r\n          {t ? t.nombre+' '+t.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Usuario Liquidado',\r\n      dataIndex: 'codigo_usuario_liquidado',\r\n      width: 150,\r\n    },\r\n    {\r\n      title: 'Tipo Averia',\r\n      dataIndex: 'tipo_averia',\r\n      width: 150,\r\n    },\r\n    {\r\n      title: 'Descripción Liquidado',\r\n      dataIndex: 'descripcion_codigo_liquidado',\r\n      width: 250,\r\n    },\r\n    {\r\n      title: 'Observación Gestor',\r\n      dataIndex: 'observacion_gestor',\r\n      width: 250,\r\n    },\r\n    {\r\n      title: 'Observación Liquidado',\r\n      dataIndex: 'observacion_liquidado',\r\n      width: 250,\r\n    },\r\n    {\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Fecha Liquidado',\r\n      dataIndex: 'fecha_liquidado',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Time Slot',\r\n      dataIndex: 'tipo_agenda',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      filters: filtroTimeSlot ? filtroTimeSlot.filter((e) => e.text) : [],\r\n      onFilter: (v,r) => {\r\n        if (r.tipo_agenda && v ) {\r\n          return  r.tipo_agenda.indexOf(v) === 0;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      render: (ts) => {\r\n        if (ts) {\r\n          return <Tag color=\"#f50\">{ts}</Tag>\r\n        } else {\r\n          return;\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Horas',\r\n      dataIndex: 'fecha_registro',\r\n      width: 80,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      sorter: (a, b) => {\r\n        if (moment().diff(a.fecha_registro, 'hours') < moment().diff(b.fecha_registro, 'hours')) {\r\n          return -1;\r\n        }\r\n        if (moment().diff(a.fecha_registro, 'hours') > moment().diff(b.fecha_registro, 'hours')) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (fecha, row) => {\r\n        if (!row.fecha_cita && fecha) {\r\n          if (row.tipo === tipoOrdenes.ALTAS && row.fecha_asignado) {\r\n            let horas = moment().diff(row.fecha_asignado, 'hours')\r\n            return <Tag color={horas >= 72 ? 'error' : horas < 72 && horas >= 24 ? 'warning' : horas < 24 ? 'success' : ''}>{horas}</Tag>\r\n          } else if (row.tipo === tipoOrdenes.AVERIAS) {\r\n            let horas = moment().diff(fecha, 'hours')\r\n            return <Tag color={horas >= 24 ? 'error' : horas < 24 && horas >= 12 ? 'warning' : horas < 12 ? 'success' : ''}>{horas}</Tag>\r\n          } else {\r\n            return <Tag>-</Tag>\r\n          }\r\n        } else {\r\n          return <Tag color=\"blue\">{moment().diff(fecha, 'hours')}</Tag>\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      render: (id, row) => (\r\n        <div>\r\n          <PlusCircleTwoTone\r\n            style={{ fontSize: '1.5rem', marginRight: '.5rem' }}\r\n            onClick={() => abrirRegistro(id)}\r\n          />\r\n          <PopObservacion row={row} listarOrdenes={listarOrdenes}/>\r\n        </div>\r\n      )\r\n    }\r\n  ];\r\n};","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Dropdown, Table, DatePicker } from 'antd';\r\nimport { ExportOutlined, LoadingOutlined, ReloadOutlined, SearchOutlined } from '@ant-design/icons';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nimport { getOrdenes } from '../../../services/apiOrden';\r\nimport metodos from '../../../constants/metodos';\r\nimport columnasOrdenesLiquidadas from './columnas/columnasLiquidadas';\r\nimport { obtenerFiltroId, obtenerFiltroNombre } from '../../../libraries/obtenerFiltro';\r\nimport ModalRegistro from './ModalsTabla/ModalRegistro';\r\nimport ExcelOrdenesLiquidadas from '../../excelExports/ExcelOrdenesLiquidadas';\r\nimport columnasLiquidadasGestor from '../gestionarOrdenes/columnas/columnasLiquidadasGestor';\r\n\r\nconst { RangePicker } = DatePicker;\r\n\r\nfunction OrdenesLiquidadas({tipo, gestor}) {\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [dataRegistros, setDataRegistros] = useState([]);\r\n  const [ordenesSeleccionadas, setOrdenesSeleccionadas] = useState([]);\r\n  const [loadingActualizar, setLoadingActualizar] = useState(false)\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [loadingBuscar, setLoadingBuscar] = useState(false)\r\n  const [loadingExportar, setLoadingExportar] = useState(false);\r\n  const [loadingRegistro, setLoadingRegistro] = useState(false);\r\n  const [filtroDistrito, setFiltroDistrito] = useState([]);\r\n  const [filtroEstadoToa, setFiltroEstadoToa] = useState([]);\r\n  const [filtroEstadoGestor, setFiltroEstadoGestor] = useState([])\r\n  const [filtroContrata, setFiltroContrata] = useState([]);\r\n  const [filtroGestor, setFiltroGestor] = useState([]);\r\n  const [filtroTecnico, setFiltroTecnico] = useState([]);\r\n  const [filtroTecnologia, setFiltroTecnologia] = useState([]);\r\n  const [filtroNodo, setFiltroNodo] = useState([]);\r\n  const [filtroCtr, setFiltroCtr] = useState([]);\r\n  const [filtroTimeSlot, setFiltroTimeSlot] = useState([]);\r\n  const [modalRegistro, setModalRegistro] = useState(false);\r\n  const [fechaInicio, setFechaInicio] = useState(null);\r\n  const [fechaFin, setFechaFin] = useState(null);\r\n\r\n  useEffect(() => {\r\n    listarOrdenes();\r\n  // eslint-disable-next-line\r\n  },[]);\r\n\r\n  async function listarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    setLoadingActualizar(true);\r\n    setOrdenesSeleccionadas([]);\r\n    await getOrdenes(true, { metodo: metodos.ORDENES_OBTENER_LIQUIDADAS, tipo, fechaInicio: null, fechaFin: null })\r\n      .then(({data}) => {\r\n        if (data && data.length > 0) {\r\n          generarFiltros(data);\r\n        } else { limpiarEstados() }\r\n      }).catch((err) => console.log(err)).finally(() => {setLoadingOrdenes(false); setLoadingActualizar(false)});\r\n  };\r\n\r\n  async function buscarOrdenes() {\r\n    if (fechaInicio && fechaFin) {\r\n      setLoadingOrdenes(true);\r\n      setLoadingBuscar(true);\r\n      setOrdenesSeleccionadas([]);\r\n      await getOrdenes(true, { metodo: metodos.ORDENES_OBTENER_LIQUIDADAS, tipo, fechaInicio, fechaFin })\r\n        .then(({data}) => {\r\n          if (data && data.length > 0) {\r\n            generarFiltros(data)\r\n          } else { limpiarEstados() }\r\n        }).catch((err) => console.log(err)).finally(() => {setLoadingOrdenes(false); setLoadingBuscar(false)});\r\n    } else {\r\n      cogoToast.warn('Debes seleccionar un rango de fechas.', { position: 'top-right' });\r\n    };\r\n  };\r\n\r\n  const abrirModalRegistro = () => setModalRegistro(!modalRegistro);\r\n\r\n  async function buscarRegistro(id_orden) {\r\n    setLoadingRegistro(true);\r\n    await getOrdenes( true, { metodo: null, id: id_orden })\r\n      .then(({data}) => {\r\n        if (data && data.length > 0) {\r\n          setDataRegistros(data);\r\n        }\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingRegistro(false));\r\n  };\r\n\r\n  const abrirRegistro = async (id) => {\r\n    abrirModalRegistro();\r\n    await buscarRegistro(id);\r\n  };\r\n\r\n  const seleccionarFechas = (e) => {\r\n    if (e) {\r\n      setFechaInicio(e[0].format('YYYY/MM/DD'));\r\n      setFechaFin(e[1].format('YYYY/MM/DD'));\r\n    } else {\r\n      setFechaInicio(null);\r\n      setFechaFin(null);\r\n    };\r\n  };\r\n\r\n  const limpiarEstados = () => {\r\n    setDataOrdenes([]);\r\n    setFiltroDistrito([]);\r\n    setFiltroEstadoToa([]);\r\n    setFiltroEstadoGestor([]);\r\n    setFiltroTecnologia([]);\r\n    setFiltroNodo([]);\r\n    setFiltroContrata([]);\r\n  };\r\n\r\n  const generarFiltros = (data) => {\r\n    setDataOrdenes(data);\r\n    setFiltroDistrito(obtenerFiltroNombre(data, 'distrito'));\r\n    setFiltroEstadoToa(obtenerFiltroNombre(data, 'estado_toa'));\r\n    setFiltroEstadoGestor(obtenerFiltroNombre(data, 'estado_gestor'));\r\n    setFiltroTecnologia(obtenerFiltroNombre(data, 'tipo_tecnologia'));\r\n    setFiltroNodo(obtenerFiltroNombre(data, 'codigo_nodo'));\r\n    setFiltroCtr(obtenerFiltroNombre(data, 'codigo_ctr'));\r\n    setFiltroTimeSlot(obtenerFiltroNombre(data, 'tipo_agenda'));\r\n    setFiltroContrata(obtenerFiltroId(data, 'contrata'));\r\n    setFiltroGestor(obtenerFiltroId(data, 'gestor', true));\r\n    setFiltroTecnico(obtenerFiltroId(data, 'tecnico_liquidado'));\r\n  };\r\n\r\n  const generarColumnas = () => {\r\n    if (gestor) {\r\n      return columnasLiquidadasGestor(\r\n        filtroDistrito,\r\n        filtroEstadoToa,\r\n        filtroEstadoGestor,\r\n        filtroContrata, \r\n        filtroTecnologia,\r\n        filtroNodo,\r\n        filtroCtr,\r\n        filtroTecnico,\r\n        filtroTimeSlot,\r\n        abrirRegistro,\r\n        listarOrdenes)\r\n    } else {\r\n      return columnasOrdenesLiquidadas(\r\n        tipo,\r\n        filtroDistrito,\r\n        filtroEstadoToa,\r\n        filtroEstadoGestor,\r\n        filtroContrata, \r\n        filtroGestor,\r\n        filtroTecnico,\r\n        filtroTecnologia,\r\n        filtroNodo,\r\n        filtroCtr,\r\n        filtroTimeSlot,\r\n        abrirRegistro,\r\n        listarOrdenes)\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={loadingActualizar ? <LoadingOutlined spin/>:<ReloadOutlined/>}\r\n          disabled={loadingActualizar}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={listarOrdenes}\r\n        >Actualizar</Button>\r\n        <Dropdown\r\n          overlay={<ExcelOrdenesLiquidadas tipo={gestor ? 'gestor' : tipo} setLoading={setLoadingExportar} ordenesSeleccionadas={ordenesSeleccionadas} fechaInicio={fechaInicio} fechaFin={fechaFin}/>} \r\n          placement=\"bottomLeft\" \r\n          trigger={['click']}\r\n          arrow\r\n        >\r\n          <Button\r\n            icon={loadingExportar ? <LoadingOutlined spin/>:<ExportOutlined/>}\r\n            style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n            disabled={loadingExportar}\r\n          >\r\n            Exportar\r\n          </Button>\r\n        </Dropdown>\r\n        <RangePicker onChange={seleccionarFechas} style={{ marginBottom: '1rem', marginRight: '.5rem' }} />\r\n        <Button\r\n          type=\"primary\"\r\n          icon={loadingBuscar ? <LoadingOutlined spin/>:<SearchOutlined/>}\r\n          disabled={loadingBuscar}\r\n          onClick={buscarOrdenes}\r\n        >\r\n          Buscar\r\n        </Button>\r\n      </div>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        rowSelection={{\r\n          columnWidth: 50,\r\n          selectedRowKeys: ordenesSeleccionadas,\r\n          onChange: (e) => setOrdenesSeleccionadas(e)\r\n        }}\r\n        columns={generarColumnas()}\r\n        dataSource={dataOrdenes}\r\n        loading={loadingOrdenes}\r\n        size=\"small\"\r\n        scroll={{ y: '65vh' }}\r\n        pagination={{\r\n          defaultPageSize: 50,\r\n          pageSizeOptions: [50,100,200]\r\n        }}\r\n      />\r\n      {/* MODAL DETALLE PARA VER EL HISTORIAL DE CAMBIOS */}\r\n      <ModalRegistro visible={modalRegistro} abrir={abrirModalRegistro} loading={loadingRegistro} registros={dataRegistros}/>\r\n    </div>\r\n  )\r\n};\r\n\r\nOrdenesLiquidadas.propTypes = {\r\n  tipo: PropTypes.string,\r\n  gestor: PropTypes.bool\r\n};\r\n\r\nexport default OrdenesLiquidadas;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Input } from 'antd';\r\nimport { LoadingOutlined, ReloadOutlined, UserSwitchOutlined } from '@ant-design/icons';\r\n\r\nimport TablaOrdenes from './TablaOrdenes';\r\nimport ModalRegistro from '../administrarOrdenes/ModalsTabla/ModalRegistro';\r\nimport ModalInfancia from '../administrarOrdenes/ModalsTabla/ModalInfancia';\r\nimport ModalReiterada from '../administrarOrdenes/ModalsTabla/ModalReiterada';\r\nimport { getOrdenes, patchOrdenes } from '../../../services/apiOrden';\r\nimport { ordenes, ordenes as ordenesMetodo } from '../../../constants/metodos';\r\nimport ModalAsignar from '../administrarOrdenes/ModalsTabla/ModalAsignar';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction OrdenesSinAsignar({gestores=[], tecnicos=[]}) {\r\n  const [listaOrdenes, setListaOrdenes] = useState([]);\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [dataRegistros, setDataRegistros] = useState([]);\r\n  const [dataInfancia, setDataInfancia] = useState([]);\r\n  const [ordenesSeleccionadas, setOrdenesSeleccionadas] = useState([]);\r\n  const [loadingRegistro, setLoadingRegistro] = useState(false);\r\n  const [loadingAsignar, setLoadingAsignar] = useState(false);\r\n  const [modalReiterada, setModalReiterada] = useState(false);\r\n  const [modalInfancia, setModalInfancia] = useState(false);\r\n  const [modalRegistro, setModalRegistro] = useState(false);\r\n  const [modalAsignar, setModalAsignar] = useState(false);\r\n  const [codigoCliente, setCodigoCliente] = useState(null);\r\n\r\n  useEffect(() => {\r\n    listarOrdenes()\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (listaOrdenes.length>0) {\r\n      setDataOrdenes(listaOrdenes);\r\n    }\r\n  // eslint-disable-next-line\r\n  },[listaOrdenes]);\r\n\r\n  async function listarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    return await getOrdenes(true, { metodo: ordenesMetodo.ORDENES_HOY_GESTOR, todo: false })\r\n      .then(({data}) => {\r\n        if(data) setListaOrdenes(data);\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingOrdenes(false));\r\n  };\r\n\r\n  async function buscarInfancia(infancia) {\r\n    setDataInfancia([infancia]);\r\n  };\r\n\r\n  async function buscarRegistro(id_orden) {\r\n    setLoadingRegistro(true);\r\n    await getOrdenes( true, { metodo: ordenesMetodo.BUSCAR_REGISTROS, id: id_orden })\r\n      .then(({data}) => {\r\n        if (data && data.length > 0) {\r\n          setDataRegistros(data);\r\n        }\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingRegistro(false));\r\n  };\r\n\r\n  const abrirModalReiterada = () => setModalReiterada(!modalReiterada);\r\n  const abrirModalInfancia = () => setModalInfancia(!modalInfancia);\r\n  const abrirModalRegistro = () => setModalRegistro(!modalRegistro);\r\n  const abrirModalAsignar = () => setModalAsignar(!modalAsignar);\r\n \r\n  const abrirReiterada = (c) => {\r\n    setCodigoCliente(c);\r\n    abrirModalReiterada();\r\n  };\r\n\r\n  const abrirInfancia = async (id) => {\r\n    abrirModalInfancia();\r\n    await buscarInfancia(id);\r\n  };\r\n\r\n  const abrirRegistro = async (id) => {\r\n    abrirModalRegistro();\r\n    await buscarRegistro(id);\r\n  };\r\n\r\n  async function asignarOrdenes(data) {\r\n    if (ordenesSeleccionadas && ordenesSeleccionadas.length > 0) {\r\n      const auxData = data;\r\n      setLoadingAsignar(true);\r\n      abrirModalAsignar();\r\n      await patchOrdenes({\r\n        metodo: ordenes.ASIGNAR_ORDEN, ordenes: ordenesSeleccionadas, ...auxData\r\n      }).then(async() => await listarOrdenes()).catch((err) => console.log(err)).finally(() => setLoadingAsignar(false));\r\n    } else {\r\n      cogoToast.warn('No hay ordenes seleccionadas.', { position: 'top-right' })\r\n    }\r\n  };\r\n\r\n  function buscarRequerimiento(e) {\r\n    if (e && e.length > 1) {\r\n      setDataOrdenes(listaOrdenes.filter((o) => String(o.codigo_requerimiento).includes(e)))\r\n    } else {\r\n      setDataOrdenes(listaOrdenes);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginBottom: '.5rem', marginTop: '1rem' }}>\r\n      <div>\r\n        <Button \r\n          type=\"primary\"\r\n          icon={loadingOrdenes ? <LoadingOutlined spin/>:<ReloadOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={listarOrdenes}\r\n        >Actualizar</Button>\r\n        <Button \r\n          icon={loadingAsignar ? <LoadingOutlined spin/>:<UserSwitchOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          disabled={ordenesSeleccionadas.length === 0}\r\n          onClick={abrirModalAsignar}\r\n        >Asignar</Button>  \r\n        <Search\r\n          placeholder=\"Requerimiento...\" \r\n          onSearch={buscarRequerimiento} \r\n          style={{ width: 180, marginRight: '.5rem' }} \r\n          allowClear \r\n        />      \r\n      </div>\r\n      <TablaOrdenes\r\n        data={dataOrdenes} \r\n        loading={loadingOrdenes} \r\n        ordenesSeleccionadas={ordenesSeleccionadas} \r\n        setOrdenesSeleccionadas={setOrdenesSeleccionadas}\r\n        abrirReiterada={abrirReiterada}\r\n        abrirInfancia={abrirInfancia}\r\n        abrirRegistro={abrirRegistro}\r\n      />\r\n      {/* MODAL PARA ASIGNAR CONTRATA, GESTOR O TECNICO */}\r\n      <ModalAsignar tipo={true} visible={modalAsignar} abrir={abrirModalAsignar} gestores={gestores} tecnicos={tecnicos} asignar={asignarOrdenes}/>\r\n      {/* MODAL PARA BUSCAR LA REITERADA */}\r\n      <ModalReiterada visible={modalReiterada} abrir={abrirModalReiterada} codigo_cliente={codigoCliente}/>\r\n      {/* MODAL PARA BUSCAR LA INFANCIA */}\r\n      <ModalInfancia visible={modalInfancia} abrir={abrirModalInfancia} loading={false} orden={dataInfancia} />\r\n      {/* MODAL DETALLE PARA VER EL HISTORIAL DE CAMBIOS */}\r\n      <ModalRegistro visible={modalRegistro} abrir={abrirModalRegistro} loading={loadingRegistro} registros={dataRegistros}/>\r\n    </div>\r\n  )\r\n};\r\n\r\nOrdenesSinAsignar.propTypes = {\r\n  gestores: PropTypes.array,\r\n  tecnicos: PropTypes.array,\r\n  loadingTecnicos: PropTypes.bool\r\n};\r\n\r\nexport default OrdenesSinAsignar;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Tabs } from 'antd';\r\nimport { CheckCircleOutlined, UnorderedListOutlined, InfoCircleOutlined } from '@ant-design/icons';\r\n\r\nimport Contenedor from '../../../components/common/Contenedor';\r\nimport TituloVista from '../../../components/common/TituloContent';\r\nimport OrdenesPendientesGestor from '../../../components/operativa/gestionarOrdenes/OrdenesPendientesGestor';\r\nimport metodos from '../../../constants/metodos';\r\nimport { getEmpleados } from '../../../services/apiEmpleado';\r\nimport OrdenesLiquidadas from '../../../components/operativa/administrarOrdenes/OrdenesLiquidadas';\r\nimport OrdenesSinAsignar from '../../../components/operativa/gestionarOrdenes/OrdenesSinAsignar';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function ListaOrdenes() {\r\n  const [listaGestores, setListaGestores] = useState([]);\r\n  const [listaTecnicos, setListaTecnicos] = useState([]);\r\n\r\n  useEffect(() => {\r\n    cargarGestores();\r\n    cargarTecnicos();\r\n  }, []);\r\n\r\n  async function cargarGestores() {\r\n    await getEmpleados(false, { metodo: metodos.EMPLEADOS_LISTAR_GESTORES })\r\n      .then(({data}) => setListaGestores(data ? data : []))\r\n      .catch((err) => console.log(err))\r\n  };\r\n\r\n  async function cargarTecnicos() {\r\n    return await getEmpleados(false, { metodo: metodos.EMPLEADOS_LISTAR_TECNICOS })\r\n      .then(({data}) => {\r\n        if(data) setListaTecnicos(data);\r\n      }).catch((err) => console.log(err))\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TituloVista titulo=\"Lista de Ordenes\" subtitulo=\"Gestionar Ordenes\"/>\r\n      <Contenedor>\r\n        <Tabs style={{paddingLeft: '1rem'}} animated={false}>\r\n          <TabPane\r\n            tab={\r\n              <span>\r\n                <UnorderedListOutlined />\r\n                Ordenes Pendientes\r\n              </span>\r\n            }\r\n            key=\"1\"\r\n          >\r\n            <OrdenesPendientesGestor gestores={listaGestores} tecnicos={listaTecnicos}/>\r\n          </TabPane>\r\n          <TabPane\r\n            tab={\r\n              <span>\r\n                <CheckCircleOutlined/>\r\n                Ordenes Liquidadas\r\n              </span>\r\n            }\r\n            key=\"2\"\r\n          >\r\n            <OrdenesLiquidadas tipo={null} gestor={true}/>\r\n          </TabPane>\r\n          <TabPane\r\n            tab={\r\n              <span>\r\n                <InfoCircleOutlined/>\r\n                Ordenes Sin Asignar\r\n              </span>\r\n            }\r\n            key=\"3\"\r\n          >\r\n            <OrdenesSinAsignar gestores={listaGestores} tecnicos={listaTecnicos}/>\r\n          </TabPane>\r\n        </Tabs>\r\n      </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","import { rutas } from '../../constants/listaRutas';\r\nimport GestionarAsistencia from \"../../views/Operativa/GestionarAsistencia\";\r\nimport ListaOrdenes from \"../../views/Operativa/Gestionar/ListaOrdenes\";\r\n\r\nconst array = [\r\n  {\r\n    path: rutas.gestionarAsistencia,\r\n    exact: true,\r\n    component: GestionarAsistencia\r\n  },\r\n  {\r\n    path: rutas.gestionarListaOrdenes,\r\n    exact: true,\r\n    component: ListaOrdenes\r\n  }\r\n]\r\n\r\nexport default array","import React from 'react';\r\n\r\nimport TituloContent from '../../components/common/TituloContent';\r\nimport Contenedor from '../../components/common/Contenedor';\r\nimport TablaAsistenciaCargo from '../../components/operativa/listaRutas/asistencias/TablaAsistenciaCargo';\r\n\r\nexport default function Asistencias() {\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Lista de Rutas\" subtitulo=\"Operativa\"/>\r\n      <Contenedor>\r\n        <TablaAsistenciaCargo gestor={true}/>\r\n      </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","import * as XLSX from 'xlsx';\r\n\r\nexport default async function convertirExcel(excel){\r\n  return new Promise(\r\n    function(resolve, reject) {\r\n      try {\r\n        const reader = new FileReader();\r\n        const rABS = !!reader.readAsBinaryString;\r\n\r\n        reader.onload = (event) => {\r\n          let bstr = event.target.result;\r\n          const wb = XLSX.read(bstr, { type: rABS ? 'binary' : 'array', bookVBA : true });\r\n          /* Get first worksheet */\r\n          const wsname = wb.SheetNames[0];\r\n          const ws = wb.Sheets[wsname];\r\n          /* Convert array of arrays */\r\n          const data = XLSX.utils.sheet_to_json(ws);\r\n\r\n          let a = [];\r\n\r\n          data.map((objeto) => {\r\n            return a.push(\r\n              Object.keys(objeto).reduce((c, k) => (\r\n                // eslint-disable-next-line\r\n                c[k.trim().toLowerCase()] = objeto[k], c\r\n              ), {})\r\n            );\r\n          });\r\n          return resolve(a);                   \r\n        }\r\n\r\n        if (rABS) {\r\n          reader.readAsBinaryString(excel);\r\n        } else {\r\n          reader.readAsArrayBuffer(excel);\r\n        }\r\n\r\n      } catch (error) {\r\n        return reject(error)\r\n      }\r\n    }\r\n  );\r\n}","import moment from 'moment';\r\n\r\nexport function numeroFecha(numeroDeDias, utc){\r\n  var diasDesde1900 = 25567 + 2;\r\n  // 86400 es el número de segundos en un día, luego multiplicamos por 1000 para obtener milisegundos.\r\n  let fecha = new Date((numeroDeDias - diasDesde1900) * 86400 * 1000);\r\n  //false para los valores que de frente suban\r\n  //true para los valores que necesitan tratamiento\r\n  if (utc) {\r\n    return fecha;\r\n  } else {\r\n    return (new Date(fecha.setHours(fecha.getHours() + 5)))\r\n  }\r\n};\r\n\r\n/**\r\n * @param {Date} fecha \r\n * @param {string} hora \r\n */\r\nexport function unirHoraFecha(fecha, hora) {\r\n  if (!Number(fecha)) {\r\n    return null;\r\n  }\r\n  let dia = moment(fecha).format('DD');\r\n  let mes = moment(fecha).format('MM');\r\n  let anio = moment(fecha).format('YYYY');\r\n  let fechaCompleta = new Date(anio + '-' + mes + '-' + dia + `T${hora}.000Z`);\r\n\r\n  return new Date(fechaCompleta.setHours(fechaCompleta.getHours() + 5));\r\n}","import { numeroFecha } from '../numeroFecha';\r\nimport isEmpty from 'is-empty';\r\n\r\nimport { averias, averiasDireccion, hfcLiquidadas, codigosLiquidadasEfectivas, codigosLiquidadasInefectivas, codigosLiquidadasNoCorresponde } from '../../constants/valoresOrdenes';\r\nimport { tipoOrdenes } from '../../constants/tipoOrden';\r\n\r\n// const codctrArray = [\"470\",\"476\"] ;\r\n\r\nexport async function pendientesAverias(ordenes=[]){\r\n  // eslint-disable-next-line\r\n  const promises = ordenes.map(function(orden, indice){\r\n      \r\n    let verificado = true;\r\n    let direccion = '';\r\n\r\n    //distrito\r\n    if (isEmpty(String(orden[averias[0].cabecera]).trim())) {verificado = false};\r\n    //requerimiento\r\n    if (isNaN(orden[averias[1].cabecera]) && isNaN(orden[averias[1].cabecera_2])) {verificado = false};\r\n\r\n    const valores = {\r\n      key: indice,\r\n      verificado,\r\n      tipo: tipoOrdenes.AVERIAS,\r\n    };\r\n\r\n    averias.forEach((v) => {\r\n      if (v.cabecera_2) {\r\n        if (orden[v.cabecera] !== undefined && orden[v.cabecera] !== null) {\r\n          valores[v.propiedad] = v.fecha ? numeroFecha(orden[v.cabecera]) : String(orden[v.cabecera]).replace(/,/g, '')\r\n        } else if (orden[v.cabecera_2] !== undefined && orden[v.cabecera_2] !== null) {\r\n          valores[v.propiedad] = v.fecha ? numeroFecha(orden[v.cabecera_2]) : String(orden[v.cabecera_2]).replace(/,/g, '')\r\n        };\r\n      } else {\r\n        if (orden[v.cabecera] !== undefined && orden[v.cabecera] !== null) {\r\n          valores[v.propiedad] = v.fecha ? numeroFecha(orden[v.cabecera]) : String(orden[v.cabecera]).replace(/,/g, '')\r\n        };\r\n      };\r\n    });\r\n\r\n    averiasDireccion.forEach((d) => {\r\n      if (orden[d.cabecera] !== undefined && orden[d.cabecera] !== null) {\r\n        direccion = direccion + d.espacio + orden[d.cabecera]\r\n      };\r\n    })\r\n    \r\n    valores.direccion = String(direccion).substr(1);\r\n    \r\n    return (valores);\r\n  });\r\n  // eslint-disable-next-line\r\n  return Promise.all(promises).catch((err) => {\r\n    console.log('Error en la promesa');\r\n    console.log(err);\r\n    return err;\r\n  })\r\n};\r\n\r\nexport async function liquidadasAverias(ordenes=[], tecnicos=[]){\r\n  const promises = ordenes.map((orden, indice) => {\r\n    let verificado = true;\r\n    let tecnico = null;\r\n    let efectivas = codigosLiquidadasEfectivas.includes(String(orden['tipave']));\r\n    let inEfectivas = codigosLiquidadasInefectivas.includes(String(orden['tipave']));\r\n    let noCorresponde = codigosLiquidadasNoCorresponde.includes(String(orden['tipave']));\r\n\r\n    if (isNaN(orden[averias[1].cabecera]) && isNaN(orden[averias[1].cabecera_2])) { verificado = false};\r\n    if (String(orden['codtecliq']).trim().length === 6) {\r\n      let iTecnico = tecnicos.findIndex((t) => t.carnet === orden['codtecliq']);\r\n      if (iTecnico > 0) {\r\n        tecnico = tecnicos[iTecnico]._id\r\n      };\r\n    };\r\n\r\n    const valores = {\r\n      key: indice,\r\n      verificado,\r\n      tipo_liquidacion: orden['edoxot'],\r\n      tecnico_liquidado: tecnico,\r\n      estado_liquidado: efectivas ? 'efectiva' : inEfectivas ? 'inefectiva' : noCorresponde ? 'no_corresponde' : '-',\r\n    };\r\n    \r\n    hfcLiquidadas.forEach((v) => {\r\n      if (v.cabecera_2) {\r\n        if (orden[v.cabecera] !== undefined && orden[v.cabecera] !== null) {\r\n          valores[v.propiedad] = v.fecha ? numeroFecha(orden[v.cabecera]) : orden[v.cabecera]\r\n        } else if (orden[v.cabecera_2] !== undefined && orden[v.cabecera_2] !== null) {\r\n          valores[v.propiedad]= v.fecha ? numeroFecha(orden[v.cabecera_2]) : orden[v.cabecera_2]\r\n        };\r\n      } else {\r\n        if (orden[v.cabecera] !== undefined && orden[v.cabecera] !== null) {\r\n          valores[v.propiedad]= v.fecha ? numeroFecha(orden[v.cabecera]) : orden[v.cabecera]\r\n        };\r\n      };\r\n    });\r\n\r\n    \r\n    return (valores);\r\n  });\r\n\r\n  return Promise.all(promises).catch((err) => {\r\n    console.log('Error en la promesa');\r\n    console.log(err);\r\n    return err;\r\n  })\r\n};","import { numeroFecha, unirHoraFecha } from '../numeroFecha';\r\nimport isEmpty from 'is-empty';\r\n\r\nimport { altas, hfcLiquidadas, codigosLiquidadasEfectivas, codigosLiquidadasInefectivas, codigosLiquidadasNoCorresponde } from '../../constants/valoresOrdenes';\r\nimport { nodosLiteyca, tipoOrdenes } from '../../constants/tipoOrden';\r\n\r\n// const codctrArray = [\"470\",\"476\"] ;\r\n\r\nexport async function pendientesAltas(ordenes=[]){\r\n  // eslint-disable-next-line\r\n  const promises = ordenes\r\n  .filter((e) => nodosLiteyca.includes(e['codnod']))\r\n  .map(function(orden, indice){\r\n      \r\n    let verificado = true;\r\n    //distrito\r\n    if (\r\n      isEmpty(String(orden[altas[0].cabecera]).trim()) &&\r\n      isEmpty(String(orden[altas[0].cabecera_2]).trim()) &&\r\n      isEmpty(String(orden[altas[0].cabecera_3]).trim())\r\n    ) {verificado = false};\r\n    //requerimiento\r\n    if (isNaN(orden[altas[1].cabecera]) && isNaN(orden[altas[1].cabecera_2]) && isNaN(orden[altas[1].cabecera_3])) {verificado = false};\r\n\r\n    const valores = {\r\n      key: indice,\r\n      verificado,\r\n      tipo: tipoOrdenes.ALTAS,\r\n    };\r\n\r\n    altas.forEach((v) => {\r\n      if (orden[v.cabecera] !== undefined && orden[v.cabecera] !== null) {\r\n        valores[v.propiedad] = v.fecha ? numeroFecha(orden[v.cabecera]) : String(orden[v.cabecera]).replace(/,/g, '')\r\n      } else if (orden[v.cabecera_2] !== undefined && orden[v.cabecera_2] !== null) {\r\n        if (v.fecha) {\r\n          valores[v.propiedad] = unirHoraFecha(numeroFecha(orden[v.cabecera_2]), orden[v.hora]);\r\n        } else {\r\n          valores[v.propiedad] = String(orden[v.cabecera_2]).replace(/,/g, '');\r\n        }\r\n      } else if (orden[v.cabecera_3] !== undefined && orden[v.cabecera_3] !== null) {\r\n        if (v.fecha) {\r\n          valores[v.propiedad] = unirHoraFecha(numeroFecha(orden[v.cabecera_3]), orden[v.hora]);\r\n        } else {\r\n          valores[v.propiedad] = String(orden[v.cabecera_3]).replace(/,/g, '');\r\n        }\r\n      }\r\n    });\r\n    \r\n    return (valores);\r\n  });\r\n  // eslint-disable-next-line\r\n  return Promise.all(promises).catch((err) => {\r\n    console.log('Error en la promesa');\r\n    console.log(err);\r\n    return err;\r\n  })\r\n};\r\n\r\nexport async function liquidadasAltas(ordenes=[], tecnicos=[]){\r\n  const promises = ordenes\r\n  .filter((e) => nodosLiteyca.includes(e['codnod']))\r\n  .filter((e) => e['edoxot'])\r\n  .map((orden, indice) => {\r\n\r\n    let verificado = true;\r\n    let tecnico = null;\r\n    let efectivas = codigosLiquidadasEfectivas.includes(orden['tipave']);\r\n    let inEfectivas = codigosLiquidadasInefectivas.includes(orden['tipave']);\r\n    let noCorresponde = codigosLiquidadasNoCorresponde.includes(orden['tipave']);\r\n\r\n    if (isNaN(orden[altas[1].cabecera]) && isNaN(orden[altas[1].cabecera_2]) && isNaN(orden[altas[1].cabecera_3])) { verificado = false};\r\n    if (String(orden['codtecliq']).trim().length === 6) {\r\n      let iTecnico = tecnicos.findIndex((t) => t.carnet === orden['codtecliq']);\r\n      if (iTecnico > 0) {\r\n        tecnico = tecnicos[iTecnico]._id\r\n      };\r\n    };\r\n\r\n    const valores = {\r\n      key: indice,\r\n      verificado,\r\n      tipo_liquidacion: orden['edoxot'],\r\n      tecnico_liquidado: tecnico,\r\n      estado_liquidado: efectivas ? 'efectiva' : inEfectivas ? 'inefectiva' : noCorresponde ? 'no_corresponde' : '-',\r\n    };\r\n\r\n    hfcLiquidadas.forEach((v) => {\r\n      if (v.cabecera_2 || v.cabecera_3) {\r\n        if (orden[v.cabecera] !== undefined && orden[v.cabecera] !== null) {\r\n          valores[v.propiedad] = v.fecha ? numeroFecha(orden[v.cabecera]) : orden[v.cabecera]\r\n        } else if (orden[v.cabecera_2] !== undefined && orden[v.cabecera_2] !== null) {\r\n          valores[v.propiedad]= v.fecha ? numeroFecha(orden[v.cabecera_2]) : orden[v.cabecera_2]\r\n        } else if (orden[v.cabecera_3] !== undefined && orden[v.cabecera_3] !== null) {\r\n          valores[v.propiedad]= v.fecha ? numeroFecha(orden[v.cabecera_3]) : orden[v.cabecera_3]\r\n        };;\r\n      } else {\r\n        if (orden[v.cabecera] !== undefined && orden[v.cabecera] !== null) {\r\n          valores[v.propiedad]= v.fecha ? numeroFecha(orden[v.cabecera]) : orden[v.cabecera]\r\n        };\r\n      };\r\n    });\r\n\r\n    \r\n    return (valores);\r\n  });\r\n\r\n  return Promise.all(promises).catch((err) => {\r\n    console.log('Error en la promesa');\r\n    console.log(err);\r\n    return err;\r\n  })\r\n}","import { tipoOrdenes } from '../../constants/tipoOrden';\r\nimport { pendientesAverias, liquidadasAverias } from './asignarAverias';\r\nimport { pendientesAltas, liquidadasAltas } from './asignarAltas';\r\n\r\nexport default async function asignarValores(obj, tipo, estado, tecnicos) {\r\n  switch (tipo) {\r\n    case tipoOrdenes.AVERIAS:\r\n      if (estado === 1) {\r\n        return await pendientesAverias(obj);\r\n      } else if(estado === 2) {\r\n        return await liquidadasAverias(obj, tecnicos);   \r\n      } else {\r\n        return [];\r\n      }\r\n    case tipoOrdenes.ALTAS:\r\n      if (estado === 1) {\r\n        return await pendientesAltas(obj);\r\n      } else {\r\n        return await liquidadasAltas(obj, tecnicos);   \r\n      }\r\n    default:\r\n      break;\r\n  }\r\n}","/**\r\n * @param {array} data array con los objetos a afragmentar\r\n * @param {number} cantidad cantidad en la que se quiere fragmentar\r\n */\r\nexport default async function fragmentarArray(data=[], cantidad) {\r\n  if (!data && data.length < 0) {\r\n    return [];\r\n  } else {\r\n    let inicio = 0;\r\n    let cantidadAux = cantidad;\r\n    let dataAux = data;\r\n    let resultado = [];\r\n    while (dataAux.length > 0) {\r\n      resultado.push(data.slice(inicio, cantidadAux));\r\n      dataAux = dataAux.slice(0, -cantidad);\r\n      inicio = inicio + cantidad;\r\n      cantidadAux = cantidadAux + cantidad;\r\n    }\r\n\r\n   if (resultado.length > 0) {\r\n     return resultado.filter((e) => e && e.length > 0)\r\n   } else {\r\n     return [];\r\n   }\r\n  }\r\n};","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Col, Radio, Row, Statistic, Table, Tag, Upload } from 'antd';\r\nimport { UploadOutlined, SaveOutlined, LoadingOutlined } from '@ant-design/icons';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nimport variables from '../../../constants/config';\r\nimport convertirExcel from '../../../libraries/convertirExcel';\r\nimport asignarValores from '../../../libraries/asignarValores';\r\nimport { postOrdenes, putOrdenes } from '../../../services/apiOrden';\r\nimport metodos from '../../../constants/metodos';\r\nimport fragmentarArray from '../../../libraries/fragmentarArray';\r\n\r\nfunction ActualizarOrdenes({tipoOrden, tecnicos}) {\r\n  const [estadoOrden, setEstadoOrden] = useState(1)\r\n  const [estadoArchivo, setEstadoArchivo] = useState('done');\r\n  const [nombreArchivo, setNombreArchivo] = useState('');\r\n  const [ordenesObtenidas, setOrdenesObtenidas] = useState([]);\r\n  const [ordenesTotal, setOrdenesTotal] = useState(0);\r\n  const [ordenesFiltradas, setOrdenesFiltradas] = useState(0);\r\n  const [loadingButton, setLoadingButton] = useState(false);\r\n  const [resultado, setResultado] = useState([])\r\n\r\n  useEffect(() => {\r\n    setEstadoArchivo('done');\r\n    setNombreArchivo('');\r\n    setOrdenesObtenidas([]);\r\n    setOrdenesTotal(0);\r\n    setOrdenesFiltradas(0);\r\n    setResultado([]);\r\n  },[estadoOrden]);\r\n\r\n  async function enviarOrdenesPendientes(data, i) {\r\n    cogoToast.info(`Enviando paquetes de datos ${i}/${ordenesObtenidas.length} (500u.)...`, { position: 'top-right' });\r\n    return await postOrdenes({\r\n      metodo: metodos.ORDENES_SUBIR_DATA, \r\n      ordenes: data \r\n    }).then((res) => {\r\n      let resultadoAux = resultado;\r\n      let infoResponse = res && res.data ? res.data: {};\r\n      resultadoAux.push({\r\n        ...infoResponse,\r\n        id: Date.now(), \r\n        cantidad: data.length\r\n      })\r\n      setResultado(resultadoAux.filter(e => e))\r\n    }).catch((err) => console.log(err));;\r\n  };\r\n\r\n  async function enviarOrdenesLiquidadas(data, i) {\r\n    cogoToast.info(`Enviando paquetes de datos ${i}/${ordenesObtenidas.length} (500u.)...`, { position: 'top-right' });\r\n    await putOrdenes({\r\n      metodo: metodos.ORDENES_ACTUALIZAR_LIQUIDADAS, \r\n      ordenes: data \r\n    }).then((res) => {\r\n      let resultadoAux = resultado;\r\n      let infoResponse = res && res.data ? res.data: {};\r\n      resultadoAux.push({\r\n        ...infoResponse,\r\n        id: Date.now(), \r\n        cantidad: data.length\r\n      })\r\n      setResultado(resultadoAux.filter(e => e))\r\n    }).catch((err) => console.log(err));\r\n  };\r\n\r\n  async function guardarArchivo() {\r\n    if (ordenesObtenidas.length === 0) {\r\n      cogoToast.warn('No hay ordenes para subir.', { position: 'top-right' });\r\n    } else {\r\n      if (estadoOrden === 1) {\r\n        try {\r\n          setLoadingButton(true);\r\n          let index = 1;\r\n          for await ( let obj of ordenesObtenidas) {\r\n            await enviarOrdenesPendientes(obj, index)\r\n            index = index+1\r\n          };\r\n        } catch (error) {\r\n          cogoToast.error(\"Error en el cliente.\", { position: 'top-right' });\r\n          console.log(error);\r\n        } finally { setLoadingButton(false) }; \r\n      } else {\r\n        try {\r\n          setLoadingButton(true);\r\n          let index = 1;\r\n          for await ( let obj of ordenesObtenidas) {\r\n            await enviarOrdenesLiquidadas(obj, index);\r\n            index = index+1\r\n          };\r\n        } catch (error) {\r\n          cogoToast.error(\"Error en el cliente.\", { position: 'top-right' });\r\n          console.log(error);\r\n        } finally { setLoadingButton(false) };\r\n      };\r\n    }\r\n  };\r\n\r\n  function cargarArchivo(file) {\r\n    //actualizar el estado y el no mbre del archivo\r\n    setEstadoArchivo('uploading');\r\n    setNombreArchivo(file.name);\r\n    setResultado([]);\r\n    //validar si es un archivo excel\r\n    if (!variables.formatosAdmitidos.includes(file.type)) {\r\n      setEstadoArchivo('error');\r\n      cogoToast.warn('Formato Incorrecto.', { position: 'top-right' })\r\n      return false;\r\n    };\r\n    //convertir excel a json\r\n    convertirExcel(file).then(async(objJson) => {\r\n      //obtener los valores necesarios, actualizar estado y guardar\r\n      await asignarValores(objJson, tipoOrden, estadoOrden, tecnicos).then((data) => {\r\n        setOrdenesTotal(data.length);\r\n        return data.filter((e) => e.verificado)\r\n      }).then(async(data) => {\r\n        setEstadoArchivo('done');\r\n        setOrdenesObtenidas(await fragmentarArray(data, 500));\r\n        setOrdenesFiltradas(data.length);\r\n        cogoToast.success(`${data.length} Ordenes encontradas.`, {position: 'top-right'});\r\n      }).catch((err) => console.log(err, 'Error asignando valores'));\r\n    }).catch((err) => {\r\n      setEstadoArchivo('error');\r\n      cogoToast.error('Error convirtiendo el archivo', {position: 'top-right'})\r\n      console.log(err);\r\n    })\r\n    //evita enviar peticiones http\r\n    return false;\r\n  };\r\n\r\n  const removerArchivo = () => {\r\n    setNombreArchivo('');\r\n    setEstadoArchivo('done');\r\n    setOrdenesObtenidas([]);\r\n  };\r\n\r\n  const columnas = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Cantidad',\r\n      width: 100,\r\n      dataIndex: 'cantidad',\r\n      render: (o) => o ? <Tag color=\"blue\">{o}</Tag> : '-' \r\n    },\r\n    {\r\n      title: 'Nuevos',\r\n      width: 100,\r\n      dataIndex: 'nuevos',\r\n      render: (o) => o ? <Tag color=\"green\">{o}</Tag> : '-' \r\n    },\r\n    {\r\n      title: 'Actualizados',\r\n      width: 100,\r\n      dataIndex: 'actualizados',\r\n      render: (o) => o ? <Tag color=\"geekblue\">{o}</Tag> : '-' \r\n    },\r\n    {\r\n      title: 'Duplicados',\r\n      width: 100,\r\n      dataIndex: 'duplicados',\r\n      render: (o) => o ? <Tag color=\"warning\">{o}</Tag> : '-' \r\n    },\r\n    {\r\n      title: 'Errores',\r\n      width: 100,\r\n      dataIndex: 'errores',\r\n      render: (e) => e ? <Tag color=\"error\">{e}</Tag> : <Tag>-</Tag>\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <div>\r\n      <Row>\r\n        <Col sm={10} md={10} lg={12} xl={12} spellCheck>\r\n          <p>Tipo de Archivo:</p>\r\n          <Radio.Group onChange={(e) => setEstadoOrden(e.target.value)} value={estadoOrden}>\r\n            <Radio value={1}>\r\n              Pendientes\r\n            </Radio>\r\n            <Radio value={2}>\r\n              Liquidadas\r\n            </Radio>\r\n          </Radio.Group>\r\n          <div style={{width: '14rem', margin: '1rem 0', }}>\r\n            <Upload \r\n              accept=\".xls,.xlsx\"\r\n              beforeUpload={cargarArchivo}\r\n              onRemove={removerArchivo}\r\n              fileList={[{uid: '-1', name: nombreArchivo, status: estadoArchivo}]}\r\n            >\r\n              <Button>\r\n                <UploadOutlined />{` `}Subir Archivo\r\n              </Button>\r\n            </Upload>\r\n          </div>\r\n        </Col>\r\n        <Col sm={14} md={14} lg={12} xl={12}>\r\n          <Statistic title=\"Ordenes:\" value={ordenesFiltradas} suffix={`/ ${ordenesTotal}`}/>\r\n          <Button \r\n            disabled={loadingButton}\r\n            style={{ marginTop: '.5rem' }} \r\n            type=\"primary\" \r\n            icon={loadingButton ? <LoadingOutlined spin/> : <SaveOutlined/>}\r\n            onClick={guardarArchivo}\r\n          >\r\n            Guardar\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        rowKey=\"id\"\r\n        columns={columnas}\r\n        dataSource={resultado.filter((e) => e)}\r\n        pagination={false}\r\n        style={{ marginBottom: '1rem' }}\r\n        bordered\r\n      />\r\n    </div>\r\n  )\r\n};\r\n\r\nActualizarOrdenes.propTypes = {\r\n  tipoOrden: PropTypes.string,\r\n  tecnicos: PropTypes.array\r\n};\r\n\r\nexport default ActualizarOrdenes\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport { Tag } from 'antd';\r\n\r\nfunction TagDias({fecha}) {\r\n  let dias = moment().diff(fecha, 'days');\r\n  if (fecha && moment(fecha).isValid()){\r\n    return <Tag color={dias >= 3 ? 'error' : dias < 3 && dias >= 2 ? 'warning' : dias < 2 && dias >= 1 ? 'lime' : dias < 1 ? 'success' : ''}>{dias}</Tag>\r\n  } else {\r\n    return <Tag color=\"blue\">-</Tag>\r\n  };\r\n};\r\n\r\nTagDias.propTypes = {\r\n  fecha: PropTypes.any\r\n};\r\n\r\nexport default TagDias;\r\n\r\n","import React from 'react';\r\nimport { Tag, Tooltip, Typography } from 'antd';\r\nimport { PlusCircleTwoTone} from '@ant-design/icons'\r\nimport moment from 'moment';\r\n\r\nimport TagEstado from '../TagEstado';\r\nimport { tipoOrdenes } from '../../../../constants/tipoOrden';\r\nimport PopObservacion from './PopObservacion';\r\nimport TagHoras from '../../../common/TagHoras';\r\nimport { ordenesB2B } from '../../../../constants/valoresToa';\r\nimport TagDias from '../../../common/TagDias';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport default function ColumnasOrdenes({\r\n  tipo,\r\n  filtros={},\r\n  filtroDistrito=[],\r\n  filtroBucket=[],\r\n  filtroEstadoToa=[],\r\n  filtroEstadoGestor=[],\r\n  filtroContrata=[], \r\n  filtroGestorAsignado=[],\r\n  filtroTecnicoToa=[],\r\n  filtroTecnicoAsignado=[],\r\n  filtroTipoReq=[],\r\n  filtroTecnologia=[],\r\n  filtroNodo=[],\r\n  filtroTroba=[],\r\n  filtroPai=[],\r\n  filtroCtr=[],\r\n  filtroTimeSlot=[],\r\n  filtroObservacion=[],\r\n  filtroFechaCita=[],\r\n  abrirReiterada,\r\n  abrirInfancia,\r\n  abrirRegistro,\r\n  listarOrdenes,\r\n}) {\r\n\r\n  const columnasGeneral = [\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: '#',\r\n      width: 50,\r\n      fixed: 'left',\r\n      render: (_,__,i) => Number(i)+1\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Requerimiento',\r\n      dataIndex: 'codigo_requerimiento',\r\n      width: 140,\r\n      fixed: 'left',\r\n      render: (req, row) => {\r\n        if (row.subtipo_actividad && ordenesB2B.includes(row.subtipo_actividad)) {\r\n          return (\r\n            <Tag color=\"#108ee9\" style={{ fontSize: '1rem' }}>\r\n              <Text copyable strong style={{ color: '#ffffff !important' }}>{req}</Text>\r\n            </Tag>\r\n          )\r\n        } else {\r\n          return (<Text copyable strong>{req}</Text>)\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Orden Trabajo',\r\n      dataIndex: 'codigo_trabajo',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Peticion',\r\n      dataIndex: 'codigo_peticion',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Codigo Cliente',\r\n      dataIndex: 'codigo_cliente',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Tecnologia',\r\n      dataIndex: 'tipo_tecnologia',\r\n      align: 'center',\r\n      width: 120,\r\n      filteredValue: filtros && filtros.tipo_tecnologia ? filtros.tipo_tecnologia : null,\r\n      filters: filtroTecnologia ? filtroTecnologia : [{text: '', value: ''}],\r\n      onFilter: (v,r) => r.tipo_tecnologia.indexOf(v) === 0,\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'PAI',\r\n      dataIndex: 'indicador_pai',\r\n      width: 60,\r\n      aling: 'center',\r\n      filteredValue: filtros && filtros.indicador_pai ? filtros.indicador_pai : null,\r\n      filters: filtroPai ? filtroPai : [{text: '', value: ''}],\r\n      onFilter: (v,r) => String(r.indicador_pai).indexOf(String(v)) === 0,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'CTR',\r\n      dataIndex: 'codigo_ctr',\r\n      width: 60,\r\n      filteredValue: filtros && filtros.codigo_ctr ? filtros.codigo_ctr : null,\r\n      filters: filtroCtr ? filtroCtr : [{text: '', value: ''}],\r\n      onFilter: (v,r) => String(r.codigo_ctr).indexOf(String(v)) === 0,\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Tipo Req.',\r\n      dataIndex: 'tipo_requerimiento',\r\n      align:'center',\r\n      width: 100,\r\n      filteredValue: filtros && filtros.tipo_requerimiento ? filtros.tipo_requerimiento : null,\r\n      filters: filtroTipoReq ? filtroTipoReq : [{text: '', value: ''}],\r\n      onFilter: (v,r) => r.tipo_requerimiento.indexOf(v) === 0\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Nodo',\r\n      dataIndex: 'codigo_nodo',\r\n      width: 70,\r\n      filteredValue: filtros && filtros.codigo_nodo ? filtros.codigo_nodo : null,\r\n      filters: filtroNodo ? filtroNodo : [{text: '', value: ''}],\r\n      onFilter: (v,r) => r.codigo_nodo.indexOf(v) === 0,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Troba',\r\n      dataIndex: 'codigo_troba',\r\n      width: 90,\r\n      sorter: (a, b) => {\r\n        if (a.codigo_troba < b.codigo_troba) {\r\n          return -1;\r\n        }\r\n        if (a.codigo_troba > b.codigo_troba) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      filteredValue: filtros && filtros.codigo_troba ? filtros.codigo_troba : null,\r\n      filters: filtroTroba ? filtroTroba : [{text: '', value: ''}],\r\n      onFilter: (v,r) => r.codigo_troba.indexOf(v) === 0,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Reiterada',\r\n      dataIndex: 'numero_reiterada',\r\n      width: 100,\r\n      align: 'center',\r\n      sorter: (a,b) => a.numero_reiterada - b.numero_reiterada,\r\n      render: (r, obj) => {\r\n        if (r && r !== '0' && r !== '-') {\r\n          return <Tag color=\"#E5302F\" onClick={() => abrirReiterada(obj.codigo_cliente)} style={{ cursor: 'pointer' }}>{r}</Tag>\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Infancia',\r\n      dataIndex: 'infancia',\r\n      width: 90,\r\n      align: 'center',\r\n      filteredValue: filtros && filtros.infancia ? filtros.infancia : null,\r\n      filters: [{text: 'Si', value: true}, {text: 'No', value: false}],\r\n      onFilter: (v,r) => {\r\n        if (v) {\r\n          return r.infancia\r\n        } else {\r\n          return !r.infancia\r\n        }\r\n      },\r\n      render: (inf) => {\r\n        if (inf && inf.length > 0) {\r\n          return <Tag color=\"purple\" onClick={() => abrirInfancia(inf)} style={{ cursor: 'pointer' }}>Si</Tag>\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Cliente',\r\n      dataIndex: 'nombre_cliente',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (c) => (\r\n        <Tooltip placement=\"topLeft\" title={c}>\r\n          {c}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Distrito',\r\n      dataIndex: 'distrito',\r\n      width: 160,\r\n      filteredValue: filtros && filtros.distrito ? filtros.distrito : null,\r\n      filters: filtroDistrito ? filtroDistrito : [{text: '', value: ''}],\r\n      onFilter: (v,r) => r.distrito.indexOf(v) === 0\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Dirección',\r\n      dataIndex: 'direccion',\r\n      width: 250,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (g) => (\r\n        <Tooltip placement=\"topLeft\" title={g}>\r\n          {g}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Bucket',\r\n      dataIndex: 'bucket',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filteredValue: filtros && filtros.bucket ? filtros.bucket : null,\r\n      filters: filtroBucket ? filtroBucket : [{text: '', value: ''}],\r\n      onFilter: (v,r) => r.bucket.indexOf(v) === 0,\r\n      render: (bckt) => (\r\n        <Tooltip placement=\"topLeft\" title={bckt}>\r\n          {bckt}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Estado Toa',\r\n      dataIndex: 'estado_toa',\r\n      width: 150,\r\n      align: 'center',\r\n      filteredValue: filtros && filtros.estado_toa ? filtros.estado_toa : null,\r\n      filters: filtroEstadoToa ? filtroEstadoToa : [{text: '', value: ''}],\r\n      onFilter: (v,r) => r.estado_toa.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Estado Gestor',\r\n      dataIndex: 'estado_gestor',\r\n      width: 150,\r\n      align: 'center',\r\n      filteredValue: filtros && filtros.estado_gestor ? filtros.estado_gestor : null,\r\n      filters: filtroEstadoGestor ? filtroEstadoGestor : [{text: '', value: ''}],\r\n      onFilter: (v,r) => r.estado_gestor.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Contrata',\r\n      dataIndex: 'contrata',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filteredValue: filtros && filtros.contrata ? filtros.contrata : null,\r\n      filters: filtroContrata ? filtroContrata : [{text: '', value: ''}],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.contrata\r\n        } else if( r.contrata !== undefined) {\r\n          return r.contrata._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (c) => (\r\n        <Tooltip placement=\"topLeft\" title={c ? c.nombre:'-'}>\r\n          {c ? c.nombre:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Gestor Asignado',\r\n      dataIndex: 'gestor_liteyca',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filteredValue: filtros && filtros.gestor_liteyca ? filtros.gestor_liteyca : null,\r\n      filters: filtroGestorAsignado ? filtroGestorAsignado : [{text: '', value: ''}],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.gestor_liteyca\r\n        } else if(r.gestor_liteyca) {\r\n          return r.gestor_liteyca._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (g) => (\r\n        <Tooltip placement=\"topLeft\" title={g ? g.nombre+' '+g.apellidos:'-'}>\r\n          {g ? g.nombre+' '+g.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Tecnico Toa',\r\n      dataIndex: 'tecnico',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filteredValue: filtros && filtros.tecnico ? filtros.tecnico : null,\r\n      filters: filtroTecnicoToa ? filtroTecnicoToa : [{text: '', value: ''}],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.tecnico\r\n        } else if(r.tecnico) {\r\n          return r.tecnico._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t ? t.nombre+' '+t.apellidos:'-'}>\r\n          {t ? t.nombre+' '+t.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Tecnico Asignado',\r\n      dataIndex: 'tecnico_liteyca',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filteredValue: filtros && filtros.tecnico_liteyca ? filtros.tecnico_liteyca : null,\r\n      filters: filtroTecnicoAsignado ? filtroTecnicoAsignado : [{text: '', value: ''}],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.tecnico_liteyca\r\n        } else if(r.tecnico_liteyca) {\r\n          return r.tecnico_liteyca._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t ? t.nombre+' '+t.apellidos:'-'}>\r\n          {t ? t.nombre+' '+t.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Observacion Gestor',\r\n      dataIndex: 'observacion_gestor',\r\n      width: 250,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filteredValue: filtros && filtros.observacion_gestor ? filtros.observacion_gestor : null,\r\n      filters: filtroObservacion ? filtroObservacion : [{text: '', value: ''}],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.observacion_gestor\r\n        } else if(r.observacion_gestor) {\r\n          return String(r.observacion_gestor).toLowerCase().replace(/ /g, \"\").indexOf(String(v).toLowerCase().replace(/ /g, \"\")) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (o) => <Tooltip placement=\"topLeft\" title={o}>{o} </Tooltip>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Fecha Cita',\r\n      dataIndex: 'fecha_cita',\r\n      width: 150,\r\n      align: 'center',\r\n      filteredValue: filtros && filtros.fecha_cita ? filtros.fecha_cita : null,\r\n      filters: filtroFechaCita ? filtroFechaCita : [{text: '', value: ''}],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.fecha_cita\r\n        } else if(r.fecha_cita) {\r\n          return moment(r.fecha_cita).format('DD/MM/YY').toString().indexOf(String(v)) === 0;\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Fecha Asignado',\r\n      dataIndex: 'fecha_asignado',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Time Slot',\r\n      dataIndex: 'tipo_agenda',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      filteredValue: filtros && filtros.tipo_agenda ? filtros.tipo_agenda : null,\r\n      filters: filtroTimeSlot ? filtroTimeSlot.filter((e) => e.text) : [{text: '', value: ''}],\r\n      onFilter: (v,r) => {\r\n        if (r.tipo_agenda && v ) {\r\n          return r.tipo_agenda.indexOf(v) === 0;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      render: (ts) => {\r\n        if (ts) {\r\n          return <Tag color=\"#f50\">{ts}</Tag>\r\n        } else {\r\n          return;\r\n        }\r\n      }\r\n    },\r\n    {//tcfl 24h\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Horas',\r\n      dataIndex: 'fecha_registro',\r\n      width: 80,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      sorter: (a, b) => {\r\n        if (moment().diff(a.fecha_registro, 'hours') < moment().diff(b.fecha_registro, 'hours')) {\r\n          return -1;\r\n        }\r\n        if (moment().diff(a.fecha_registro, 'hours') > moment().diff(b.fecha_registro, 'hours')) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (fecha, row) => <TagHoras fecha={fecha} tipo={tipoOrdenes.AVERIAS} tipoAgenda={row.tipo_agenda}/>\r\n    },\r\n    {//tcfl 72h\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Dias',\r\n      dataIndex: 'fecha_asignado',\r\n      width: 80,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      sorter: (a, b) => {\r\n        if(!a.fecha_asignado) {\r\n          return -1\r\n        };\r\n        if(!b.fecha_asignado) {\r\n          return 1;\r\n        }\r\n        if (moment().diff(a.fecha_asignado, 'days') < moment().diff(b.fecha_asignado, 'days')) {\r\n          return -1;\r\n        }\r\n        if (moment().diff(a.fecha_asignado, 'days') > moment().diff(b.fecha_asignado, 'days')) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (fecha) => <TagDias fecha={fecha}/>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      render: (id, row) => (\r\n        <div>\r\n          <PlusCircleTwoTone\r\n            style={{ fontSize: '1.5rem', marginRight: '.5rem' }}\r\n            onClick={() => abrirRegistro(id)}\r\n          />\r\n          <PopObservacion row={row} listarOrdenes={listarOrdenes}/>\r\n        </div>\r\n      )\r\n    }\r\n  ]\r\n\r\n  const columnasAverias = columnasGeneral.filter(e => e.averias);\r\n\r\n  const columnasAltas = columnasGeneral.filter(e => e.altas);\r\n\r\n  switch (tipo) {\r\n    case tipoOrdenes.AVERIAS:\r\n      return columnasAverias;  \r\n    case tipoOrdenes.ALTAS:\r\n      return columnasAltas;\r\n    default:\r\n      break;\r\n  }\r\n};","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Input, Row, Statistic, Table } from 'antd';\r\n\r\n\r\nimport columnasOrdenes from './columnas/columnasOrdenes'\r\nimport { obtenerFiltroId, obtenerFiltroNombre, obtenerFiltroFecha } from '../../../libraries/obtenerFiltro';\r\nimport ModalDetalleOrden from './ModalsTabla/ModalDetalleOrden';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction TablaOrdenes({ filtros, setFiltros, tipo, data=[], loading, ordenesSeleccionadas, setOrdenesSeleccionadas, abrirReiterada, abrirInfancia, abrirRegistro, listarOrdenes }) {\r\n  const [dataTotal, setDataTotal] = useState([]);\r\n  const [filtroDistrito, setFiltroDistrito] = useState([]);\r\n  const [filtroBucket, setFiltroBucket] = useState([]);\r\n  const [filtroEstadoToa, setFiltroEstadoToa] = useState([]);\r\n  const [filtroEstadoGestor, setFiltroEstadoGestor] = useState([])\r\n  const [filtroContrata, setFiltroContrata] = useState([]);\r\n  const [filtroGestorAsignado, setFiltroGestorAsignado] = useState([]);\r\n  const [filtroTecnicoToa, setFiltroTecnicoToa] = useState([]);\r\n  const [filtroTecnicoAsignado, setFiltroTecnicoAsignado] = useState([]);\r\n  const [filtroTipoReq, setFiltroTipoReq] = useState([]);\r\n  const [filtroTecnologia, setFiltroTecnologia] = useState([]);\r\n  const [filtroNodo, setFiltroNodo] = useState([]);\r\n  const [filtroTroba, setFiltroTroba] = useState([]);\r\n  const [filtroPai, setFiltroPai] = useState([]);\r\n  const [filtroCtr, setFiltroCtr] = useState([]);\r\n  const [filtroObservacion, setFiltroObservacion] = useState([]);\r\n  const [filtroTimeSlot, setFiltroTimeSlot] = useState([]);\r\n  const [filtroFechaCita, setFiltroFechaCita] = useState([]);\r\n  const [idOrdenDetalle, setIdOrdenDetalle] = useState(null);\r\n  const [modalDetalle, setModalDetalle] = useState(false);\r\n  const [cantidadFiltrados, setCantidadFiltrados] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (data && data.length > 0) {\r\n      setDataTotal(data);\r\n      generarFiltros(data);\r\n    } else {\r\n      setDataTotal([]);\r\n    }\r\n  //eslint-disable-next-line\r\n  },[data]);\r\n\r\n  useEffect(() => {\r\n    if (!filtros) setCantidadFiltrados(0);\r\n  }, [filtros])\r\n\r\n  const abrirModalDetalle = () => setModalDetalle(!modalDetalle);\r\n\r\n  const abrirDetalle = (id) => {\r\n    setIdOrdenDetalle(id);\r\n    abrirModalDetalle();\r\n  };\r\n\r\n  const generarFiltros = (dataSource) => {\r\n    setCantidadFiltrados(dataSource.length)\r\n    setFiltroDistrito(obtenerFiltroNombre(dataSource, 'distrito'));\r\n    setFiltroBucket(obtenerFiltroNombre(dataSource, 'bucket'));\r\n    setFiltroEstadoToa(obtenerFiltroNombre(dataSource, 'estado_toa'));\r\n    setFiltroEstadoGestor(obtenerFiltroNombre(dataSource, 'estado_gestor'));\r\n    setFiltroTipoReq(obtenerFiltroNombre(dataSource, 'tipo_requerimiento'));\r\n    setFiltroTecnologia(obtenerFiltroNombre(dataSource, 'tipo_tecnologia'));\r\n    setFiltroNodo(obtenerFiltroNombre(dataSource, 'codigo_nodo'));\r\n    setFiltroTroba(obtenerFiltroNombre(dataSource, 'codigo_troba'));\r\n    setFiltroPai(obtenerFiltroNombre(dataSource, 'indicador_pai'));\r\n    setFiltroCtr(obtenerFiltroNombre(dataSource, 'codigo_ctr'));\r\n    setFiltroObservacion(obtenerFiltroNombre(dataSource, 'observacion_gestor'));\r\n    setFiltroTimeSlot(obtenerFiltroNombre(dataSource, 'tipo_agenda'));\r\n    setFiltroFechaCita(obtenerFiltroFecha(dataSource, 'fecha_cita'))\r\n    setFiltroContrata(obtenerFiltroId(dataSource, 'contrata'));\r\n    setFiltroGestorAsignado(obtenerFiltroId(dataSource, 'gestor_liteyca', true));\r\n    setFiltroTecnicoToa(obtenerFiltroId(dataSource, 'tecnico', true));\r\n    setFiltroTecnicoAsignado(obtenerFiltroId(dataSource, 'tecnico_liteyca', true));    \r\n  };\r\n\r\n  const onChangeTable = (_, filters, __, dataSource) => {\r\n    generarFiltros(dataSource.currentDataSource);\r\n    setFiltros(filters);\r\n  };\r\n\r\n  function buscarRequerimiento(e) {\r\n    if (e && e.length > 1) {\r\n      setDataTotal(data.filter((o) => String(o.codigo_requerimiento).includes(e)))\r\n    } else {\r\n      setDataTotal(data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Table\r\n        title={() => \r\n          <Search \r\n            placeholder=\"Requerimiento...\" \r\n            onSearch={buscarRequerimiento} \r\n            style={{ width: 180, marginRight: '0rem', marginBottom: '.5rem' }} \r\n            allowClear \r\n          />}\r\n        rowKey=\"_id\"\r\n        onRow={(record) => {\r\n          return {\r\n            onDoubleClick: () => abrirDetalle(record._id),\r\n          }\r\n        }}\r\n        rowSelection={{\r\n          columnWidth: 50,\r\n          selectedRowKeys: ordenesSeleccionadas,\r\n          onChange: (e) => setOrdenesSeleccionadas(e)\r\n        }}\r\n        onChange={onChangeTable}\r\n        columns={columnasOrdenes({\r\n          tipo, \r\n          filtros,\r\n          setFiltros,\r\n          filtroDistrito,\r\n          filtroBucket,\r\n          filtroEstadoToa,\r\n          filtroEstadoGestor,\r\n          filtroContrata,\r\n          filtroGestorAsignado,\r\n          filtroTecnicoToa,\r\n          filtroTecnicoAsignado,\r\n          filtroTipoReq,\r\n          filtroTecnologia,\r\n          filtroNodo,\r\n          filtroTroba,\r\n          filtroPai,\r\n          filtroCtr,\r\n          filtroTimeSlot,\r\n          filtroObservacion,\r\n          filtroFechaCita,\r\n          abrirReiterada, \r\n          abrirInfancia,\r\n          abrirRegistro,\r\n          listarOrdenes})\r\n        }\r\n        dataSource={dataTotal}\r\n        loading={loading}\r\n        size=\"small\"\r\n        scroll={{ y: '65vh' }}\r\n        pagination={{\r\n          defaultPageSize: 50,\r\n          pageSizeOptions: [50,100,200]\r\n        }}\r\n        footer={() => (\r\n          <Row gutter={16}>\r\n            <Col span={4}>\r\n              <Statistic title=\"Total\" value={data.length} />\r\n            </Col>\r\n            <Col span={12}>\r\n              <Statistic title=\"Total Filtradas\" value={cantidadFiltrados} />\r\n            </Col>\r\n          </Row>\r\n        )}\r\n      />\r\n      {/* MODAL DETALLE */}\r\n      <ModalDetalleOrden visible={modalDetalle} abrir={abrirModalDetalle} orden={idOrdenDetalle} tipo={tipo}/>\r\n    </div>\r\n  )\r\n};\r\n\r\nTablaOrdenes.propTypes = {\r\n  filtros: PropTypes.any,\r\n  setFiltros: PropTypes.func,\r\n  tipo: PropTypes.string,\r\n  data: PropTypes.array,\r\n  loading: PropTypes.bool,\r\n  ordenesSeleccionadas: PropTypes.array,\r\n  setOrdenesSeleccionadas: PropTypes.func,\r\n  abrirReiterada: PropTypes.func,\r\n  abrirDetalle: PropTypes.func,\r\n  listarOrdenes: PropTypes.func\r\n};\r\n\r\nexport default TablaOrdenes\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Select, Input, DatePicker, Button } from 'antd';\r\nimport moment from 'moment';\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nfunction ModalAgendar({visible, abrir, buckets=[], contratas=[], gestores=[], agendar}) {\r\n  const [bucketSeleccionado, setBucketSeleccionado] = useState(null);\r\n  const [contrataSeleccionada, setContrataSeleccionada] = useState(null);\r\n  const [gestorSeleccionado, setGestorSeleccionado] = useState(null);\r\n  const [fechaCita, setFechaCita] = useState(null);\r\n  const [observacion, setObservacion] = useState(null);\r\n  const [loadingAgendar, setLoadingAgendar] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setBucketSeleccionado(null);\r\n    setContrataSeleccionada(null);\r\n    setGestorSeleccionado(null);\r\n    setFechaCita(null);\r\n    setObservacion(null);\r\n  }, [])\r\n\r\n  const agendarOrden = async () => {\r\n    if (fechaCita) {\r\n      setLoadingAgendar(true)\r\n      await agendar(bucketSeleccionado, contrataSeleccionada, gestorSeleccionado, fechaCita, observacion);\r\n      setLoadingAgendar(false);\r\n      abrir();\r\n    }\r\n  };\r\n\r\n  const cambiarFecha = (fecha) => {\r\n    if (fecha) {\r\n      setFechaCita(fecha.utc().format('YYYY-MM-DD HH:mm'))\r\n    } else {\r\n      setFechaCita(null);\r\n    };\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Agendar Orden\"\r\n      width={400}\r\n      visible={visible}\r\n      onCancel={abrir}\r\n      onOk={agendarOrden}\r\n      confirmLoading\r\n      destroyOnClose\r\n      centered\r\n      footer={[\r\n        <Button key=\"back\" onClick={abrir}>\r\n          Cancelar\r\n        </Button>,\r\n        <Button disabled={!fechaCita ? true : false} key=\"submit\" type=\"primary\" loading={loadingAgendar} onClick={agendarOrden}>\r\n          Aceptar\r\n        </Button>,\r\n      ]}\r\n    >\r\n      {/* <Select\r\n        placeholder=\"Seleccionar Contrata\"\r\n        style={{ width: 300, marginBottom: '.5rem' }}\r\n        onChange={(e) => setContrataSeleccionada(e)}\r\n        defaultValue={contrataSeleccionada}\r\n      >\r\n      {\r\n        contratas && contratas.length > 0 ? \r\n        contratas.map((c, i) => (\r\n          <Option value={c._id} key={i}>{c.nombre}</Option>\r\n        ))\r\n        :\r\n        <Option>Sin data</Option>\r\n      }\r\n      </Select> */}\r\n      <Select\r\n        showSearch\r\n        placeholder=\"Seleccionar Gestor\"\r\n        style={{ width: 300, marginBottom: '.5rem' }}\r\n        onChange={(e) => setGestorSeleccionado(e)}\r\n        defaultValue={gestorSeleccionado}\r\n        filterOption={(input, option) => {\r\n          return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n        }\r\n      }\r\n      >\r\n      {\r\n        gestores && gestores.length > 0 ? \r\n        gestores.map((b, i) => (\r\n          <Option value={b._id} key={i}>{b.nombre}</Option>\r\n        ))\r\n        :\r\n        <Option>Sin data</Option>\r\n      }\r\n      </Select>\r\n      <DatePicker \r\n        defaultValue={moment(fechaCita? fechaCita: Date.now())}\r\n        placeholder=\"Seleccionar fecha de cita\"\r\n        style={{ width: 300, marginBottom: '.5rem' }}\r\n        onChange={cambiarFecha} \r\n      />\r\n      <TextArea \r\n        rows={4} \r\n        style={{ width: 300 }}\r\n        defaultValue={observacion}\r\n        placeholder=\"Observacion\"\r\n        onChange={(e) => setObservacion(e.target.value)}\r\n      />\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalAgendar.propTypes = {\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  buckets: PropTypes.array,\r\n  contratas: PropTypes.array,\r\n  gestores: PropTypes.array,\r\n  agendar: PropTypes.func\r\n}\r\n\r\nexport default ModalAgendar\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Dropdown } from 'antd';\r\nimport { CloudSyncOutlined, ScheduleOutlined, LoadingOutlined, ReloadOutlined, UserSwitchOutlined, ExportOutlined, FileSyncOutlined, SyncOutlined, ClearOutlined } from '@ant-design/icons';\r\n\r\nimport TablaOrdenesPendientes from './TablaOrdenesPendientes';\r\nimport { getOrdenes, patchOrdenes, patchFilesOrdenes } from '../../../services/apiOrden';\r\nimport { ordenes } from '../../../constants/metodos';\r\nimport { listaBuckets } from \"../../../constants/valoresOrdenes\";\r\nimport ModalAgendar from './ModalsTabla/ModalAgendar';\r\nimport ModalReiterada from './ModalsTabla/ModalReiterada';\r\nimport ModalAsignar from './ModalsTabla/ModalAsignar';\r\nimport ModalEstado from './ModalsTabla/ModalEstado';\r\nimport ModalRegistro from './ModalsTabla/ModalRegistro';\r\nimport ModalInfancia from './ModalsTabla/ModalInfancia';\r\nimport ExcelOrdenesPendientes from '../../excelExports/ExcelOrdenesPendientes';\r\nimport { socket } from '../../../services/socket';\r\nimport moment from 'moment';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nfunction OrdenesPendientes({ contratas, gestores, tecnicos, tipo }) {\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [dataRegistros, setDataRegistros] = useState([]);\r\n  const [dataInfancia, setDataInfancia] = useState([]);\r\n  const [ordenesSeleccionadas, setOrdenesSeleccionadas] = useState([]);\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [loadingCruzar, setLoadingCruzar] = useState(false);\r\n  const [loadingComprobarInfancias, setLoadingComprobarInfancias] = useState(false);\r\n  const [loadingAgendar, setLoadingAgendar] = useState(false);\r\n  const [loadingAsignar, setLoadingAsignar] = useState(false);\r\n  const [loadingEstado, setLoadingEstado] = useState(false);\r\n  const [loadingRegistro, setLoadingRegistro] = useState(false);\r\n  const [loadingInfancia, setLoadingInfancia] = useState(false);\r\n  const [loadingExportar, setLoadingExportar] = useState(false);\r\n  const [modalAgendar, setModalAgendar] = useState(false);\r\n  const [modalAsignar, setModalAsignar] = useState(false);\r\n  const [modalReiterada, setModalReiterada] = useState(false);\r\n  const [modalInfancia, setModalInfancia] = useState(false);\r\n  const [modalEstado, setModalEstado] = useState(false);\r\n  const [modalRegistro, setModalRegistro] = useState(false);\r\n  const [codigoCliente, setCodigoCliente] = useState(null);\r\n  const [filtros, setFiltros] = useState(null);\r\n\r\n  useEffect(() => {\r\n    socket.emit('averiasPendientes', \"hola\");\r\n    \r\n    // socket.on('ordenesGraficos', ({averias, altas, hora}) => {\r\n    //   const jsonAverias = new Array(JSON.parse(averias));\r\n    //   const jsonAltas = new Array(JSON.parse(altas));\r\n    //   if (hora && moment(new Date(hora)).isValid()) setHoraActualizado(moment(new Date(hora)).format('HH:mm'));\r\n    //   if(jsonAverias && jsonAverias[0] && jsonAverias[0].length > 0\r\n    //     && jsonAltas && jsonAltas[0] && jsonAltas[0].length > 0) setOrdenes([...jsonAverias[0], ...jsonAltas[0]]);\r\n    // });\r\n\r\n    socket.on('error', (e) => {\r\n      console.log(e);\r\n      cogoToast.error('Error conectando al servidor.', { position: 'top-left' })\r\n    });\r\n\r\n    return () => {\r\n      socket.off('ordenesGraficos');\r\n    };\r\n    // eslint-disable-next-line\r\n  },[]);\r\n\r\n  // useEffect(() => {\r\n  //   listarOrdenes();\r\n  // // eslint-disable-next-line\r\n  // },[]);\r\n\r\n  async function listarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    setOrdenesSeleccionadas([]);\r\n    await getOrdenes(true, { metodo: ordenes.ORDENES_HOY, tipo })\r\n      .then(({data}) => {\r\n        if (data && data.length > 0) {\r\n          setDataOrdenes(data);\r\n        }\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingOrdenes(false));\r\n  };\r\n\r\n  async function buscarInfancia(id_orden) {\r\n    setLoadingInfancia(true);\r\n    await getOrdenes( true, { metodo: ordenes.BUSCAR_INFANCIA, id: id_orden })\r\n      .then(({data}) => {\r\n        if (data && data._id ) {\r\n          setDataInfancia([data]);\r\n        }\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingInfancia(false));\r\n  };\r\n\r\n  async function buscarRegistro(id_orden) {\r\n    setLoadingRegistro(true);\r\n    await getOrdenes( true, { metodo: ordenes.BUSCAR_REGISTROS, id: id_orden })\r\n      .then(({data}) => {\r\n        if (data && data.length > 0) {\r\n          setDataRegistros(data);\r\n        }\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingRegistro(false));\r\n  };\r\n\r\n  async function sincronizarData() {\r\n    setLoadingCruzar(true);\r\n    await getOrdenes(true, { metodo: ordenes.CRUZAR_DATA, tipo})\r\n      .then((e) => {\r\n        if (e.status === 'success') {\r\n          listarOrdenes()\r\n        };\r\n      })\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setLoadingCruzar(false));\r\n  };\r\n\r\n  async function comprobarInfancias() {\r\n    setLoadingComprobarInfancias(true);\r\n    await getOrdenes(true, { metodo: ordenes.COMPROBAR_INFANCIAS })\r\n      .then((e) => {\r\n        if (e.status === 'success') {\r\n          listarOrdenes()\r\n        };\r\n      })\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setLoadingComprobarInfancias(false));\r\n  };\r\n\r\n  async function agendarOrdenes(bucketSeleccionado, contrataSeleccionada, gestorSeleccionado, fechaCita, observacion) {\r\n    if (ordenesSeleccionadas && ordenesSeleccionadas.length > 0) {\r\n      setLoadingAgendar(true);\r\n      await patchOrdenes({\r\n        metodo: ordenes.AGENDAR_ORDEN, \r\n        ordenes: ordenesSeleccionadas,\r\n        bucket: bucketSeleccionado, \r\n        contrata: contrataSeleccionada, \r\n        gestor: gestorSeleccionado,\r\n        fecha_cita: fechaCita,\r\n        observacion\r\n      }).then(async() => await listarOrdenes()).catch((err) => console.log(err)).finally(() => setLoadingAgendar(false));\r\n    }\r\n  };\r\n\r\n  async function asignarOrdenes(data) {\r\n    if (ordenesSeleccionadas && ordenesSeleccionadas.length > 0) {\r\n      const auxData = data;\r\n      setLoadingAsignar(true);\r\n      abrirModalAsignar();\r\n      await patchOrdenes({\r\n        metodo: ordenes.ASIGNAR_ORDEN, ordenes: ordenesSeleccionadas, ...auxData\r\n      }).then(async() => await listarOrdenes()).catch((err) => console.log(err)).finally(() => setLoadingAsignar(false));\r\n    }\r\n  };\r\n\r\n  async function actualizarEstado(estado, observacion, files=[]) {\r\n    if (ordenesSeleccionadas && ordenesSeleccionadas.length > 0) {\r\n      let orden_imagen = new FormData();\r\n      orden_imagen.append('metodo', ordenes.ACTUALIZAR_ESTADO);\r\n      orden_imagen.append('ordenes', JSON.stringify(ordenesSeleccionadas));\r\n      if (estado) orden_imagen.append('estado', estado);\r\n      if (observacion) orden_imagen.append('observacion', observacion);\r\n      files.forEach((f) => {\r\n        orden_imagen.append('files', f);\r\n      });\r\n\r\n      setLoadingEstado(true);\r\n      abrirModalEstado();\r\n      await patchFilesOrdenes(orden_imagen)\r\n        .then(async() => await listarOrdenes())\r\n        .catch((err) => console.log(err))\r\n        .finally(() => setLoadingEstado(false));\r\n    }\r\n  };\r\n\r\n  function limpiarFiltros() {\r\n    setFiltros(null);\r\n  };\r\n\r\n  const abrirModalAgendar = () => setModalAgendar(!modalAgendar);\r\n  const abrirModalAsignar = () => setModalAsignar(!modalAsignar);\r\n  const abrirModalReiterada = () => setModalReiterada(!modalReiterada);\r\n  const abrirModalInfancia = () => setModalInfancia(!modalInfancia);\r\n  const abrirModalEstado = () => setModalEstado(!modalEstado);\r\n  const abrirModalRegistro = () => setModalRegistro(!modalRegistro);\r\n \r\n  const abrirReiterada = (c) => {\r\n    setCodigoCliente(c);\r\n    abrirModalReiterada();\r\n  };\r\n\r\n  const abrirInfancia = async (id) => {\r\n    abrirModalInfancia();\r\n    await buscarInfancia(id);\r\n  };\r\n\r\n  const abrirRegistro = async (id) => {\r\n    abrirModalRegistro();\r\n    await buscarRegistro(id);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Button \r\n          type=\"primary\"\r\n          icon={loadingOrdenes ? <LoadingOutlined spin/>:<ReloadOutlined/>}\r\n          disabled={loadingOrdenes}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={listarOrdenes}\r\n        >Actualizar</Button>\r\n        <Button\r\n          icon={loadingCruzar ? <LoadingOutlined spin/>:<CloudSyncOutlined />}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={sincronizarData}\r\n        >Sincronizar</Button>\r\n        <Button\r\n          icon={loadingComprobarInfancias ? <LoadingOutlined spin/>:<SyncOutlined />}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={comprobarInfancias}\r\n        >Comprobar Infancias</Button>\r\n        <Button \r\n          icon={loadingAgendar ? <LoadingOutlined spin/>:<ScheduleOutlined />}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          disabled={ordenesSeleccionadas.length === 0}\r\n          onClick={abrirModalAgendar}\r\n        >Agendar</Button>\r\n        <Button \r\n          icon={loadingAsignar ? <LoadingOutlined spin/>:<UserSwitchOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          disabled={ordenesSeleccionadas.length === 0}\r\n          onClick={abrirModalAsignar}\r\n        >Asignar</Button>\r\n        <Button \r\n          icon={loadingEstado ? <LoadingOutlined spin/>:<FileSyncOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          disabled={ordenesSeleccionadas.length === 0}\r\n          onClick={abrirModalEstado}\r\n        >Estado</Button>\r\n        <Dropdown \r\n          overlay={<ExcelOrdenesPendientes metodo={ordenes.EXPORTAR_PENDIENTES} tipo={tipo} setLoading={setLoadingExportar} ordenesSeleccionadas={ordenesSeleccionadas}/>} \r\n          placement=\"bottomLeft\" \r\n          trigger={['click']}\r\n          arrow\r\n        >\r\n          <Button\r\n            icon={loadingExportar ? <LoadingOutlined spin/>:<ExportOutlined/>}\r\n            style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          >\r\n            Exportar\r\n          </Button>\r\n        </Dropdown>\r\n        <Button \r\n          icon={<ClearOutlined />}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={limpiarFiltros}\r\n        >Filtros</Button>\r\n      </div>\r\n      <TablaOrdenesPendientes \r\n        filtros={filtros}\r\n        setFiltros={setFiltros}\r\n        tipo={tipo}\r\n        data={dataOrdenes} \r\n        loading={loadingOrdenes} \r\n        ordenesSeleccionadas={ordenesSeleccionadas} \r\n        setOrdenesSeleccionadas={setOrdenesSeleccionadas}\r\n        abrirReiterada={abrirReiterada}\r\n        abrirInfancia={abrirInfancia}\r\n        abrirRegistro={abrirRegistro}\r\n        listarOrdenes={listarOrdenes}\r\n      />\r\n      {/* MODAL PARA AGENDAR LA ORDEN */}\r\n      <ModalAgendar visible={modalAgendar} abrir={abrirModalAgendar} buckets={listaBuckets} contratas={contratas} gestores={gestores} agendar={agendarOrdenes}/>\r\n      {/* MODAL PARA ASIGNAR CONTRATA, GESTOR O TECNICO */}\r\n      <ModalAsignar visible={modalAsignar} abrir={abrirModalAsignar} contratas={contratas} gestores={gestores} tecnicos={tecnicos} asignar={asignarOrdenes}/>\r\n      {/* MODAL PARA ACTUALIZAR EL ESTADO_GESTOR DE LA ORDEN */}\r\n      <ModalEstado visible={modalEstado} abrir={abrirModalEstado} actualizarEstado={actualizarEstado} />\r\n      {/* MODAL PARA BUSCAR LA REITERADA */}\r\n      <ModalReiterada visible={modalReiterada} abrir={abrirModalReiterada} codigo_cliente={codigoCliente}/>\r\n      {/* MODAL PARA BUSCAR LA INFANCIA */}\r\n      <ModalInfancia visible={modalInfancia} abrir={abrirModalInfancia} loading={loadingInfancia} orden={dataInfancia} />\r\n      {/* MODAL DETALLE PARA VER EL HISTORIAL DE CAMBIOS */}\r\n      <ModalRegistro visible={modalRegistro} abrir={abrirModalRegistro} loading={loadingRegistro} registros={dataRegistros}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nOrdenesPendientes.propTypes = {\r\n  contratas: PropTypes.array,\r\n  gestores: PropTypes.array,\r\n  tecnicos: PropTypes.array,\r\n  tipo: PropTypes.string\r\n}\r\n\r\nexport default OrdenesPendientes\r\n\r\n","import React from 'react';\r\nimport { Tag, Tooltip, Typography } from 'antd';\r\nimport { PlusCircleTwoTone } from '@ant-design/icons'\r\nimport moment from 'moment';\r\n\r\nimport TagEstado from '../TagEstado';\r\nimport { tipoOrdenes } from '../../../../constants/tipoOrden';\r\nimport PopObservacion from './PopObservacion';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport default function columnasOtrasBandejas(\r\n  tipo,\r\n  filtroDistrito=[],\r\n  filtroEstadoToa=[],\r\n  filtroEstadoGestor=[],\r\n  filtroTipoReq=[],\r\n  filtroTecnologia=[],\r\n  filtroNodo=[],\r\n  filtroCtr=[],\r\n  abrirDetalle,\r\n  listarOrdenes\r\n) {\r\n\r\n  const columnasGenerales = [\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: '#',\r\n      width: 50,\r\n      fixed: 'left',\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Requerimiento',\r\n      dataIndex: 'codigo_requerimiento',\r\n      width: 120,\r\n      fixed: 'left',\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Orden Trabajo',\r\n      dataIndex: 'codigo_trabajo',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Peticion',\r\n      dataIndex: 'codigo_peticion',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Codigo Cliente',\r\n      dataIndex: 'codigo_cliente',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Tecnologia',\r\n      dataIndex: 'tipo_tecnologia',\r\n      align: 'center',\r\n      width: 120,\r\n      filters: filtroTecnologia ? filtroTecnologia : [],\r\n      onFilter: (v,r) => r.tipo_tecnologia.indexOf(v) === 0,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'CTR',\r\n      dataIndex: 'codigo_ctr',\r\n      width: 60,\r\n      filters: filtroCtr ? filtroCtr : [],\r\n      onFilter: (v,r) => String(r.codigo_ctr).indexOf(String(v)) === 0,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Descripción CTR',\r\n      dataIndex: 'descripcion_ctr',\r\n      width: 150,\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Tipo Req.',\r\n      dataIndex: 'tipo_requerimiento',\r\n      align:'center',\r\n      width: 100,\r\n      filters: filtroTipoReq ? filtroTipoReq : [],\r\n      onFilter: (v,r) => r.tipo_requerimiento.indexOf(v) === 0\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Nodo',\r\n      dataIndex: 'codigo_nodo',\r\n      width: 70,\r\n      filters: filtroNodo ? filtroNodo : [],\r\n      onFilter: (v,r) => r.codigo_nodo.indexOf(v) === 0,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Troba',\r\n      dataIndex: 'codigo_troba',\r\n      width: 70,\r\n      sorter: (a, b) => {\r\n        if (a.codigo_troba < b.codigo_troba) {\r\n          return -1;\r\n        }\r\n        if (a.codigo_troba > b.codigo_troba) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Distrito',\r\n      dataIndex: 'distrito',\r\n      width: 160,\r\n      filters: filtroDistrito ? filtroDistrito : [],\r\n      onFilter: (v,r) => r.distrito.indexOf(v) === 0\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Estado Toa',\r\n      dataIndex: 'estado_toa',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoToa ? filtroEstadoToa : [],\r\n      onFilter: (v,r) => r.estado_toa.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Estado Gestor',\r\n      dataIndex: 'estado_gestor',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoGestor ? filtroEstadoGestor : [],\r\n      onFilter: (v,r) => r.estado_gestor.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Estado Liquidado',\r\n      dataIndex: 'estado_liquidado',\r\n      width: 150,\r\n      align: 'center',\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Tecnico Liquidado',\r\n      dataIndex: 'nombre_liquidado',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t}>\r\n          {t}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Carnet',\r\n      dataIndex: 'carnet_liquidado',\r\n      width: 100\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Tipo Averia',\r\n      dataIndex: 'tipo_averia',\r\n      width: 150,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Descripción Liquidado',\r\n      dataIndex: 'descripcion_codigo_liquidado',\r\n      width: 250,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Observación Gestor',\r\n      dataIndex: 'observacion_gestor',\r\n      width: 250,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Observación Liquidado',\r\n      dataIndex: 'observacion_liquidado',\r\n      width: 250,\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Fecha Asignado',\r\n      dataIndex: 'fecha_asignado',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Fecha Liquidado',\r\n      dataIndex: 'fecha_liquidado',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Plazo 24h',\r\n      dataIndex: 'fecha_registro',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      sorter: (a, b) => {\r\n        if (!a.fecha_liquidado) {\r\n          if (moment().diff(a.fecha_registro, 'hours') < moment().diff(b.fecha_registro, 'hours')) {\r\n            return -1;\r\n          } else if (moment().diff(a.fecha_registro, 'hours') > moment().diff(b.fecha_registro, 'hours')) {\r\n            return 1;\r\n          }\r\n        } else if (moment(a.fecha_liquidado).diff(a.fecha_registro, 'hours') < moment(a.fecha_liquidado).diff(b.fecha_registro, 'hours')) {\r\n          return -1;\r\n        }\r\n        if (moment(a.fecha_liquidado).diff(a.fecha_registro, 'hours') > moment(a.fecha_liquidado).diff(b.fecha_registro, 'hours')) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (fecha, row) => {\r\n        if (!row.fecha_liquidado) {\r\n          let horas = moment().diff(fecha, 'hours');\r\n          return <Tag>{horas}</Tag>\r\n        } else if (fecha) {\r\n          let horas = moment(row.fecha_liquidado).diff(fecha, 'hours');\r\n          return <Tag color={row.agenda ? 'geekblue' : horas < 24 ? 'success': horas === 24 ? 'warning' :  'error' }>{horas}</Tag>\r\n        } else {\r\n          return <Tag>-</Tag>\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Plazo 72h',\r\n      dataIndex: 'fecha_registro',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      sorter: (a, b) => {\r\n        if (!a.fecha_liquidado) {\r\n          if (moment().diff(a.fecha_registro, 'hours') < moment().diff(b.fecha_registro, 'hours')) {\r\n            return -1;\r\n          } else if (moment().diff(a.fecha_registro, 'hours') > moment().diff(b.fecha_registro, 'hours')) {\r\n            return 1;\r\n          }\r\n        } else if (moment(a.fecha_liquidado).diff(a.fecha_registro, 'hours') < moment(a.fecha_liquidado).diff(b.fecha_registro, 'hours')) {\r\n          return -1;\r\n        }\r\n        if (moment(a.fecha_liquidado).diff(a.fecha_registro, 'hours') > moment(a.fecha_liquidado).diff(b.fecha_registro, 'hours')) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (fecha, row) => {\r\n        if (!row.fecha_liquidado) {\r\n          let horas = moment().diff(fecha, 'hours');\r\n          return <Tag>{horas}</Tag>\r\n        } else if (fecha) {\r\n          let horas = moment(row.fecha_liquidado).diff(fecha, 'hours');\r\n          return <Tag color={row.agenda ? 'blue' : horas < 72 ? 'success': horas === 72 ? 'warning' :  'error' }>{horas}</Tag>\r\n        } else {\r\n          return <Tag>-</Tag>\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      render: (id, row) => (\r\n        <div>\r\n          <PlusCircleTwoTone\r\n            style={{ fontSize: '1.5rem', marginRight: '.5rem' }}\r\n            onClick={() => abrirDetalle(id)}\r\n          />\r\n          <PopObservacion row={row} listarOrdenes={listarOrdenes}/>\r\n        </div>\r\n      )\r\n    }\r\n  ]\r\n\r\n  const columnasAverias = columnasGenerales.filter(e => e.averias);\r\n\r\n  const columnasAltas = columnasGenerales.filter(e => e.altas);\r\n\r\n  switch (tipo) {\r\n    case tipoOrdenes.AVERIAS:\r\n      return columnasAverias;  \r\n    case tipoOrdenes.ALTAS:\r\n      return columnasAltas;\r\n    default:\r\n      break;\r\n  }\r\n};","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Table } from 'antd';\r\nimport { LoadingOutlined, ReloadOutlined } from '@ant-design/icons';\r\n\r\nimport { getOrdenes } from '../../../services/apiOrden';\r\nimport { ordenes } from '../../../constants/metodos';\r\nimport columnasOtrasBandejas from './columnas/columnasOtrasBandejas';\r\nimport { obtenerFiltroNombre } from '../../../libraries/obtenerFiltro';\r\nimport ModalRegistro from './ModalsTabla/ModalRegistro';\r\n\r\nfunction OrdenesExternas({tipo}) {\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [dataRegistros, setDataRegistros] = useState([]);\r\n  const [ordenesSeleccionadas, setOrdenesSeleccionadas] = useState([]);\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [loadingRegistro, setLoadingRegistro] = useState(false);\r\n  const [filtroDistrito, setFiltroDistrito] = useState([]);\r\n  const [filtroEstadoToa, setFiltroEstadoToa] = useState([]);\r\n  const [filtroEstadoGestor, setFiltroEstadoGestor] = useState([])\r\n  const [filtroTipoReq, setFiltroTipoReq] = useState([]);\r\n  const [filtroTecnologia, setFiltroTecnologia] = useState([]);\r\n  const [filtroNodo, setFiltroNodo] = useState([]);\r\n  const [filtroCtr, setFiltroCtr] = useState([]);\r\n  const [modalRegistro, setModalRegistro] = useState(false);\r\n\r\n  useEffect(() => {\r\n    listarOrdenes();\r\n  // eslint-disable-next-line\r\n  },[]);\r\n\r\n  async function listarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    setOrdenesSeleccionadas([]);\r\n    await getOrdenes(true, { metodo: ordenes.ORDENES_OTRAS_BANDEJAS, tipo })\r\n      .then(({data}) => {\r\n        if (data && data.length > 0) {\r\n          setDataOrdenes(data);\r\n          setFiltroDistrito(obtenerFiltroNombre(data, 'distrito'));\r\n          setFiltroEstadoToa(obtenerFiltroNombre(data, 'estado_toa'));\r\n          setFiltroEstadoGestor(obtenerFiltroNombre(data, 'estado_gestor'));\r\n          setFiltroTipoReq(obtenerFiltroNombre(data, 'tipo_requerimiento'));\r\n          setFiltroTecnologia(obtenerFiltroNombre(data, 'tipo_tecnologia'));\r\n          setFiltroNodo(obtenerFiltroNombre(data, 'codigo_nodo'));\r\n          setFiltroCtr(obtenerFiltroNombre(data, 'codigo_ctr'));\r\n        };\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingOrdenes(false));\r\n  };\r\n\r\n  const abrirModalRegistro = () => setModalRegistro(!modalRegistro);\r\n\r\n  async function buscarRegistro(id_orden) {\r\n    setLoadingRegistro(true);\r\n    await getOrdenes( true, { metodo: ordenes.BUSCAR_REGISTROS, id: id_orden })\r\n      .then(({data}) => {\r\n        if (data && data.length > 0) {\r\n          setDataRegistros(data);\r\n        }\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingRegistro(false));\r\n  };\r\n\r\n  const abrirRegistro = async (id) => {\r\n    abrirModalRegistro();\r\n    await buscarRegistro(id);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Button \r\n          type=\"primary\"\r\n          disabled={loadingOrdenes}\r\n          icon={loadingOrdenes ? <LoadingOutlined spin/>:<ReloadOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={listarOrdenes}\r\n        >Actualizar</Button>\r\n      </div>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        rowSelection={{\r\n          columnWidth: 50,\r\n          selectedRowKeys: ordenesSeleccionadas,\r\n          onChange: (e) => setOrdenesSeleccionadas(e)\r\n        }}\r\n        columns={columnasOtrasBandejas(\r\n          tipo,\r\n          filtroDistrito,\r\n          filtroEstadoToa,\r\n          filtroEstadoGestor,\r\n          filtroTipoReq,\r\n          filtroTecnologia,\r\n          filtroNodo,\r\n          filtroCtr,\r\n          abrirRegistro,\r\n          listarOrdenes)\r\n        }\r\n        dataSource={dataOrdenes}\r\n        loading={loadingOrdenes}\r\n        size=\"small\"\r\n        scroll={{ y: '65vh' }}\r\n        pagination={{\r\n          defaultPageSize: 50,\r\n          pageSizeOptions: [50,100,200]\r\n        }}\r\n      />\r\n      {/* MODAL DETALLE PARA VER EL HISTORIAL DE CAMBIOS */}\r\n      <ModalRegistro visible={modalRegistro} abrir={abrirModalRegistro} loading={loadingRegistro} registros={dataRegistros}/>\r\n    </div>\r\n  )\r\n};\r\n\r\nOrdenesExternas.propTypes = {\r\n  tipo: PropTypes.string\r\n};\r\n\r\nexport default OrdenesExternas;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Tabs } from 'antd';\r\nimport { CloudUploadOutlined, CheckCircleOutlined, ScheduleOutlined, UnorderedListOutlined, BugOutlined } from '@ant-design/icons';\r\n\r\nimport { tipoOrdenes } from '../../../constants/tipoOrden';\r\nimport metodos from '../../../constants/metodos';\r\nimport { getEmpleados } from '../../../services/apiEmpleado';\r\nimport { getContratas } from '../../../services/apiContrata';\r\nimport TituloContent from '../../../components/common/TituloContent';\r\nimport Contenedor from '../../../components/common/Contenedor';\r\nimport ActualizarOrdenes from '../../../components/operativa/administrarOrdenes/ActualizarOrdenes';\r\nimport OrdenesPendientes from '../../../components/operativa/administrarOrdenes/OrdenesPendientes';\r\nimport OrdenesLiquidadas from '../../../components/operativa/administrarOrdenes/OrdenesLiquidadas';\r\nimport OrdenesExternas from '../../../components/operativa/administrarOrdenes/OrdenesExternas';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function AdministrarAverias() {\r\n  const [listaContratas, setListaContratas] = useState([]);\r\n  const [listaGestores, setListaGestores] = useState([]);\r\n  const [listaTecnicos, setListaTecnicos] = useState([]);\r\n\r\n  useEffect(() => {\r\n    cargarContratas();\r\n    cargarGestores();\r\n    cargarTecnicos();\r\n  },[]);\r\n\r\n  async function cargarContratas() {\r\n    await getContratas(false, metodos.CONTRATA_LISTAR_NOMBRES)\r\n      .then(({data}) => setListaContratas(data ? data : []))\r\n      .catch((err) => console.log(err))\r\n  };\r\n\r\n  async function cargarGestores() {\r\n    await getEmpleados(false, { metodo: metodos.EMPLEADOS_LISTAR_GESTORES } )\r\n      .then(({data}) => setListaGestores(data ? data : []))\r\n      .catch((err) => console.log(err))\r\n  };\r\n\r\n  async function cargarTecnicos() {\r\n    await getEmpleados(false, { metodo: metodos.EMPLEADOS_LISTAR_TECNICOS } )\r\n      .then(({data}) => setListaTecnicos(data ? data : []))\r\n      .catch((err) => console.log(err))\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Administrar Averias Hfc\" subtitulo=\"Operativa\"/>\r\n        <Contenedor>\r\n          <Tabs style={{paddingLeft: '1rem'}} animated={false}>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <CloudUploadOutlined />\r\n                  Actualizar Ordenes\r\n                </span>\r\n              }\r\n              key=\"1\"\r\n            >\r\n              <div>\r\n                <ActualizarOrdenes\r\n                  tipoOrden={tipoOrdenes.AVERIAS}\r\n                  tecnicos={listaTecnicos}\r\n                />\r\n              </div>\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <UnorderedListOutlined />\r\n                  Ordenes Pendientes\r\n                </span>\r\n              }\r\n              key=\"2\"\r\n            >\r\n              <OrdenesPendientes \r\n                contratas={listaContratas}\r\n                gestores={listaGestores}\r\n                tecnicos={listaTecnicos}\r\n                tipo={tipoOrdenes.AVERIAS}\r\n              />\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <CheckCircleOutlined/>\r\n                  Ordenes Liquidadas\r\n                </span>\r\n              }\r\n              key=\"3\"\r\n            >\r\n              <OrdenesLiquidadas tipo={tipoOrdenes.AVERIAS}/>\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <BugOutlined />\r\n                  Otras Bandejas\r\n                </span>\r\n              }\r\n              key=\"4\"\r\n            >\r\n              <OrdenesExternas tipo={tipoOrdenes.AVERIAS}/>\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <ScheduleOutlined/>\r\n                  Aprobar Ordenes\r\n                </span>\r\n              }\r\n              key=\"5\"\r\n            >\r\n\r\n            </TabPane>\r\n          </Tabs>\r\n        </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { Tag, Tooltip, Typography } from 'antd';\r\nimport { PlusCircleTwoTone } from '@ant-design/icons'\r\nimport moment from 'moment';\r\n\r\nimport TagEstado from '../TagEstado';\r\nimport PopObservacion from './PopObservacion';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport default function columnasOrdenesAnuladas(\r\n  filtroDistrito=[],\r\n  filtroEstadoToa=[],\r\n  filtroEstadoGestor=[],\r\n  filtroContrata=[], \r\n  filtroGestor=[],\r\n  filtroTecnico=[],\r\n  filtroTecnologia=[],\r\n  filtroNodo=[],\r\n  filtroCtr=[],\r\n  abrirDetalle,\r\n  listarOrdenes\r\n) {\r\n\r\n  return [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      fixed: 'left',\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Requerimiento',\r\n      dataIndex: 'codigo_requerimiento',\r\n      width: 120,\r\n      fixed: 'left',\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'Orden Trabajo',\r\n      dataIndex: 'codigo_trabajo',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'Peticion',\r\n      dataIndex: 'codigo_peticion',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'Codigo Cliente',\r\n      dataIndex: 'codigo_cliente',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'Tecnologia',\r\n      dataIndex: 'tipo_tecnologia',\r\n      align: 'center',\r\n      width: 120,\r\n      filters: filtroTecnologia ? filtroTecnologia : [],\r\n      onFilter: (v,r) => r.tipo_tecnologia.indexOf(v) === 0,\r\n    },\r\n    {\r\n      title: 'CTR',\r\n      dataIndex: 'codigo_ctr',\r\n      width: 60,\r\n      filters: filtroCtr ? filtroCtr : [],\r\n      onFilter: (v,r) => String(r.codigo_ctr).indexOf(String(v)) === 0,\r\n    },\r\n    {\r\n      title: 'Nodo',\r\n      dataIndex: 'codigo_nodo',\r\n      width: 70,\r\n      filters: filtroNodo ? filtroNodo : [],\r\n      onFilter: (v,r) => r.codigo_nodo.indexOf(v) === 0,\r\n    },\r\n    {\r\n      title: 'Troba',\r\n      dataIndex: 'codigo_troba',\r\n      width: 70,\r\n      sorter: (a, b) => {\r\n        if (a.codigo_troba < b.codigo_troba) {\r\n          return -1;\r\n        }\r\n        if (a.codigo_troba > b.codigo_troba) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n    {\r\n      title: 'Distrito',\r\n      dataIndex: 'distrito',\r\n      width: 160,\r\n      filters: filtroDistrito ? filtroDistrito : [],\r\n      onFilter: (v,r) => r.distrito.indexOf(v) === 0\r\n    },\r\n    {\r\n      title: 'Estado Toa',\r\n      dataIndex: 'estado_toa',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoToa ? filtroEstadoToa : [],\r\n      onFilter: (v,r) => r.estado_toa.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      title: 'Estado Gestor',\r\n      dataIndex: 'estado_gestor',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoGestor ? filtroEstadoGestor : [],\r\n      onFilter: (v,r) => r.estado_gestor.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      title: 'Contrata',\r\n      dataIndex: 'contrata',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroContrata ? filtroContrata : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.contrata\r\n        } else if( r.contrata !== undefined) {\r\n          return r.contrata._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (c) => (\r\n        <Tooltip placement=\"topLeft\" title={c ? c.nombre:'-'}>\r\n          {c ? c.nombre:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Gestor',\r\n      dataIndex: 'gestor',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroGestor ? filtroGestor : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.gestor\r\n        } else if( r.gestor !== undefined) {\r\n          return r.gestor._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (g) => (\r\n        <Tooltip placement=\"topLeft\" title={g ? g.nombre+' '+g.apellidos:'-'}>\r\n          {g ? g.nombre+' '+g.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Tecnico Asignado',\r\n      dataIndex: 'tecnico',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroTecnico ? filtroTecnico : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.tecnico_liquidado\r\n        } else if( r.tecnico_liquidado ) {\r\n          return r.tecnico_liquidado._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t ? t.nombre+' '+t.apellidos:'-'}>\r\n          {t ? t.nombre+' '+t.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Observación Gestor',\r\n      dataIndex: 'observacion_gestor',\r\n      width: 250,\r\n    },\r\n    {\r\n      title: 'Observación Liquidado',\r\n      dataIndex: 'observacion_liquidado',\r\n      width: 250,\r\n    },\r\n    {\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Fecha Liquidado',\r\n      dataIndex: 'fecha_liquidado',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Plazo 72h',\r\n      dataIndex: 'fecha_registro',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      sorter: (a, b) => {\r\n        if (moment(a.fecha_liquidado).diff(a.fecha_registro, 'hours') < moment(a.fecha_liquidado).diff(b.fecha_registro, 'hours')) {\r\n          return -1;\r\n        }\r\n        if (moment(a.fecha_liquidado).diff(a.fecha_registro, 'hours') > moment(a.fecha_liquidado).diff(b.fecha_registro, 'hours')) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (fecha, row) => {\r\n        if (fecha) {\r\n          let horas = moment(row.fecha_liquidado).diff(fecha, 'hours');\r\n          return <Tag color={row.fecha_cita ? 'geekblue' : horas < 72 && !row.fecha_cita ? 'success': horas === 72 && !row.fecha_cita ? 'warning' :  'error' }>{horas}</Tag>\r\n        } else {\r\n          return <Tag>-</Tag>\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      render: (id, row) => (\r\n        <div>\r\n          <PlusCircleTwoTone\r\n            style={{ fontSize: '1.5rem', marginRight: '.5rem' }}\r\n            onClick={() => abrirDetalle(id)}\r\n          />\r\n          <PopObservacion row={row} listarOrdenes={listarOrdenes}/>\r\n        </div>\r\n      )\r\n    }\r\n  ];\r\n};","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Table } from 'antd';\r\nimport { LoadingOutlined, ReloadOutlined } from '@ant-design/icons';\r\n\r\nimport { getOrdenes } from '../../../services/apiOrden';\r\nimport { ordenes } from '../../../constants/metodos';\r\nimport { obtenerFiltroId, obtenerFiltroNombre } from '../../../libraries/obtenerFiltro';\r\nimport ModalRegistro from './ModalsTabla/ModalRegistro';\r\nimport columnasOrdenesAnuladas from './columnas/columnasAnuladas';\r\n\r\nfunction OrdenesAnuladas({tipo}) {\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [dataRegistros, setDataRegistros] = useState([]);\r\n  const [ordenesSeleccionadas, setOrdenesSeleccionadas] = useState([]);\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [loadingRegistro, setLoadingRegistro] = useState(false);\r\n  const [filtroDistrito, setFiltroDistrito] = useState([]);\r\n  const [filtroEstadoToa, setFiltroEstadoToa] = useState([]);\r\n  const [filtroEstadoGestor, setFiltroEstadoGestor] = useState([])\r\n  const [filtroTecnologia, setFiltroTecnologia] = useState([]);\r\n  const [filtroNodo, setFiltroNodo] = useState([]);\r\n  const [filtroCtr, setFiltroCtr] = useState([]);\r\n  const [filtroContrata, setFiltroContrata] = useState([]);\r\n  const [filtroGestor, setFiltroGestor] = useState([]);\r\n  const [filtroTecnico, setFiltroTecnico] = useState([]);\r\n  const [modalRegistro, setModalRegistro] = useState(false);\r\n\r\n  useEffect(() => {\r\n    listarOrdenes();\r\n  // eslint-disable-next-line\r\n  },[]);\r\n\r\n  async function listarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    setOrdenesSeleccionadas([]);\r\n    await getOrdenes(true, { metodo: ordenes.ORDENES_ANULADAS, tipo, })\r\n      .then(({data}) => {\r\n        if (data && data.length > 0) {\r\n          setDataOrdenes(data);\r\n          setFiltroDistrito(obtenerFiltroNombre(data, 'distrito'));\r\n          setFiltroEstadoToa(obtenerFiltroNombre(data, 'estado_toa'))\r\n          setFiltroEstadoGestor( obtenerFiltroNombre(data, 'estado_gestor'))\r\n          setFiltroTecnologia(obtenerFiltroNombre(data, 'tipo_tecnologia'))\r\n          setFiltroNodo(obtenerFiltroNombre(data, 'codigo_nodo'))\r\n          setFiltroCtr(obtenerFiltroNombre(data, 'codigo_ctr'))\r\n          setFiltroContrata(obtenerFiltroId(data, 'contrata'))\r\n          setFiltroGestor(obtenerFiltroId(data, 'gestor'))\r\n          setFiltroTecnico(obtenerFiltroId(data, 'tecnico'))\r\n        };\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingOrdenes(false));\r\n  };\r\n\r\n  const abrirModalRegistro = () => setModalRegistro(!modalRegistro);\r\n\r\n  async function buscarRegistro(id_orden) {\r\n    setLoadingRegistro(true);\r\n    await getOrdenes( true, { metodo: ordenes.BUSCAR_REGISTROS, id: id_orden })\r\n      .then(({data}) => {\r\n        if (data && data.length > 0) {\r\n          setDataRegistros(data);\r\n        }\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingRegistro(false));\r\n  };\r\n\r\n  const abrirRegistro = async (id) => {\r\n    abrirModalRegistro();\r\n    await buscarRegistro(id);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Button \r\n          type=\"primary\"\r\n          icon={loadingOrdenes ? <LoadingOutlined spin/>:<ReloadOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={listarOrdenes}\r\n        >Actualizar</Button>\r\n      </div>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        rowSelection={{\r\n          columnWidth: 50,\r\n          selectedRowKeys: ordenesSeleccionadas,\r\n          onChange: (e) => setOrdenesSeleccionadas(e)\r\n        }}\r\n        columns={columnasOrdenesAnuladas(\r\n          filtroDistrito,\r\n          filtroEstadoToa,\r\n          filtroEstadoGestor,\r\n          filtroContrata, \r\n          filtroGestor,\r\n          filtroTecnico,\r\n          filtroTecnologia,\r\n          filtroNodo,\r\n          filtroCtr,\r\n          abrirRegistro,\r\n          listarOrdenes)\r\n        }\r\n        dataSource={dataOrdenes}\r\n        loading={loadingOrdenes}\r\n        size=\"small\"\r\n        scroll={{ y: '65vh' }}\r\n        pagination={{\r\n          defaultPageSize: 50,\r\n          pageSizeOptions: [50,100,200]\r\n        }}\r\n      />\r\n      {/* MODAL DETALLE PARA VER EL HISTORIAL DE CAMBIOS */}\r\n      <ModalRegistro visible={modalRegistro} abrir={abrirModalRegistro} loading={loadingRegistro} registros={dataRegistros}/>\r\n    </div>\r\n  )\r\n};\r\n\r\nOrdenesAnuladas.propTypes = {\r\n  tipo: PropTypes.string\r\n};\r\n\r\nexport default OrdenesAnuladas;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Tabs } from 'antd';\r\nimport { CloudUploadOutlined, CheckCircleOutlined, ScheduleOutlined, UnorderedListOutlined, BugOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\r\n\r\nimport { tipoOrdenes } from '../../../constants/tipoOrden';\r\nimport metodos from '../../../constants/metodos';\r\nimport { getEmpleados } from '../../../services/apiEmpleado';\r\nimport { getContratas } from '../../../services/apiContrata';\r\nimport TituloContent from '../../../components/common/TituloContent';\r\nimport Contenedor from '../../../components/common/Contenedor';\r\nimport ActualizarOrdenes from '../../../components/operativa/administrarOrdenes/ActualizarOrdenes';\r\nimport OrdenesPendientes from '../../../components/operativa/administrarOrdenes/OrdenesPendientes';\r\nimport OrdenesLiquidadas from '../../../components/operativa/administrarOrdenes/OrdenesLiquidadas';\r\nimport OrdenesExternas from '../../../components/operativa/administrarOrdenes/OrdenesExternas';\r\nimport OrdenesAnuladas from '../../../components/operativa/administrarOrdenes/OrdenesAnuladas';\r\n\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function AdministrarAltas() {\r\n  const [listaContratas, setListaContratas] = useState([]);\r\n  const [listaGestores, setListaGestores] = useState([]);\r\n  const [listaTecnicos, setListaTecnicos] = useState([]);\r\n\r\n  useEffect(() => {\r\n    cargarContratas();\r\n    cargarGestores();\r\n    cargarTecnicos();\r\n  },[]);\r\n\r\n  async function cargarContratas() {\r\n    await getContratas(false, metodos.CONTRATA_LISTAR_NOMBRES)\r\n      .then(({data}) => setListaContratas(data ? data : []))\r\n      .catch((err) => console.log(err))\r\n  };\r\n\r\n  async function cargarGestores() {\r\n    await getEmpleados(false, { metodo: metodos.EMPLEADOS_LISTAR_GESTORES })\r\n      .then(({data}) => setListaGestores(data ? data : []))\r\n      .catch((err) => console.log(err))\r\n  };\r\n\r\n  async function cargarTecnicos() {\r\n    await getEmpleados(false, { metodo: metodos.EMPLEADOS_LISTAR_TECNICOS })\r\n      .then(({data}) => setListaTecnicos(data ? data : []))\r\n      .catch((err) => console.log(err))\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Administrar Altas Hfc\" subtitulo=\"Operativa\"/>\r\n        <Contenedor>\r\n          <Tabs style={{paddingLeft: '1rem'}} animated={false}>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <CloudUploadOutlined />\r\n                  Actualizar Ordenes\r\n                </span>\r\n              }\r\n              key=\"1\"\r\n            >\r\n              <ActualizarOrdenes\r\n                tipoOrden={tipoOrdenes.ALTAS}\r\n                tecnicos={listaTecnicos}\r\n              />\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <UnorderedListOutlined />\r\n                  Ordenes Pendientes\r\n                </span>\r\n              }\r\n              key=\"2\"\r\n            >\r\n              <OrdenesPendientes \r\n                contratas={listaContratas}\r\n                gestores={listaGestores}\r\n                tecnicos={listaTecnicos}\r\n                tipo={tipoOrdenes.ALTAS}\r\n              />\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <CheckCircleOutlined/>\r\n                  Ordenes Liquidadas\r\n                </span>\r\n              }\r\n              key=\"3\"\r\n            >\r\n              <OrdenesLiquidadas tipo={tipoOrdenes.ALTAS}/>\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <ExclamationCircleOutlined />\r\n                  Ordenes Anuladas\r\n                </span>\r\n              }\r\n              key=\"4\"\r\n            >\r\n              <OrdenesAnuladas tipo={tipoOrdenes.ALTAS}/>\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <BugOutlined />\r\n                  Otras Bandejas\r\n                </span>\r\n              }\r\n              key=\"5\"\r\n            >\r\n              <OrdenesExternas tipo={tipoOrdenes.ALTAS}/>\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <ScheduleOutlined/>\r\n                  Aprobar Ordenes\r\n                </span>\r\n              }\r\n              key=\"6\"\r\n            >\r\n\r\n            </TabPane>\r\n          </Tabs>\r\n        </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","import { rutas as lisaRutas } from '../../constants/listaRutas';\r\nimport AdministrarAverias from \"../../views/Operativa/Administrar/AdministrarAverias\";\r\nimport AdministrarAltas from \"../../views/Operativa/Administrar/AdministrarAltas\";\r\nimport AdministrarBasicas from \"../../views/Operativa/Administrar/AdministrarBasicas\";\r\nimport AdministrarSpeedy from \"../../views/Operativa/Administrar/AdministrarSpeedy\";\r\n\r\nconst rutas = [\r\n  {\r\n    path: lisaRutas.adminAveriasHfc,\r\n    exact: true,\r\n    component: AdministrarAverias,\r\n  },\r\n  {\r\n    path: lisaRutas.adminAltasHfc,\r\n    exact: true,\r\n    component: AdministrarAltas,\r\n  },\r\n  {\r\n    path: lisaRutas.adminBasicas,\r\n    exact: true,\r\n    component: AdministrarBasicas,\r\n  },\r\n  {\r\n    path: lisaRutas.adminSpeedy,\r\n    exact: true,\r\n    component: AdministrarSpeedy,\r\n  }\r\n]\r\n\r\nexport default rutas","import React from 'react'\r\n\r\nexport default function AdministrarBasicas() {\r\n  return (\r\n    <div>\r\n      administrar basicas\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function AdministrarSpeedy() {\r\n  return (\r\n    <div>\r\n      administrar speedy\r\n    </div>\r\n  )\r\n}\r\n","import listaRutas from './listaRutas';\r\nimport gestionarAsistencia from './gestionarAsistencia';\r\nimport administrarOrdenes from './administrarOrdenes';\r\n\r\nconst rutasOperativa = [\r\n  ...listaRutas,\r\n  ...gestionarAsistencia,\r\n  ...administrarOrdenes\r\n];\r\n\r\nexport default rutasOperativa;","import perfilUsuario from './routes/perfilUsuario';\r\nimport dashboard from './routes/dashboard';\r\nimport sistemas from './routes/sistemas';\r\nimport gestionPersonal from './routes/gestionPersonal';\r\nimport operativa from './routes/operativa';\r\n\r\nconst arregloRutas = [\r\n  ...perfilUsuario,\r\n  ...dashboard,\r\n  ...sistemas,\r\n  ...gestionPersonal,\r\n  ...operativa\r\n]\r\n\r\nexport default arregloRutas;","import React from 'react';\r\nimport { Button, Result  } from 'antd';\r\n\r\nimport Contenedor from '../common/Contenedor';\r\nimport { rutas } from '../../constants/listaRutas';\r\n\r\n\r\nexport default function NotFound() {\r\n\r\n  return (\r\n    <Contenedor>\r\n      <Result\r\n        status=\"403\"\r\n        title=\"403\"\r\n        subTitle=\"Lo sentimos, no tienes autorizacion para entrar a esta página.\"\r\n        extra={<Button type=\"primary\" onClick={() => window.location.pathname = rutas.resumenGeneral}>Inicio</Button>}\r\n      />\r\n    </Contenedor>\r\n  )\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport NotFound from \"./NotFound\";\r\nimport UserContext from \"../../context/User/UserContext\";\r\n\r\nfunction PrivateRoute({ component: Component, path, ...rest }) {\r\n  const { views } = useContext(UserContext);\r\n\r\n  if (path && views && views.length > 0) {\r\n    if(views.includes(path)) {\r\n      return (<Route path={path} {...rest} render={props => (<Component {...props}/>)}/>)\r\n    } else {\r\n      return (<Route path={path} {...rest} render={() => (<NotFound/>)}/>)\r\n    }\r\n  } else {\r\n    return null\r\n  };\r\n};\r\n\r\nPrivateRoute.propTypes = {\r\n  component: PropTypes.func,\r\n  path: PropTypes.string\r\n};\r\n\r\nexport default PrivateRoute;","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport { ConfigProvider } from 'antd';\r\nimport 'moment/locale/es-mx';\r\nimport es_ES from 'antd/es/locale/es_ES';\r\n\r\nimport './App.css';\r\nimport { rutas } from './constants/listaRutas';\r\nimport Index from './views/Index';\r\nimport Login from './views/Login';\r\nimport UserState from \"./context/User/UserState\";\r\nimport Layout from './components/layout';\r\nimport routes from './routes';\r\nimport PrivateRoute from './components/layout/PrivateRoute';\r\n\r\nexport default function App() {\r\n  return (\r\n    <ConfigProvider locale={es_ES}>\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Index} />\r\n          <Route exact path={rutas.login} component={Login}/>\r\n          <UserState>\r\n            <Layout>\r\n            {routes.map((route, index) => (\r\n                <PrivateRoute \r\n                  key={index}\r\n                  path={route.path}\r\n                  exact={route.exact}\r\n                  component={\r\n                    props => (<route.component {...props}/>)\r\n                  }\r\n                />\r\n              )\r\n            )}\r\n            </Layout>\r\n          </UserState>\r\n        </Switch>\r\n      </Router>\r\n    </ConfigProvider>\r\n  );\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  console.log(process.env.NODE_ENV === 'production');\r\n  console.log('serviceWorker' in navigator);\r\n  console.log(isLocalhost);\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              registration.update();\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\n// import reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  // <React.StrictMode>\r\n    <App />\r\n  //</React.StrictMode>\r\n  , document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\nserviceWorkerRegistration.register();\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals(console.log);\r\n"],"sourceRoot":""}